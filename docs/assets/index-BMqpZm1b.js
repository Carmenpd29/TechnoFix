var n3=Object.defineProperty;var i3=(t,e,r)=>e in t?n3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Sr=(t,e,r)=>i3(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var XN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function a3(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}),r}var c1={exports:{}},lf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v5;function o3(){if(v5)return lf;v5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(i,o,s){var c=null;if(s!==void 0&&(c=""+s),o.key!==void 0&&(c=""+o.key),"key"in o){s={};for(var d in o)d!=="key"&&(s[d]=o[d])}else s=o;return o=s.ref,{$$typeof:t,type:i,key:c,ref:o!==void 0?o:null,props:s}}return lf.Fragment=e,lf.jsx=r,lf.jsxs=r,lf}var b5;function s3(){return b5||(b5=1,c1.exports=o3()),c1.exports}var p=s3(),u1={exports:{}},qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y5;function l3(){if(y5)return qt;y5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,C={};function N(O,ie,L){this.props=O,this.context=ie,this.refs=C,this.updater=L||b}N.prototype.isReactComponent={},N.prototype.setState=function(O,ie){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ie,"setState")},N.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=N.prototype;function R(O,ie,L){this.props=O,this.context=ie,this.refs=C,this.updater=L||b}var B=R.prototype=new E;B.constructor=R,j(B,N.prototype),B.isPureReactComponent=!0;var z=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function J(O,ie,L,H,Y,$){return L=$.ref,{$$typeof:t,type:O,key:ie,ref:L!==void 0?L:null,props:$}}function se(O,ie){return J(O.type,ie,void 0,void 0,void 0,O.props)}function U(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function te(O){var ie={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(L){return ie[L]})}var M=/\/+/g;function W(O,ie){return typeof O=="object"&&O!==null&&O.key!=null?te(""+O.key):ie.toString(36)}function oe(){}function ae(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(oe,oe):(O.status="pending",O.then(function(ie){O.status==="pending"&&(O.status="fulfilled",O.value=ie)},function(ie){O.status==="pending"&&(O.status="rejected",O.reason=ie)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function be(O,ie,L,H,Y){var $=typeof O;($==="undefined"||$==="boolean")&&(O=null);var re=!1;if(O===null)re=!0;else switch($){case"bigint":case"string":case"number":re=!0;break;case"object":switch(O.$$typeof){case t:case e:re=!0;break;case g:return re=O._init,be(re(O._payload),ie,L,H,Y)}}if(re)return Y=Y(O),re=H===""?"."+W(O,0):H,z(Y)?(L="",re!=null&&(L=re.replace(M,"$&/")+"/"),be(Y,ie,L,"",function(Ae){return Ae})):Y!=null&&(U(Y)&&(Y=se(Y,L+(Y.key==null||O&&O.key===Y.key?"":(""+Y.key).replace(M,"$&/")+"/")+re)),ie.push(Y)),1;re=0;var ve=H===""?".":H+":";if(z(O))for(var xe=0;xe<O.length;xe++)H=O[xe],$=ve+W(H,xe),re+=be(H,ie,L,$,Y);else if(xe=S(O),typeof xe=="function")for(O=xe.call(O),xe=0;!(H=O.next()).done;)H=H.value,$=ve+W(H,xe++),re+=be(H,ie,L,$,Y);else if($==="object"){if(typeof O.then=="function")return be(ae(O),ie,L,H,Y);throw ie=String(O),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return re}function ne(O,ie,L){if(O==null)return O;var H=[],Y=0;return be(O,H,"","",function($){return ie.call(L,$,Y++)}),H}function he(O){if(O._status===-1){var ie=O._result;ie=ie(),ie.then(function(L){(O._status===0||O._status===-1)&&(O._status=1,O._result=L)},function(L){(O._status===0||O._status===-1)&&(O._status=2,O._result=L)}),O._status===-1&&(O._status=0,O._result=ie)}if(O._status===1)return O._result.default;throw O._result}var ce=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function je(){}return qt.Children={map:ne,forEach:function(O,ie,L){ne(O,function(){ie.apply(this,arguments)},L)},count:function(O){var ie=0;return ne(O,function(){ie++}),ie},toArray:function(O){return ne(O,function(ie){return ie})||[]},only:function(O){if(!U(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},qt.Component=N,qt.Fragment=r,qt.Profiler=o,qt.PureComponent=R,qt.StrictMode=i,qt.Suspense=f,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,qt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return Q.H.useMemoCache(O)}},qt.cache=function(O){return function(){return O.apply(null,arguments)}},qt.cloneElement=function(O,ie,L){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var H=j({},O.props),Y=O.key,$=void 0;if(ie!=null)for(re in ie.ref!==void 0&&($=void 0),ie.key!==void 0&&(Y=""+ie.key),ie)!ue.call(ie,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&ie.ref===void 0||(H[re]=ie[re]);var re=arguments.length-2;if(re===1)H.children=L;else if(1<re){for(var ve=Array(re),xe=0;xe<re;xe++)ve[xe]=arguments[xe+2];H.children=ve}return J(O.type,Y,void 0,void 0,$,H)},qt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:s,_context:O},O},qt.createElement=function(O,ie,L){var H,Y={},$=null;if(ie!=null)for(H in ie.key!==void 0&&($=""+ie.key),ie)ue.call(ie,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(Y[H]=ie[H]);var re=arguments.length-2;if(re===1)Y.children=L;else if(1<re){for(var ve=Array(re),xe=0;xe<re;xe++)ve[xe]=arguments[xe+2];Y.children=ve}if(O&&O.defaultProps)for(H in re=O.defaultProps,re)Y[H]===void 0&&(Y[H]=re[H]);return J(O,$,void 0,void 0,null,Y)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(O){return{$$typeof:d,render:O}},qt.isValidElement=U,qt.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:he}},qt.memo=function(O,ie){return{$$typeof:h,type:O,compare:ie===void 0?null:ie}},qt.startTransition=function(O){var ie=Q.T,L={};Q.T=L;try{var H=O(),Y=Q.S;Y!==null&&Y(L,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(je,ce)}catch($){ce($)}finally{Q.T=ie}},qt.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},qt.use=function(O){return Q.H.use(O)},qt.useActionState=function(O,ie,L){return Q.H.useActionState(O,ie,L)},qt.useCallback=function(O,ie){return Q.H.useCallback(O,ie)},qt.useContext=function(O){return Q.H.useContext(O)},qt.useDebugValue=function(){},qt.useDeferredValue=function(O,ie){return Q.H.useDeferredValue(O,ie)},qt.useEffect=function(O,ie,L){var H=Q.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(O,ie)},qt.useId=function(){return Q.H.useId()},qt.useImperativeHandle=function(O,ie,L){return Q.H.useImperativeHandle(O,ie,L)},qt.useInsertionEffect=function(O,ie){return Q.H.useInsertionEffect(O,ie)},qt.useLayoutEffect=function(O,ie){return Q.H.useLayoutEffect(O,ie)},qt.useMemo=function(O,ie){return Q.H.useMemo(O,ie)},qt.useOptimistic=function(O,ie){return Q.H.useOptimistic(O,ie)},qt.useReducer=function(O,ie,L){return Q.H.useReducer(O,ie,L)},qt.useRef=function(O){return Q.H.useRef(O)},qt.useState=function(O){return Q.H.useState(O)},qt.useSyncExternalStore=function(O,ie,L){return Q.H.useSyncExternalStore(O,ie,L)},qt.useTransition=function(){return Q.H.useTransition()},qt.version="19.1.0",qt}var x5;function Wg(){return x5||(x5=1,u1.exports=l3()),u1.exports}var K=Wg();const cn=xy(K);var d1={exports:{}},cf={},f1={exports:{}},h1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w5;function c3(){return w5||(w5=1,function(t){function e(ne,he){var ce=ne.length;ne.push(he);e:for(;0<ce;){var je=ce-1>>>1,O=ne[je];if(0<o(O,he))ne[je]=he,ne[ce]=O,ce=je;else break e}}function r(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var he=ne[0],ce=ne.pop();if(ce!==he){ne[0]=ce;e:for(var je=0,O=ne.length,ie=O>>>1;je<ie;){var L=2*(je+1)-1,H=ne[L],Y=L+1,$=ne[Y];if(0>o(H,ce))Y<O&&0>o($,H)?(ne[je]=$,ne[Y]=ce,je=Y):(ne[je]=H,ne[L]=ce,je=L);else if(Y<O&&0>o($,ce))ne[je]=$,ne[Y]=ce,je=Y;else break e}}return he}function o(ne,he){var ce=ne.sortIndex-he.sortIndex;return ce!==0?ce:ne.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],h=[],g=1,w=null,S=3,b=!1,j=!1,C=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function z(ne){for(var he=r(h);he!==null;){if(he.callback===null)i(h);else if(he.startTime<=ne)i(h),he.sortIndex=he.expirationTime,e(f,he);else break;he=r(h)}}function Q(ne){if(C=!1,z(ne),!j)if(r(f)!==null)j=!0,ue||(ue=!0,W());else{var he=r(h);he!==null&&be(Q,he.startTime-ne)}}var ue=!1,J=-1,se=5,U=-1;function te(){return N?!0:!(t.unstable_now()-U<se)}function M(){if(N=!1,ue){var ne=t.unstable_now();U=ne;var he=!0;try{e:{j=!1,C&&(C=!1,R(J),J=-1),b=!0;var ce=S;try{t:{for(z(ne),w=r(f);w!==null&&!(w.expirationTime>ne&&te());){var je=w.callback;if(typeof je=="function"){w.callback=null,S=w.priorityLevel;var O=je(w.expirationTime<=ne);if(ne=t.unstable_now(),typeof O=="function"){w.callback=O,z(ne),he=!0;break t}w===r(f)&&i(f),z(ne)}else i(f);w=r(f)}if(w!==null)he=!0;else{var ie=r(h);ie!==null&&be(Q,ie.startTime-ne),he=!1}}break e}finally{w=null,S=ce,b=!1}he=void 0}}finally{he?W():ue=!1}}}var W;if(typeof B=="function")W=function(){B(M)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ae=oe.port2;oe.port1.onmessage=M,W=function(){ae.postMessage(null)}}else W=function(){E(M,0)};function be(ne,he){J=E(function(){ne(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(ne){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var ce=S;S=he;try{return ne()}finally{S=ce}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(ne,he){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ce=S;S=ne;try{return he()}finally{S=ce}},t.unstable_scheduleCallback=function(ne,he,ce){var je=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?je+ce:je):ce=je,ne){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ce+O,ne={id:g++,callback:he,priorityLevel:ne,startTime:ce,expirationTime:O,sortIndex:-1},ce>je?(ne.sortIndex=ce,e(h,ne),r(f)===null&&ne===r(h)&&(C?(R(J),J=-1):C=!0,be(Q,ce-je))):(ne.sortIndex=O,e(f,ne),j||b||(j=!0,ue||(ue=!0,W()))),ne},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(ne){var he=S;return function(){var ce=S;S=he;try{return ne.apply(this,arguments)}finally{S=ce}}}}(h1)),h1}var S5;function u3(){return S5||(S5=1,f1.exports=c3()),f1.exports}var p1={exports:{}},xi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _5;function d3(){if(_5)return xi;_5=1;var t=Wg();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(f,h,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:f,containerInfo:h,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return xi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,xi.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,g)},xi.flushSync=function(f){var h=c.T,g=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=h,i.p=g,i.d.f()}},xi.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},xi.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},xi.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,w=d(g,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:b}):g==="script"&&i.d.X(f,{crossOrigin:w,integrity:S,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},xi.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},xi.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,w=d(g,h.crossOrigin);i.d.L(f,g,{crossOrigin:w,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},xi.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=d(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},xi.requestFormReset=function(f){i.d.r(f)},xi.unstable_batchedUpdates=function(f,h){return f(h)},xi.useFormState=function(f,h,g){return c.H.useFormState(f,h,g)},xi.useFormStatus=function(){return c.H.useHostTransitionStatus()},xi.version="19.1.0",xi}var j5;function f3(){if(j5)return p1.exports;j5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),p1.exports=d3(),p1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A5;function h3(){if(A5)return cf;A5=1;var t=u3(),e=Wg(),r=f3();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function s(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function d(n){if(s(n)!==n)throw Error(i(188))}function f(n){var a=n.alternate;if(!a){if(a=s(n),a===null)throw Error(i(188));return a!==n?null:n}for(var l=n,u=a;;){var v=l.return;if(v===null)break;var x=v.alternate;if(x===null){if(u=v.return,u!==null){l=u;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===l)return d(v),n;if(x===u)return d(v),a;x=x.sibling}throw Error(i(188))}if(l.return!==u.return)l=v,u=x;else{for(var T=!1,q=v.child;q;){if(q===l){T=!0,l=v,u=x;break}if(q===u){T=!0,u=v,l=x;break}q=q.sibling}if(!T){for(q=x.child;q;){if(q===l){T=!0,l=x,u=v;break}if(q===u){T=!0,u=x,l=v;break}q=q.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:a}function h(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=h(n),a!==null)return a;n=n.sibling}return null}var g=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),B=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function W(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Symbol.for("react.client.reference");function ae(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===oe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case N:return"Profiler";case C:return"StrictMode";case Q:return"Suspense";case ue:return"SuspenseList";case U:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case B:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case z:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case J:return a=n.displayName||null,a!==null?a:ae(n.type)||"Memo";case se:a=n._payload,n=n._init;try{return ae(n(a))}catch{}}return null}var be=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},je=[],O=-1;function ie(n){return{current:n}}function L(n){0>O||(n.current=je[O],je[O]=null,O--)}function H(n,a){O++,je[O]=n.current,n.current=a}var Y=ie(null),$=ie(null),re=ie(null),ve=ie(null);function xe(n,a){switch(H(re,a),H($,n),H(Y,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?W2(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=W2(a),n=G2(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}L(Y),H(Y,n)}function Ae(){L(Y),L($),L(re)}function Pe(n){n.memoizedState!==null&&H(ve,n);var a=Y.current,l=G2(a,n.type);a!==l&&(H($,n),H(Y,l))}function qe(n){$.current===n&&(L(Y),L($)),ve.current===n&&(L(ve),rf._currentValue=ce)}var Ge=Object.prototype.hasOwnProperty,Ke=t.unstable_scheduleCallback,Re=t.unstable_cancelCallback,le=t.unstable_shouldYield,Gt=t.unstable_requestPaint,gt=t.unstable_now,pt=t.unstable_getCurrentPriorityLevel,We=t.unstable_ImmediatePriority,lt=t.unstable_UserBlockingPriority,Ye=t.unstable_NormalPriority,Mt=t.unstable_LowPriority,ut=t.unstable_IdlePriority,lr=t.log,zt=t.unstable_setDisableYieldValue,St=null,Ft=null;function vt(n){if(typeof lr=="function"&&zt(n),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(St,n)}catch{}}var Ze=Math.clz32?Math.clz32:jr,_t=Math.log,dt=Math.LN2;function jr(n){return n>>>=0,n===0?32:31-(_t(n)/dt|0)|0}var er=256,at=4194304;function bt(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function hr(n,a,l){var u=n.pendingLanes;if(u===0)return 0;var v=0,x=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var q=u&134217727;return q!==0?(u=q&~x,u!==0?v=bt(u):(T&=q,T!==0?v=bt(T):l||(l=q&~n,l!==0&&(v=bt(l))))):(q=u&~x,q!==0?v=bt(q):T!==0?v=bt(T):l||(l=u&~n,l!==0&&(v=bt(l)))),v===0?0:a!==0&&a!==v&&(a&x)===0&&(x=v&-v,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:v}function ht(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Xt(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rt(){var n=er;return er<<=1,(er&4194048)===0&&(er=256),n}function Wr(){var n=at;return at<<=1,(at&62914560)===0&&(at=4194304),n}function rn(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function cr(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Nt(n,a,l,u,v,x){var T=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var q=n.entanglements,de=n.expirationTimes,Ne=n.hiddenUpdates;for(l=T&~l;0<l;){var Be=31-Ze(l),Fe=1<<Be;q[Be]=0,de[Be]=-1;var Le=Ne[Be];if(Le!==null)for(Ne[Be]=null,Be=0;Be<Le.length;Be++){var Te=Le[Be];Te!==null&&(Te.lane&=-536870913)}l&=~Fe}u!==0&&ur(n,u,0),x!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=x&~(T&~a))}function ur(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-Ze(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|l&4194090}function So(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var u=31-Ze(l),v=1<<u;v&a|n[u]&a&&(n[u]|=a),l&=~v}}function kn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Xi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Zi(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:d5(n.type))}function mt(n,a){var l=he.p;try{return he.p=n,a()}finally{he.p=l}}var Wn=Math.random().toString(36).slice(2),zr="__reactFiber$"+Wn,Lr="__reactProps$"+Wn,Dn="__reactContainer$"+Wn,Mr="__reactEvents$"+Wn,En="__reactListeners$"+Wn,zn="__reactHandles$"+Wn,_o="__reactResources$"+Wn,zi="__reactMarker$"+Wn;function Ci(n){delete n[zr],delete n[Lr],delete n[Mr],delete n[En],delete n[zn]}function ii(n){var a=n[zr];if(a)return a;for(var l=n.parentNode;l;){if(a=l[Dn]||l[zr]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=X2(n);n!==null;){if(l=n[zr])return l;n=X2(n)}return a}n=l,l=n.parentNode}return null}function Gn(n){if(n=n[zr]||n[Dn]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function ai(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function Mn(n){var a=n[_o];return a||(a=n[_o]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Br(n){n[zi]=!0}var Ji=new Set,jo={};function Mi(n,a){Qi(n,a),Qi(n+"Capture",a)}function Qi(n,a){for(jo[n]=a,n=0;n<a.length;n++)Ji.add(a[n])}var qs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ic={},Hs={};function Uc(n){return Ge.call(Hs,n)?!0:Ge.call(Ic,n)?!1:qs.test(n)?Hs[n]=!0:(Ic[n]=!0,!1)}function rs(n,a,l){if(Uc(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function oi(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function ki(n,a,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+u)}}var $s,Ws;function Ua(n){if($s===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);$s=a&&a[1]||"",Ws=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$s+n+Ws}var Gs=!1;function Vs(n,a){if(!n||Gs)return"";Gs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var Fe=function(){throw Error()};if(Object.defineProperty(Fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Fe,[])}catch(Te){var Le=Te}Reflect.construct(n,[],Fe)}else{try{Fe.call()}catch(Te){Le=Te}n.call(Fe.prototype)}}else{try{throw Error()}catch(Te){Le=Te}(Fe=n())&&typeof Fe.catch=="function"&&Fe.catch(function(){})}}catch(Te){if(Te&&Le&&typeof Te.stack=="string")return[Te.stack,Le.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),T=x[0],q=x[1];if(T&&q){var de=T.split(`
`),Ne=q.split(`
`);for(v=u=0;u<de.length&&!de[u].includes("DetermineComponentFrameRoot");)u++;for(;v<Ne.length&&!Ne[v].includes("DetermineComponentFrameRoot");)v++;if(u===de.length||v===Ne.length)for(u=de.length-1,v=Ne.length-1;1<=u&&0<=v&&de[u]!==Ne[v];)v--;for(;1<=u&&0<=v;u--,v--)if(de[u]!==Ne[v]){if(u!==1||v!==1)do if(u--,v--,0>v||de[u]!==Ne[v]){var Be=`
`+de[u].replace(" at new "," at ");return n.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",n.displayName)),Be}while(1<=u&&0<=v);break}}}finally{Gs=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Ua(l):""}function Ys(n){switch(n.tag){case 26:case 27:case 5:return Ua(n.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 15:return Vs(n.type,!1);case 11:return Vs(n.type.render,!1);case 1:return Vs(n.type,!0);case 31:return Ua("Activity");default:return""}}function Fc(n){try{var a="";do a+=Ys(n),n=n.return;while(n);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function dr(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $l(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qc(n){var a=$l(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),u=""+n[a];if(!n.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,x=l.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return v.call(this)},set:function(T){u=""+T,x.call(this,T)}}),Object.defineProperty(n,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Bi(n){n._valueTracker||(n._valueTracker=qc(n))}function Ao(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return n&&(u=$l(n)?n.checked?"true":"false":n.value),n=u,n!==l?(a.setValue(n),!0):!1}function mi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ns=/[\n"\\]/g;function ir(n){return n.replace(ns,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function is(n,a,l,u,v,x,T,q){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),a!=null?T==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+dr(a)):n.value!==""+dr(a)&&(n.value=""+dr(a)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),a!=null?Wl(n,T,dr(a)):l!=null?Wl(n,T,dr(l)):u!=null&&n.removeAttribute("value"),v==null&&x!=null&&(n.defaultChecked=!!x),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?n.name=""+dr(q):n.removeAttribute("name")}function Hc(n,a,l,u,v,x,T,q){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null))return;l=l!=null?""+dr(l):"",a=a!=null?""+dr(a):l,q||a===n.value||(n.value=a),n.defaultValue=a}u=u??v,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=q?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Wl(n,a,l){a==="number"&&mi(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Co(n,a,l,u){if(n=n.options,a){a={};for(var v=0;v<l.length;v++)a["$"+l[v]]=!0;for(l=0;l<n.length;l++)v=a.hasOwnProperty("$"+n[l].value),n[l].selected!==v&&(n[l].selected=v),v&&u&&(n[l].defaultSelected=!0)}else{for(l=""+dr(l),a=null,v=0;v<n.length;v++){if(n[v].value===l){n[v].selected=!0,u&&(n[v].defaultSelected=!0);return}a!==null||n[v].disabled||(a=n[v])}a!==null&&(a.selected=!0)}}function ea(n,a,l){if(a!=null&&(a=""+dr(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+dr(l):""}function Gl(n,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(be(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=dr(a),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u)}function Fa(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ks(n,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,l):typeof l!="number"||l===0||ko.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function $c(n,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var v in a)u=a[v],a.hasOwnProperty(v)&&l[v]!==u&&Ks(n,v,u)}else for(var x in a)a.hasOwnProperty(x)&&Ks(n,x,a[x])}function Vl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(n){return Yl.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var va=null;function Kl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ii=null,ba=null;function At(n){var a=Gn(n);if(a&&(n=a.stateNode)){var l=n[Lr]||null;e:switch(n=a.stateNode,a.type){case"input":if(is(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ir(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==n&&u.form===n.form){var v=u[Lr]||null;if(!v)throw Error(i(90));is(u,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===n.form&&Ao(u)}break e;case"textarea":ea(n,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Co(n,!!l.multiple,a,!1)}}}var Xl=!1;function Wc(n,a,l){if(Xl)return n(a,l);Xl=!0;try{var u=n(a);return u}finally{if(Xl=!1,(Ii!==null||ba!==null)&&(mh(),Ii&&(a=Ii,n=ba,ba=Ii=null,At(a),n)))for(a=0;a<n.length;a++)At(n[a])}}function as(n,a){var l=n.stateNode;if(l===null)return null;var u=l[Lr]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(ta)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){ra=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{ra=!1}var ya=null,Zl=null,qa=null;function Xs(){if(qa)return qa;var n,a=Zl,l=a.length,u,v="value"in ya?ya.value:ya.textContent,x=v.length;for(n=0;n<l&&a[n]===v[n];n++);var T=l-n;for(u=1;u<=T&&a[l-u]===v[x-u];u++);return qa=v.slice(n,1<u?1-u:void 0)}function xa(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Ha(){return!0}function os(){return!1}function Vn(n){function a(l,u,v,x,T){this._reactName=l,this._targetInst=v,this.type=u,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var q in n)n.hasOwnProperty(q)&&(l=n[q],this[q]=l?l(x):x[q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ha:os,this.isPropagationStopped=os,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),a}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=Vn(na),ia=g({},na,{view:0,detail:0}),ss=Vn(ia),ls,No,$a,wa=g({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qe,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$a&&($a&&n.type==="mousemove"?(ls=n.screenX-$a.screenX,No=n.screenY-$a.screenY):No=ls=0,$a=n),ls)},movementY:function(n){return"movementY"in n?n.movementY:No}}),Jl=Vn(wa),Gc=g({},wa,{dataTransfer:0}),Wa=Vn(Gc),Ga=g({},ia,{relatedTarget:0}),Zs=Vn(Ga),Vc=g({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),cs=Vn(Vc),Yc=g({},na,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_=Vn(Yc),P=g({},na,{data:0}),ee=Vn(P),pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Se={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Me={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function He(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Me[n])?!!a[n]:!1}function Qe(){return He}var st=g({},ia,{key:function(n){if(n.key){var a=pe[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=xa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Se[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qe,charCode:function(n){return n.type==="keypress"?xa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?xa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ct=Vn(st),Pt=g({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ar=Vn(Pt),Fr=g({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qe}),un=Vn(Fr),Ar=g({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),mn=Vn(Ar),dn=g({},wa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=Vn(dn),Ui=g({},na,{newState:0,oldState:0}),vi=Vn(Ui),Kc=[9,13,27,32],Lo=ta&&"CompositionEvent"in window,aa=null;ta&&"documentMode"in document&&(aa=document.documentMode);var To=ta&&"TextEvent"in window&&!aa,Oo=ta&&(!Lo||aa&&8<aa&&11>=aa),Ro=" ",Po=!1;function In(n,a){switch(n){case"keyup":return Kc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Do(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fi=!1;function Ql(n,a){switch(n){case"compositionend":return Do(a);case"keypress":return a.which!==32?null:(Po=!0,Ro);case"textInput":return n=a.data,n===Ro&&Po?null:n;default:return null}}function ec(n,a){if(Fi)return n==="compositionend"||!Lo&&In(n,a)?(n=Xs(),qa=Zl=ya=null,Fi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Oo&&a.locale!=="ko"?null:a.data;default:return null}}var Gr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sa(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Gr[n.type]:a==="textarea"}function us(n,a,l,u){Ii?ba?ba.push(u):ba=[u]:Ii=u,a=Sh(a,"onChange"),0<a.length&&(l=new Eo("onChange","change",null,l,u),n.push({event:l,listeners:a}))}var zo=null,Yn=null;function ds(n){U2(n,0)}function Mo(n){var a=ai(n);if(Ao(a))return n}function Js(n,a){if(n==="change")return a}var Va=!1;if(ta){var Ya;if(ta){var si="oninput"in document;if(!si){var bi=document.createElement("div");bi.setAttribute("oninput","return;"),si=typeof bi.oninput=="function"}Ya=si}else Ya=!1;Va=Ya&&(!document.documentMode||9<document.documentMode)}function Ka(){zo&&(zo.detachEvent("onpropertychange",_a),Yn=zo=null)}function _a(n){if(n.propertyName==="value"&&Mo(Yn)){var a=[];us(a,Yn,n,Kl(n)),Wc(ds,a)}}function Bo(n,a,l){n==="focusin"?(Ka(),zo=a,Yn=l,zo.attachEvent("onpropertychange",_a)):n==="focusout"&&Ka()}function tc(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Mo(Yn)}function Qs(n,a){if(n==="click")return Mo(a)}function nn(n,a){if(n==="input"||n==="change")return Mo(a)}function Xc(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Vr=typeof Object.is=="function"?Object.is:Xc;function yi(n,a){if(Vr(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var v=l[u];if(!Ge.call(a,v)||!Vr(n[v],a[v]))return!1}return!0}function el(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function tl(n,a){var l=el(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=a&&u>=a)return{node:l,offset:a-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=el(l)}}function rl(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?rl(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function nl(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=mi(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=mi(n.document)}return a}function ja(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var Io=ta&&"documentMode"in document&&11>=document.documentMode,Ni=null,Xa=null,qi=null,Za=!1;function Li(n,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Za||Ni==null||Ni!==mi(u)||(u=Ni,"selectionStart"in u&&ja(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),qi&&yi(qi,u)||(qi=u,u=Sh(Xa,"onSelect"),0<u.length&&(a=new Eo("onSelect","select",null,a,l),n.push({event:a,listeners:u}),a.target=Ni)))}function Kn(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var Zt={animationend:Kn("Animation","AnimationEnd"),animationiteration:Kn("Animation","AnimationIteration"),animationstart:Kn("Animation","AnimationStart"),transitionrun:Kn("Transition","TransitionRun"),transitionstart:Kn("Transition","TransitionStart"),transitioncancel:Kn("Transition","TransitionCancel"),transitionend:Kn("Transition","TransitionEnd")},gr={},Yr={};ta&&(Yr=document.createElement("div").style,"AnimationEvent"in window||(delete Zt.animationend.animation,delete Zt.animationiteration.animation,delete Zt.animationstart.animation),"TransitionEvent"in window||delete Zt.transitionend.transition);function Tr(n){if(gr[n])return gr[n];if(!Zt[n])return n;var a=Zt[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in Yr)return gr[n]=a[l];return n}var Aa=Tr("animationend"),il=Tr("animationiteration"),fs=Tr("animationstart"),Zc=Tr("transitionrun"),Bf=Tr("transitionstart"),If=Tr("transitioncancel"),Sd=Tr("transitionend"),_d=new Map,Jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jc.push("scrollEnd");function Hi(n,a){_d.set(n,a),Mi(a,[n])}var al=new WeakMap;function Ti(n,a){if(typeof n=="object"&&n!==null){var l=al.get(n);return l!==void 0?l:(a={value:n,source:a,stack:Fc(a)},al.set(n,a),a)}return{value:n,source:a,stack:Fc(a)}}var Oi=[],hs=0,Qc=0;function rc(){for(var n=hs,a=Qc=hs=0;a<n;){var l=Oi[a];Oi[a++]=null;var u=Oi[a];Oi[a++]=null;var v=Oi[a];Oi[a++]=null;var x=Oi[a];if(Oi[a++]=null,u!==null&&v!==null){var T=u.pending;T===null?v.next=v:(v.next=T.next,T.next=v),u.pending=v}x!==0&&tu(l,v,x)}}function nc(n,a,l,u){Oi[hs++]=n,Oi[hs++]=a,Oi[hs++]=l,Oi[hs++]=u,Qc|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function eu(n,a,l,u){return nc(n,a,l,u),gs(n)}function ps(n,a){return nc(n,null,null,a),gs(n)}function tu(n,a,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var v=!1,x=n.return;x!==null;)x.childLanes|=l,u=x.alternate,u!==null&&(u.childLanes|=l),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(v=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,v&&a!==null&&(v=31-Ze(l),n=x.hiddenUpdates,u=n[v],u===null?n[v]=[a]:u.push(a),a.lane=l|536870912),x):null}function gs(n){if(50<Yd)throw Yd=0,Rp=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Nn={};function $i(n,a,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(n,a,l,u){return new $i(n,a,l,u)}function ol(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ca(n,a){var l=n.alternate;return l===null?(l=Xn(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function ic(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function ms(n,a,l,u,v,x){var T=0;if(u=n,typeof n=="function")ol(n)&&(T=1);else if(typeof n=="string")T=$4(n,l,Y.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case U:return n=Xn(31,l,a,v),n.elementType=U,n.lanes=x,n;case j:return Ja(l.children,v,x,a);case C:T=8,v|=24;break;case N:return n=Xn(12,l,a,v|2),n.elementType=N,n.lanes=x,n;case Q:return n=Xn(13,l,a,v),n.elementType=Q,n.lanes=x,n;case ue:return n=Xn(19,l,a,v),n.elementType=ue,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:case B:T=10;break e;case R:T=9;break e;case z:T=11;break e;case J:T=14;break e;case se:T=16,u=null;break e}T=29,l=Error(i(130,n===null?"null":typeof n,"")),u=null}return a=Xn(T,l,a,v),a.elementType=n,a.type=u,a.lanes=x,a}function Ja(n,a,l,u){return n=Xn(7,n,u,a),n.lanes=l,n}function ru(n,a,l){return n=Xn(6,n,null,a),n.lanes=l,n}function ac(n,a,l){return a=Xn(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var Uo=[],Qa=0,sl=null,nu=0,Wi=[],Ri=0,vs=null,eo=1,to="";function bs(n,a){Uo[Qa++]=nu,Uo[Qa++]=sl,sl=n,nu=a}function Uf(n,a,l){Wi[Ri++]=eo,Wi[Ri++]=to,Wi[Ri++]=vs,vs=n;var u=eo;n=to;var v=32-Ze(u)-1;u&=~(1<<v),l+=1;var x=32-Ze(a)+v;if(30<x){var T=v-v%5;x=(u&(1<<T)-1).toString(32),u>>=T,v-=T,eo=1<<32-Ze(a)+v|l<<v|u,to=x+n}else eo=1<<x|l<<v|u,to=n}function oc(n){n.return!==null&&(bs(n,1),Uf(n,1,0))}function sc(n){for(;n===sl;)sl=Uo[--Qa],Uo[Qa]=null,nu=Uo[--Qa],Uo[Qa]=null;for(;n===vs;)vs=Wi[--Ri],Wi[Ri]=null,to=Wi[--Ri],Wi[Ri]=null,eo=Wi[--Ri],Wi[Ri]=null}var vn=null,Kr=null,fr=!1,Fo=null,ka=!1,jd=Error(i(519));function ys(n){var a=Error(i(418,""));throw ll(Ti(a,n)),jd}function Ff(n){var a=n.stateNode,l=n.type,u=n.memoizedProps;switch(a[zr]=n,a[Lr]=u,l){case"dialog":Qt("cancel",a),Qt("close",a);break;case"iframe":case"object":case"embed":Qt("load",a);break;case"video":case"audio":for(l=0;l<Xd.length;l++)Qt(Xd[l],a);break;case"source":Qt("error",a);break;case"img":case"image":case"link":Qt("error",a),Qt("load",a);break;case"details":Qt("toggle",a);break;case"input":Qt("invalid",a),Hc(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Bi(a);break;case"select":Qt("invalid",a);break;case"textarea":Qt("invalid",a),Gl(a,u.value,u.defaultValue,u.children),Bi(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||$2(a.textContent,l)?(u.popover!=null&&(Qt("beforetoggle",a),Qt("toggle",a)),u.onScroll!=null&&Qt("scroll",a),u.onScrollEnd!=null&&Qt("scrollend",a),u.onClick!=null&&(a.onclick=_h),a=!0):a=!1,a||ys(n)}function ro(n){for(vn=n.return;vn;)switch(vn.tag){case 5:case 13:ka=!1;return;case 27:case 3:ka=!0;return;default:vn=vn.return}}function li(n){if(n!==vn)return!1;if(!fr)return ro(n),fr=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Kp(n.type,n.memoizedProps)),l=!l),l&&Kr&&ys(n),ro(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(a===0){Kr=uo(n.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;n=n.nextSibling}Kr=null}}else a===27?(a=Kr,jl(n.type)?(n=Qp,Qp=null,Kr=n):Kr=a):Kr=vn?uo(n.stateNode.nextSibling):null;return!0}function Pi(){Kr=vn=null,fr=!1}function qf(){var n=Fo;return n!==null&&(Vi===null?Vi=n:Vi.push.apply(Vi,n),Fo=null),n}function ll(n){Fo===null?Fo=[n]:Fo.push(n)}var Ea=ie(null),Ln=null,no=null;function qo(n,a,l){H(Ea,a._currentValue),a._currentValue=l}function Na(n){n._currentValue=Ea.current,L(Ea)}function iu(n,a,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===l)break;n=n.return}}function au(n,a,l,u){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var x=v.dependencies;if(x!==null){var T=v.child;x=x.firstContext;e:for(;x!==null;){var q=x;x=v;for(var de=0;de<a.length;de++)if(q.context===a[de]){x.lanes|=l,q=x.alternate,q!==null&&(q.lanes|=l),iu(x.return,l,n),u||(T=null);break e}x=q.next}}else if(v.tag===18){if(T=v.return,T===null)throw Error(i(341));T.lanes|=l,x=T.alternate,x!==null&&(x.lanes|=l),iu(T,l,n),T=null}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===n){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}}function cl(n,a,l,u){n=null;for(var v=a,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var T=v.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var q=v.type;Vr(v.pendingProps.value,T.value)||(n!==null?n.push(q):n=[q])}}else if(v===ve.current){if(T=v.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(rf):n=[rf])}v=v.return}n!==null&&au(a,n,l,u),a.flags|=262144}function ou(n){for(n=n.firstContext;n!==null;){if(!Vr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function La(n){Ln=n,no=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function bn(n){return su(Ln,n)}function Ho(n,a){return Ln===null&&La(n),su(n,a)}function su(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},no===null){if(n===null)throw Error(i(308));no=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else no=no.next=a;return l}var ip=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},Hf=t.unstable_scheduleCallback,ap=t.unstable_NormalPriority,yn={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ad(){return{controller:new ip,data:new Map,refCount:0}}function lc(n){n.refCount--,n.refCount===0&&Hf(ap,function(){n.controller.abort()})}var cc=null,Cd=0,xs=0,io=null;function op(n,a){if(cc===null){var l=cc=[];Cd=0,xs=Up(),io={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Cd++,a.then($f,$f),a}function $f(){if(--Cd===0&&cc!==null){io!==null&&(io.status="fulfilled");var n=cc;cc=null,xs=0,io=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function Wf(n,a){var l=[],u={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var v=0;v<l.length;v++)(0,l[v])(a)},function(v){for(u.status="rejected",u.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),u}var m=ne.S;ne.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&op(n,a),m!==null&&m(n,a)};var y=ie(null);function A(){var n=y.current;return n!==null?n:Ir.pooledCache}function k(n,a){a===null?H(y,y.current):H(y,a.pool)}function D(){var n=A();return n===null?null:{parent:yn._currentValue,pool:n}}var I=Error(i(460)),F=Error(i(474)),G=Error(i(542)),V={then:function(){}};function Z(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ge(){}function Ee(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(ge,ge),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,_e(n),n;default:if(typeof a.status=="string")a.then(ge,ge);else{if(n=Ir,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=u}},function(u){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,_e(n),n}throw X=a,I}}var X=null;function ye(){if(X===null)throw Error(i(459));var n=X;return X=null,n}function _e(n){if(n===I||n===G)throw Error(i(483))}var Oe=!1;function ke(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ze(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function De(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function $e(n,a,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(xr&2)!==0){var v=u.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),u.pending=a,a=gs(n),tu(n,null,l),a}return nc(n,u,a,l),gs(n)}function Ue(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,So(n,l)}}function ot(n,a){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var v=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?v=x=T:x=x.next=T,l=l.next}while(l!==null);x===null?v=x=a:x=x.next=a}else v=x=a;l={baseState:u.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var Je=!1;function Lt(){if(Je){var n=io;if(n!==null)throw n}}function et(n,a,l,u){Je=!1;var v=n.updateQueue;Oe=!1;var x=v.firstBaseUpdate,T=v.lastBaseUpdate,q=v.shared.pending;if(q!==null){v.shared.pending=null;var de=q,Ne=de.next;de.next=null,T===null?x=Ne:T.next=Ne,T=de;var Be=n.alternate;Be!==null&&(Be=Be.updateQueue,q=Be.lastBaseUpdate,q!==T&&(q===null?Be.firstBaseUpdate=Ne:q.next=Ne,Be.lastBaseUpdate=de))}if(x!==null){var Fe=v.baseState;T=0,Be=Ne=de=null,q=x;do{var Le=q.lane&-536870913,Te=Le!==q.lane;if(Te?(sr&Le)===Le:(u&Le)===Le){Le!==0&&Le===xs&&(Je=!0),Be!==null&&(Be=Be.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Et=n,xt=q;Le=a;var Er=l;switch(xt.tag){case 1:if(Et=xt.payload,typeof Et=="function"){Fe=Et.call(Er,Fe,Le);break e}Fe=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=xt.payload,Le=typeof Et=="function"?Et.call(Er,Fe,Le):Et,Le==null)break e;Fe=g({},Fe,Le);break e;case 2:Oe=!0}}Le=q.callback,Le!==null&&(n.flags|=64,Te&&(n.flags|=8192),Te=v.callbacks,Te===null?v.callbacks=[Le]:Te.push(Le))}else Te={lane:Le,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Be===null?(Ne=Be=Te,de=Fe):Be=Be.next=Te,T|=Le;if(q=q.next,q===null){if(q=v.shared.pending,q===null)break;Te=q,q=Te.next,Te.next=null,v.lastBaseUpdate=Te,v.shared.pending=null}}while(!0);Be===null&&(de=Fe),v.baseState=de,v.firstBaseUpdate=Ne,v.lastBaseUpdate=Be,x===null&&(v.shared.lanes=0),xl|=T,n.lanes=T,n.memoizedState=Fe}}function Vt(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function fn(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Vt(l[n],a)}var kt=ie(null),tt=ie(0);function Ve(n,a){n=Es,H(tt,n),H(kt,a),Es=n|a.baseLanes}function qr(){H(tt,Es),H(kt,kt.current)}function Tt(){Es=tt.current,L(kt),L(tt)}var It=0,rt=null,Dt=null,tr=null,Or=!1,an=!1,on=!1,Xr=0,Wt=0,rr=null,Zr=0;function yt(){throw Error(i(321))}function xn(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!Vr(n[l],a[l]))return!1;return!0}function Di(n,a,l,u,v,x){return It=x,rt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ne.H=n===null||n.memoizedState===null?jm:Am,on=!1,x=l(u,v),on=!1,an&&(x=ci(a,l,u,v)),Jr(n),x}function Jr(n){ne.H=nh;var a=Dt!==null&&Dt.next!==null;if(It=0,tr=Dt=rt=null,Or=!1,Wt=0,rr=null,a)throw Error(i(300));n===null||Jn||(n=n.dependencies,n!==null&&ou(n)&&(Jn=!0))}function ci(n,a,l,u){rt=n;var v=0;do{if(an&&(rr=null),Wt=0,an=!1,25<=v)throw Error(i(301));if(v+=1,tr=Dt=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}ne.H=t4,x=a(l,u)}while(an);return x}function yr(){var n=ne.H,a=n.useState()[0];return a=typeof a.then=="function"?Fn(a):a,n=n.useState()[0],(Dt!==null?Dt.memoizedState:null)!==n&&(rt.flags|=1024),a}function sn(){var n=Xr!==0;return Xr=0,n}function ui(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function Un(n){if(Or){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Or=!1}It=0,tr=Dt=rt=null,an=!1,Wt=Xr=0,rr=null}function Cr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?rt.memoizedState=tr=n:tr=tr.next=n,tr}function or(){if(Dt===null){var n=rt.alternate;n=n!==null?n.memoizedState:null}else n=Dt.next;var a=tr===null?rt.memoizedState:tr.next;if(a!==null)tr=a,Dt=n;else{if(n===null)throw rt.alternate===null?Error(i(467)):Error(i(310));Dt=n,n={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},tr===null?rt.memoizedState=tr=n:tr=tr.next=n}return tr}function Zn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fn(n){var a=Wt;return Wt+=1,rr===null&&(rr=[]),n=Ee(rr,n,a),a=rt,(tr===null?a.memoizedState:tr.next)===null&&(a=a.alternate,ne.H=a===null||a.memoizedState===null?jm:Am),n}function mr(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Fn(n);if(n.$$typeof===B)return bn(n)}throw Error(i(438,String(n)))}function di(n){var a=null,l=rt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=rt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Zn(),rt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),u=0;u<n;u++)l[u]=te;return a.index++,l}function wn(n,a){return typeof a=="function"?a(n):a}function Ta(n){var a=or();return oa(a,Dt,n)}function oa(n,a,l){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var v=n.baseQueue,x=u.pending;if(x!==null){if(v!==null){var T=v.next;v.next=x.next,x.next=T}a.baseQueue=v=x,u.pending=null}if(x=n.baseState,v===null)n.memoizedState=x;else{a=v.next;var q=T=null,de=null,Ne=a,Be=!1;do{var Fe=Ne.lane&-536870913;if(Fe!==Ne.lane?(sr&Fe)===Fe:(It&Fe)===Fe){var Le=Ne.revertLane;if(Le===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),Fe===xs&&(Be=!0);else if((It&Le)===Le){Ne=Ne.next,Le===xs&&(Be=!0);continue}else Fe={lane:0,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},de===null?(q=de=Fe,T=x):de=de.next=Fe,rt.lanes|=Le,xl|=Le;Fe=Ne.action,on&&l(x,Fe),x=Ne.hasEagerState?Ne.eagerState:l(x,Fe)}else Le={lane:Fe,revertLane:Ne.revertLane,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},de===null?(q=de=Le,T=x):de=de.next=Le,rt.lanes|=Fe,xl|=Fe;Ne=Ne.next}while(Ne!==null&&Ne!==a);if(de===null?T=x:de.next=q,!Vr(x,n.memoizedState)&&(Jn=!0,Be&&(l=io,l!==null)))throw l;n.memoizedState=x,n.baseState=T,n.baseQueue=de,u.lastRenderedState=x}return v===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Sn(n){var a=or(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=l.dispatch,v=l.pending,x=a.memoizedState;if(v!==null){l.pending=null;var T=v=v.next;do x=n(x,T.action),T=T.next;while(T!==v);Vr(x,a.memoizedState)||(Jn=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,u]}function uc(n,a,l){var u=rt,v=or(),x=fr;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!Vr((Dt||v).memoizedState,l);T&&(v.memoizedState=l,Jn=!0),v=v.queue;var q=ul.bind(null,u,v,n);if(hl(2048,8,q,[n]),v.getSnapshot!==a||T||tr!==null&&tr.memoizedState.tag&1){if(u.flags|=2048,oo(9,pc(),dc.bind(null,u,v,l,a),null),Ir===null)throw Error(i(349));x||(It&124)!==0||lu(u,a,l)}return l}function lu(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=rt.updateQueue,a===null?(a=Zn(),rt.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function dc(n,a,l,u){a.value=l,a.getSnapshot=u,Gf(a)&&Vf(n)}function ul(n,a,l){return l(function(){Gf(a)&&Vf(n)})}function Gf(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!Vr(n,l)}catch{return!0}}function Vf(n){var a=ps(n,2);a!==null&&fa(a,n,2)}function fc(n){var a=Cr();if(typeof n=="function"){var l=n;if(n=l(),on){vt(!0);try{l()}finally{vt(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:n},a}function ao(n,a,l,u){return n.baseState=l,oa(n,Dt,typeof u=="function"?u:wn)}function sp(n,a,l,u,v){if(rh(n))throw Error(i(485));if(n=a.action,n!==null){var x={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){x.listeners.push(T)}};ne.T!==null?l(!0):x.isTransition=!1,u(x),l=a.pending,l===null?(x.next=a.pending=x,Yf(a,x)):(x.next=l.next,a.pending=l.next=x)}}function Yf(n,a){var l=a.action,u=a.payload,v=n.state;if(a.isTransition){var x=ne.T,T={};ne.T=T;try{var q=l(v,u),de=ne.S;de!==null&&de(T,q),Kf(n,a,q)}catch(Ne){dl(n,a,Ne)}finally{ne.T=x}}else try{x=l(v,u),Kf(n,a,x)}catch(Ne){dl(n,a,Ne)}}function Kf(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){kd(n,a,u)},function(u){return dl(n,a,u)}):kd(n,a,l)}function kd(n,a,l){a.status="fulfilled",a.value=l,Ed(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,Yf(n,l)))}function dl(n,a,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Ed(a),a=a.next;while(a!==u)}n.action=null}function Ed(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Nd(n,a){return a}function hc(n,a){if(fr){var l=Ir.formState;if(l!==null){e:{var u=rt;if(fr){if(Kr){t:{for(var v=Kr,x=ka;v.nodeType!==8;){if(!x){v=null;break t}if(v=uo(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Kr=uo(v.nextSibling),u=v.data==="F!";break e}}ys(u)}u=!1}u&&(a=l[0])}}return l=Cr(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nd,lastRenderedState:a},l.queue=u,l=wm.bind(null,rt,u),u.dispatch=l,u=fc(!1),x=lp.bind(null,rt,!1,u.queue),u=Cr(),v={state:a,dispatch:null,action:n,pending:null},u.queue=v,l=sp.bind(null,rt,v,x,l),v.dispatch=l,u.memoizedState=n,[a,l,!1]}function cu(n){var a=or();return fl(a,Dt,n)}function fl(n,a,l){if(a=oa(n,a,Nd)[0],n=Ta(wn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Fn(a)}catch(T){throw T===I?G:T}else u=a;a=or();var v=a.queue,x=v.dispatch;return l!==a.memoizedState&&(rt.flags|=2048,oo(9,pc(),Xf.bind(null,v,l),null)),[u,x,n]}function Xf(n,a){n.action=a}function Zf(n){var a=or(),l=Dt;if(l!==null)return fl(a,l,n);or(),a=a.memoizedState,l=or();var u=l.queue.dispatch;return l.memoizedState=n,[a,u,!1]}function oo(n,a,l,u){return n={tag:n,create:l,deps:u,inst:a,next:null},a=rt.updateQueue,a===null&&(a=Zn(),rt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,a.lastEffect=n),n}function pc(){return{destroy:void 0,resource:void 0}}function uu(){return or().memoizedState}function sa(n,a,l,u){var v=Cr();u=u===void 0?null:u,rt.flags|=n,v.memoizedState=oo(1|a,pc(),l,u)}function hl(n,a,l,u){var v=or();u=u===void 0?null:u;var x=v.memoizedState.inst;Dt!==null&&u!==null&&xn(u,Dt.memoizedState.deps)?v.memoizedState=oo(a,x,l,u):(rt.flags|=n,v.memoizedState=oo(1|a,x,l,u))}function Ld(n,a){sa(8390656,8,n,a)}function Jf(n,a){hl(2048,8,n,a)}function Td(n,a){return hl(4,2,n,a)}function ws(n,a){return hl(4,4,n,a)}function Qf(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Od(n,a,l){l=l!=null?l.concat([n]):null,hl(4,4,Qf.bind(null,a,n),l)}function Rd(){}function Pd(n,a){var l=or();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&xn(a,u[1])?u[0]:(l.memoizedState=[n,a],n)}function eh(n,a){var l=or();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&xn(a,u[1]))return u[0];if(u=n(),on){vt(!0);try{n()}finally{vt(!1)}}return l.memoizedState=[u,a],u}function Ss(n,a,l){return l===void 0||(It&1073741824)!==0?n.memoizedState=a:(n.memoizedState=l,n=v2(),rt.lanes|=n,xl|=n,l)}function du(n,a,l,u){return Vr(l,a)?l:kt.current!==null?(n=Ss(n,l,u),Vr(n,a)||(Jn=!0),n):(It&42)===0?(Jn=!0,n.memoizedState=l):(n=v2(),rt.lanes|=n,xl|=n,a)}function gc(n,a,l,u,v){var x=he.p;he.p=x!==0&&8>x?x:8;var T=ne.T,q={};ne.T=q,lp(n,!1,a,l);try{var de=v(),Ne=ne.S;if(Ne!==null&&Ne(q,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Be=Wf(de,u);Bd(n,a,Be,da(n))}else Bd(n,a,u,da(n))}catch(Fe){Bd(n,a,{then:function(){},status:"rejected",reason:Fe},da())}finally{he.p=x,ne.T=T}}function so(){}function Oa(n,a,l,u){if(n.tag!==5)throw Error(i(476));var v=lo(n).queue;gc(n,v,a,ce,l===null?so:function(){return mc(n),l(u)})}function lo(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:ce},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function mc(n){var a=lo(n).next.queue;Bd(n,a,{},da())}function vc(){return bn(rf)}function Dd(){return or().memoizedState}function th(){return or().memoizedState}function zd(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=da();n=De(l);var u=$e(a,n,l);u!==null&&(fa(u,a,l),Ue(u,a,l)),a={cache:Ad()},n.payload=a;return}a=a.return}}function Md(n,a,l){var u=da();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},rh(n)?Sm(a,l):(l=eu(n,a,l,u),l!==null&&(fa(l,n,u),_m(l,a,u)))}function wm(n,a,l){var u=da();Bd(n,a,l,u)}function Bd(n,a,l,u){var v={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(rh(n))Sm(a,v);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var T=a.lastRenderedState,q=x(T,l);if(v.hasEagerState=!0,v.eagerState=q,Vr(q,T))return nc(n,a,v,0),Ir===null&&rc(),!1}catch{}finally{}if(l=eu(n,a,v,u),l!==null)return fa(l,n,u),_m(l,a,u),!0}return!1}function lp(n,a,l,u){if(u={lane:2,revertLane:Up(),action:u,hasEagerState:!1,eagerState:null,next:null},rh(n)){if(a)throw Error(i(479))}else a=eu(n,l,u,2),a!==null&&fa(a,n,2)}function rh(n){var a=n.alternate;return n===rt||a!==null&&a===rt}function Sm(n,a){an=Or=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function _m(n,a,l){if((l&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,So(n,l)}}var nh={readContext:bn,use:mr,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},jm={readContext:bn,use:mr,useCallback:function(n,a){return Cr().memoizedState=[n,a===void 0?null:a],n},useContext:bn,useEffect:Ld,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,sa(4194308,4,Qf.bind(null,a,n),l)},useLayoutEffect:function(n,a){return sa(4194308,4,n,a)},useInsertionEffect:function(n,a){sa(4,2,n,a)},useMemo:function(n,a){var l=Cr();a=a===void 0?null:a;var u=n();if(on){vt(!0);try{n()}finally{vt(!1)}}return l.memoizedState=[u,a],u},useReducer:function(n,a,l){var u=Cr();if(l!==void 0){var v=l(a);if(on){vt(!0);try{l(a)}finally{vt(!1)}}}else v=a;return u.memoizedState=u.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},u.queue=n,n=n.dispatch=Md.bind(null,rt,n),[u.memoizedState,n]},useRef:function(n){var a=Cr();return n={current:n},a.memoizedState=n},useState:function(n){n=fc(n);var a=n.queue,l=wm.bind(null,rt,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:Rd,useDeferredValue:function(n,a){var l=Cr();return Ss(l,n,a)},useTransition:function(){var n=fc(!1);return n=gc.bind(null,rt,n.queue,!0,!1),Cr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var u=rt,v=Cr();if(fr){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Ir===null)throw Error(i(349));(sr&124)!==0||lu(u,a,l)}v.memoizedState=l;var x={value:l,getSnapshot:a};return v.queue=x,Ld(ul.bind(null,u,x,n),[n]),u.flags|=2048,oo(9,pc(),dc.bind(null,u,x,l,a),null),l},useId:function(){var n=Cr(),a=Ir.identifierPrefix;if(fr){var l=to,u=eo;l=(u&~(1<<32-Ze(u)-1)).toString(32)+l,a=""+a+"R"+l,l=Xr++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=Zr++,a=""+a+"r"+l.toString(32)+"";return n.memoizedState=a},useHostTransitionStatus:vc,useFormState:hc,useActionState:hc,useOptimistic:function(n){var a=Cr();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=lp.bind(null,rt,!0,l),l.dispatch=a,[n,a]},useMemoCache:di,useCacheRefresh:function(){return Cr().memoizedState=zd.bind(null,rt)}},Am={readContext:bn,use:mr,useCallback:Pd,useContext:bn,useEffect:Jf,useImperativeHandle:Od,useInsertionEffect:Td,useLayoutEffect:ws,useMemo:eh,useReducer:Ta,useRef:uu,useState:function(){return Ta(wn)},useDebugValue:Rd,useDeferredValue:function(n,a){var l=or();return du(l,Dt.memoizedState,n,a)},useTransition:function(){var n=Ta(wn)[0],a=or().memoizedState;return[typeof n=="boolean"?n:Fn(n),a]},useSyncExternalStore:uc,useId:Dd,useHostTransitionStatus:vc,useFormState:cu,useActionState:cu,useOptimistic:function(n,a){var l=or();return ao(l,Dt,n,a)},useMemoCache:di,useCacheRefresh:th},t4={readContext:bn,use:mr,useCallback:Pd,useContext:bn,useEffect:Jf,useImperativeHandle:Od,useInsertionEffect:Td,useLayoutEffect:ws,useMemo:eh,useReducer:Sn,useRef:uu,useState:function(){return Sn(wn)},useDebugValue:Rd,useDeferredValue:function(n,a){var l=or();return Dt===null?Ss(l,n,a):du(l,Dt.memoizedState,n,a)},useTransition:function(){var n=Sn(wn)[0],a=or().memoizedState;return[typeof n=="boolean"?n:Fn(n),a]},useSyncExternalStore:uc,useId:Dd,useHostTransitionStatus:vc,useFormState:Zf,useActionState:Zf,useOptimistic:function(n,a){var l=or();return Dt!==null?ao(l,Dt,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:di,useCacheRefresh:th},fu=null,Id=0;function ih(n){var a=Id;return Id+=1,fu===null&&(fu=[]),Ee(fu,n,a)}function Ud(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function ah(n,a){throw a.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Cm(n){var a=n._init;return a(n._payload)}function km(n){function a(we,me){if(n){var Ce=we.deletions;Ce===null?(we.deletions=[me],we.flags|=16):Ce.push(me)}}function l(we,me){if(!n)return null;for(;me!==null;)a(we,me),me=me.sibling;return null}function u(we){for(var me=new Map;we!==null;)we.key!==null?me.set(we.key,we):me.set(we.index,we),we=we.sibling;return me}function v(we,me){return we=Ca(we,me),we.index=0,we.sibling=null,we}function x(we,me,Ce){return we.index=Ce,n?(Ce=we.alternate,Ce!==null?(Ce=Ce.index,Ce<me?(we.flags|=67108866,me):Ce):(we.flags|=67108866,me)):(we.flags|=1048576,me)}function T(we){return n&&we.alternate===null&&(we.flags|=67108866),we}function q(we,me,Ce,Ie){return me===null||me.tag!==6?(me=ru(Ce,we.mode,Ie),me.return=we,me):(me=v(me,Ce),me.return=we,me)}function de(we,me,Ce,Ie){var nt=Ce.type;return nt===j?Be(we,me,Ce.props.children,Ie,Ce.key):me!==null&&(me.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===se&&Cm(nt)===me.type)?(me=v(me,Ce.props),Ud(me,Ce),me.return=we,me):(me=ms(Ce.type,Ce.key,Ce.props,null,we.mode,Ie),Ud(me,Ce),me.return=we,me)}function Ne(we,me,Ce,Ie){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ce.containerInfo||me.stateNode.implementation!==Ce.implementation?(me=ac(Ce,we.mode,Ie),me.return=we,me):(me=v(me,Ce.children||[]),me.return=we,me)}function Be(we,me,Ce,Ie,nt){return me===null||me.tag!==7?(me=Ja(Ce,we.mode,Ie,nt),me.return=we,me):(me=v(me,Ce),me.return=we,me)}function Fe(we,me,Ce){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=ru(""+me,we.mode,Ce),me.return=we,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case S:return Ce=ms(me.type,me.key,me.props,null,we.mode,Ce),Ud(Ce,me),Ce.return=we,Ce;case b:return me=ac(me,we.mode,Ce),me.return=we,me;case se:var Ie=me._init;return me=Ie(me._payload),Fe(we,me,Ce)}if(be(me)||W(me))return me=Ja(me,we.mode,Ce,null),me.return=we,me;if(typeof me.then=="function")return Fe(we,ih(me),Ce);if(me.$$typeof===B)return Fe(we,Ho(we,me),Ce);ah(we,me)}return null}function Le(we,me,Ce,Ie){var nt=me!==null?me.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return nt!==null?null:q(we,me,""+Ce,Ie);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case S:return Ce.key===nt?de(we,me,Ce,Ie):null;case b:return Ce.key===nt?Ne(we,me,Ce,Ie):null;case se:return nt=Ce._init,Ce=nt(Ce._payload),Le(we,me,Ce,Ie)}if(be(Ce)||W(Ce))return nt!==null?null:Be(we,me,Ce,Ie,null);if(typeof Ce.then=="function")return Le(we,me,ih(Ce),Ie);if(Ce.$$typeof===B)return Le(we,me,Ho(we,Ce),Ie);ah(we,Ce)}return null}function Te(we,me,Ce,Ie,nt){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return we=we.get(Ce)||null,q(me,we,""+Ie,nt);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case S:return we=we.get(Ie.key===null?Ce:Ie.key)||null,de(me,we,Ie,nt);case b:return we=we.get(Ie.key===null?Ce:Ie.key)||null,Ne(me,we,Ie,nt);case se:var Yt=Ie._init;return Ie=Yt(Ie._payload),Te(we,me,Ce,Ie,nt)}if(be(Ie)||W(Ie))return we=we.get(Ce)||null,Be(me,we,Ie,nt,null);if(typeof Ie.then=="function")return Te(we,me,Ce,ih(Ie),nt);if(Ie.$$typeof===B)return Te(we,me,Ce,Ho(me,Ie),nt);ah(me,Ie)}return null}function Et(we,me,Ce,Ie){for(var nt=null,Yt=null,ft=me,wt=me=0,ei=null;ft!==null&&wt<Ce.length;wt++){ft.index>wt?(ei=ft,ft=null):ei=ft.sibling;var pr=Le(we,ft,Ce[wt],Ie);if(pr===null){ft===null&&(ft=ei);break}n&&ft&&pr.alternate===null&&a(we,ft),me=x(pr,me,wt),Yt===null?nt=pr:Yt.sibling=pr,Yt=pr,ft=ei}if(wt===Ce.length)return l(we,ft),fr&&bs(we,wt),nt;if(ft===null){for(;wt<Ce.length;wt++)ft=Fe(we,Ce[wt],Ie),ft!==null&&(me=x(ft,me,wt),Yt===null?nt=ft:Yt.sibling=ft,Yt=ft);return fr&&bs(we,wt),nt}for(ft=u(ft);wt<Ce.length;wt++)ei=Te(ft,we,wt,Ce[wt],Ie),ei!==null&&(n&&ei.alternate!==null&&ft.delete(ei.key===null?wt:ei.key),me=x(ei,me,wt),Yt===null?nt=ei:Yt.sibling=ei,Yt=ei);return n&&ft.forEach(function(Nl){return a(we,Nl)}),fr&&bs(we,wt),nt}function xt(we,me,Ce,Ie){if(Ce==null)throw Error(i(151));for(var nt=null,Yt=null,ft=me,wt=me=0,ei=null,pr=Ce.next();ft!==null&&!pr.done;wt++,pr=Ce.next()){ft.index>wt?(ei=ft,ft=null):ei=ft.sibling;var Nl=Le(we,ft,pr.value,Ie);if(Nl===null){ft===null&&(ft=ei);break}n&&ft&&Nl.alternate===null&&a(we,ft),me=x(Nl,me,wt),Yt===null?nt=Nl:Yt.sibling=Nl,Yt=Nl,ft=ei}if(pr.done)return l(we,ft),fr&&bs(we,wt),nt;if(ft===null){for(;!pr.done;wt++,pr=Ce.next())pr=Fe(we,pr.value,Ie),pr!==null&&(me=x(pr,me,wt),Yt===null?nt=pr:Yt.sibling=pr,Yt=pr);return fr&&bs(we,wt),nt}for(ft=u(ft);!pr.done;wt++,pr=Ce.next())pr=Te(ft,we,wt,pr.value,Ie),pr!==null&&(n&&pr.alternate!==null&&ft.delete(pr.key===null?wt:pr.key),me=x(pr,me,wt),Yt===null?nt=pr:Yt.sibling=pr,Yt=pr);return n&&ft.forEach(function(r3){return a(we,r3)}),fr&&bs(we,wt),nt}function Er(we,me,Ce,Ie){if(typeof Ce=="object"&&Ce!==null&&Ce.type===j&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case S:e:{for(var nt=Ce.key;me!==null;){if(me.key===nt){if(nt=Ce.type,nt===j){if(me.tag===7){l(we,me.sibling),Ie=v(me,Ce.props.children),Ie.return=we,we=Ie;break e}}else if(me.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===se&&Cm(nt)===me.type){l(we,me.sibling),Ie=v(me,Ce.props),Ud(Ie,Ce),Ie.return=we,we=Ie;break e}l(we,me);break}else a(we,me);me=me.sibling}Ce.type===j?(Ie=Ja(Ce.props.children,we.mode,Ie,Ce.key),Ie.return=we,we=Ie):(Ie=ms(Ce.type,Ce.key,Ce.props,null,we.mode,Ie),Ud(Ie,Ce),Ie.return=we,we=Ie)}return T(we);case b:e:{for(nt=Ce.key;me!==null;){if(me.key===nt)if(me.tag===4&&me.stateNode.containerInfo===Ce.containerInfo&&me.stateNode.implementation===Ce.implementation){l(we,me.sibling),Ie=v(me,Ce.children||[]),Ie.return=we,we=Ie;break e}else{l(we,me);break}else a(we,me);me=me.sibling}Ie=ac(Ce,we.mode,Ie),Ie.return=we,we=Ie}return T(we);case se:return nt=Ce._init,Ce=nt(Ce._payload),Er(we,me,Ce,Ie)}if(be(Ce))return Et(we,me,Ce,Ie);if(W(Ce)){if(nt=W(Ce),typeof nt!="function")throw Error(i(150));return Ce=nt.call(Ce),xt(we,me,Ce,Ie)}if(typeof Ce.then=="function")return Er(we,me,ih(Ce),Ie);if(Ce.$$typeof===B)return Er(we,me,Ho(we,Ce),Ie);ah(we,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,me!==null&&me.tag===6?(l(we,me.sibling),Ie=v(me,Ce),Ie.return=we,we=Ie):(l(we,me),Ie=ru(Ce,we.mode,Ie),Ie.return=we,we=Ie),T(we)):l(we,me)}return function(we,me,Ce,Ie){try{Id=0;var nt=Er(we,me,Ce,Ie);return fu=null,nt}catch(ft){if(ft===I||ft===G)throw ft;var Yt=Xn(29,ft,null,we.mode);return Yt.lanes=Ie,Yt.return=we,Yt}finally{}}}var hu=km(!0),Em=km(!1),Ra=ie(null),$o=null;function pl(n){var a=n.alternate;H(qn,qn.current&1),H(Ra,n),$o===null&&(a===null||kt.current!==null||a.memoizedState!==null)&&($o=n)}function Nm(n){if(n.tag===22){if(H(qn,qn.current),H(Ra,n),$o===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&($o=n)}}else gl()}function gl(){H(qn,qn.current),H(Ra,Ra.current)}function _s(n){L(Ra),$o===n&&($o=null),L(qn)}var qn=ie(0);function oh(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Jp(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function cp(n,a,l,u){a=n.memoizedState,l=l(u,a),l=l==null?a:g({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var up={enqueueSetState:function(n,a,l){n=n._reactInternals;var u=da(),v=De(u);v.payload=a,l!=null&&(v.callback=l),a=$e(n,v,u),a!==null&&(fa(a,n,u),Ue(a,n,u))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var u=da(),v=De(u);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=$e(n,v,u),a!==null&&(fa(a,n,u),Ue(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=da(),u=De(l);u.tag=2,a!=null&&(u.callback=a),a=$e(n,u,l),a!==null&&(fa(a,n,l),Ue(a,n,l))}};function Lm(n,a,l,u,v,x,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,x,T):a.prototype&&a.prototype.isPureReactComponent?!yi(l,u)||!yi(v,x):!0}function Tm(n,a,l,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==n&&up.enqueueReplaceState(a,a.state,null)}function bc(n,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(n=n.defaultProps){l===a&&(l=g({},l));for(var v in n)l[v]===void 0&&(l[v]=n[v])}return l}var sh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Om(n){sh(n)}function Rm(n){console.error(n)}function Pm(n){sh(n)}function lh(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Dm(n,a,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function dp(n,a,l){return l=De(l),l.tag=3,l.payload={element:null},l.callback=function(){lh(n,a)},l}function zm(n){return n=De(n),n.tag=3,n}function Mm(n,a,l,u){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var x=u.value;n.payload=function(){return v(x)},n.callback=function(){Dm(a,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Dm(a,l,u),typeof v!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var q=u.stack;this.componentDidCatch(u.value,{componentStack:q!==null?q:""})})}function r4(n,a,l,u,v){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&cl(a,l,v,!0),l=Ra.current,l!==null){switch(l.tag){case 13:return $o===null?Dp():l.alternate===null&&hn===0&&(hn=3),l.flags&=-257,l.flags|=65536,l.lanes=v,u===V?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Mp(n,u,v)),!1;case 22:return l.flags|=65536,u===V?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Mp(n,u,v)),!1}throw Error(i(435,l.tag))}return Mp(n,u,v),Dp(),!1}if(fr)return a=Ra.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,u!==jd&&(n=Error(i(422),{cause:u}),ll(Ti(n,l)))):(u!==jd&&(a=Error(i(423),{cause:u}),ll(Ti(a,l))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,u=Ti(u,l),v=dp(n.stateNode,u,v),ot(n,v),hn!==4&&(hn=2)),!1;var x=Error(i(520),{cause:u});if(x=Ti(x,l),Vd===null?Vd=[x]:Vd.push(x),hn!==4&&(hn=2),a===null)return!0;u=Ti(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=v&-v,l.lanes|=n,n=dp(l.stateNode,u,n),ot(l,n),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(wl===null||!wl.has(x))))return l.flags|=65536,v&=-v,l.lanes|=v,v=zm(v),Mm(v,n,l,u),ot(l,v),!1}l=l.return}while(l!==null);return!1}var Bm=Error(i(461)),Jn=!1;function fi(n,a,l,u){a.child=n===null?Em(a,null,l,u):hu(a,n.child,l,u)}function Im(n,a,l,u,v){l=l.render;var x=a.ref;if("ref"in u){var T={};for(var q in u)q!=="ref"&&(T[q]=u[q])}else T=u;return La(a),u=Di(n,a,l,T,x,v),q=sn(),n!==null&&!Jn?(ui(n,a,v),js(n,a,v)):(fr&&q&&oc(a),a.flags|=1,fi(n,a,u,v),a.child)}function Um(n,a,l,u,v){if(n===null){var x=l.type;return typeof x=="function"&&!ol(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,Fm(n,a,x,u,v)):(n=ms(l.type,null,u,a,a.mode,v),n.ref=a.ref,n.return=a,a.child=n)}if(x=n.child,!yp(n,v)){var T=x.memoizedProps;if(l=l.compare,l=l!==null?l:yi,l(T,u)&&n.ref===a.ref)return js(n,a,v)}return a.flags|=1,n=Ca(x,u),n.ref=a.ref,n.return=a,a.child=n}function Fm(n,a,l,u,v){if(n!==null){var x=n.memoizedProps;if(yi(x,u)&&n.ref===a.ref)if(Jn=!1,a.pendingProps=u=x,yp(n,v))(n.flags&131072)!==0&&(Jn=!0);else return a.lanes=n.lanes,js(n,a,v)}return fp(n,a,l,u,v)}function qm(n,a,l){var u=a.pendingProps,v=u.children,x=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=x!==null?x.baseLanes|l:l,n!==null){for(v=a.child=n.child,x=0;v!==null;)x=x|v.lanes|v.childLanes,v=v.sibling;a.childLanes=x&~u}else a.childLanes=0,a.child=null;return Hm(n,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&k(a,x!==null?x.cachePool:null),x!==null?Ve(a,x):qr(),Nm(a);else return a.lanes=a.childLanes=536870912,Hm(n,a,x!==null?x.baseLanes|l:l,l)}else x!==null?(k(a,x.cachePool),Ve(a,x),gl(),a.memoizedState=null):(n!==null&&k(a,null),qr(),gl());return fi(n,a,v,l),a.child}function Hm(n,a,l,u){var v=A();return v=v===null?null:{parent:yn._currentValue,pool:v},a.memoizedState={baseLanes:l,cachePool:v},n!==null&&k(a,null),qr(),Nm(a),n!==null&&cl(n,a,u,!0),null}function ch(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function fp(n,a,l,u,v){return La(a),l=Di(n,a,l,u,void 0,v),u=sn(),n!==null&&!Jn?(ui(n,a,v),js(n,a,v)):(fr&&u&&oc(a),a.flags|=1,fi(n,a,l,v),a.child)}function $m(n,a,l,u,v,x){return La(a),a.updateQueue=null,l=ci(a,u,l,v),Jr(n),u=sn(),n!==null&&!Jn?(ui(n,a,x),js(n,a,x)):(fr&&u&&oc(a),a.flags|=1,fi(n,a,l,x),a.child)}function Wm(n,a,l,u,v){if(La(a),a.stateNode===null){var x=Nn,T=l.contextType;typeof T=="object"&&T!==null&&(x=bn(T)),x=new l(u,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=up,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=u,x.state=a.memoizedState,x.refs={},ke(a),T=l.contextType,x.context=typeof T=="object"&&T!==null?bn(T):Nn,x.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(cp(a,l,T,u),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(T=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),T!==x.state&&up.enqueueReplaceState(x,x.state,null),et(a,u,x,v),Lt(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){x=a.stateNode;var q=a.memoizedProps,de=bc(l,q);x.props=de;var Ne=x.context,Be=l.contextType;T=Nn,typeof Be=="object"&&Be!==null&&(T=bn(Be));var Fe=l.getDerivedStateFromProps;Be=typeof Fe=="function"||typeof x.getSnapshotBeforeUpdate=="function",q=a.pendingProps!==q,Be||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(q||Ne!==T)&&Tm(a,x,u,T),Oe=!1;var Le=a.memoizedState;x.state=Le,et(a,u,x,v),Lt(),Ne=a.memoizedState,q||Le!==Ne||Oe?(typeof Fe=="function"&&(cp(a,l,Fe,u),Ne=a.memoizedState),(de=Oe||Lm(a,l,de,u,Le,Ne,T))?(Be||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Ne),x.props=u,x.state=Ne,x.context=T,u=de):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{x=a.stateNode,ze(n,a),T=a.memoizedProps,Be=bc(l,T),x.props=Be,Fe=a.pendingProps,Le=x.context,Ne=l.contextType,de=Nn,typeof Ne=="object"&&Ne!==null&&(de=bn(Ne)),q=l.getDerivedStateFromProps,(Ne=typeof q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==Fe||Le!==de)&&Tm(a,x,u,de),Oe=!1,Le=a.memoizedState,x.state=Le,et(a,u,x,v),Lt();var Te=a.memoizedState;T!==Fe||Le!==Te||Oe||n!==null&&n.dependencies!==null&&ou(n.dependencies)?(typeof q=="function"&&(cp(a,l,q,u),Te=a.memoizedState),(Be=Oe||Lm(a,l,Be,u,Le,Te,de)||n!==null&&n.dependencies!==null&&ou(n.dependencies))?(Ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Te,de),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Te,de)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||T===n.memoizedProps&&Le===n.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Le===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Te),x.props=u,x.state=Te,x.context=de,u=Be):(typeof x.componentDidUpdate!="function"||T===n.memoizedProps&&Le===n.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Le===n.memoizedState||(a.flags|=1024),u=!1)}return x=u,ch(n,a),u=(a.flags&128)!==0,x||u?(x=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,n!==null&&u?(a.child=hu(a,n.child,null,v),a.child=hu(a,null,l,v)):fi(n,a,l,v),a.memoizedState=x.state,n=a.child):n=js(n,a,v),n}function Gm(n,a,l,u){return Pi(),a.flags|=256,fi(n,a,l,u),a.child}var hp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pp(n){return{baseLanes:n,cachePool:D()}}function gp(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=Pa),n}function Vm(n,a,l){var u=a.pendingProps,v=!1,x=(a.flags&128)!==0,T;if((T=x)||(T=n!==null&&n.memoizedState===null?!1:(qn.current&2)!==0),T&&(v=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,n===null){if(fr){if(v?pl(a):gl(),fr){var q=Kr,de;if(de=q){e:{for(de=q,q=ka;de.nodeType!==8;){if(!q){q=null;break e}if(de=uo(de.nextSibling),de===null){q=null;break e}}q=de}q!==null?(a.memoizedState={dehydrated:q,treeContext:vs!==null?{id:eo,overflow:to}:null,retryLane:536870912,hydrationErrors:null},de=Xn(18,null,null,0),de.stateNode=q,de.return=a,a.child=de,vn=a,Kr=null,de=!0):de=!1}de||ys(a)}if(q=a.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return Jp(q)?a.lanes=32:a.lanes=536870912,null;_s(a)}return q=u.children,u=u.fallback,v?(gl(),v=a.mode,q=uh({mode:"hidden",children:q},v),u=Ja(u,v,l,null),q.return=a,u.return=a,q.sibling=u,a.child=q,v=a.child,v.memoizedState=pp(l),v.childLanes=gp(n,T,l),a.memoizedState=hp,u):(pl(a),mp(a,q))}if(de=n.memoizedState,de!==null&&(q=de.dehydrated,q!==null)){if(x)a.flags&256?(pl(a),a.flags&=-257,a=vp(n,a,l)):a.memoizedState!==null?(gl(),a.child=n.child,a.flags|=128,a=null):(gl(),v=u.fallback,q=a.mode,u=uh({mode:"visible",children:u.children},q),v=Ja(v,q,l,null),v.flags|=2,u.return=a,v.return=a,u.sibling=v,a.child=u,hu(a,n.child,null,l),u=a.child,u.memoizedState=pp(l),u.childLanes=gp(n,T,l),a.memoizedState=hp,a=v);else if(pl(a),Jp(q)){if(T=q.nextSibling&&q.nextSibling.dataset,T)var Ne=T.dgst;T=Ne,u=Error(i(419)),u.stack="",u.digest=T,ll({value:u,source:null,stack:null}),a=vp(n,a,l)}else if(Jn||cl(n,a,l,!1),T=(l&n.childLanes)!==0,Jn||T){if(T=Ir,T!==null&&(u=l&-l,u=(u&42)!==0?1:kn(u),u=(u&(T.suspendedLanes|l))!==0?0:u,u!==0&&u!==de.retryLane))throw de.retryLane=u,ps(n,u),fa(T,n,u),Bm;q.data==="$?"||Dp(),a=vp(n,a,l)}else q.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=de.treeContext,Kr=uo(q.nextSibling),vn=a,fr=!0,Fo=null,ka=!1,n!==null&&(Wi[Ri++]=eo,Wi[Ri++]=to,Wi[Ri++]=vs,eo=n.id,to=n.overflow,vs=a),a=mp(a,u.children),a.flags|=4096);return a}return v?(gl(),v=u.fallback,q=a.mode,de=n.child,Ne=de.sibling,u=Ca(de,{mode:"hidden",children:u.children}),u.subtreeFlags=de.subtreeFlags&65011712,Ne!==null?v=Ca(Ne,v):(v=Ja(v,q,l,null),v.flags|=2),v.return=a,u.return=a,u.sibling=v,a.child=u,u=v,v=a.child,q=n.child.memoizedState,q===null?q=pp(l):(de=q.cachePool,de!==null?(Ne=yn._currentValue,de=de.parent!==Ne?{parent:Ne,pool:Ne}:de):de=D(),q={baseLanes:q.baseLanes|l,cachePool:de}),v.memoizedState=q,v.childLanes=gp(n,T,l),a.memoizedState=hp,u):(pl(a),l=n.child,n=l.sibling,l=Ca(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,n!==null&&(T=a.deletions,T===null?(a.deletions=[n],a.flags|=16):T.push(n)),a.child=l,a.memoizedState=null,l)}function mp(n,a){return a=uh({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function uh(n,a){return n=Xn(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function vp(n,a,l){return hu(a,n.child,null,l),n=mp(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Ym(n,a,l){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),iu(n.return,a,l)}function bp(n,a,l,u,v){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:v}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=v)}function Km(n,a,l){var u=a.pendingProps,v=u.revealOrder,x=u.tail;if(fi(n,a,u.children,l),u=qn.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ym(n,l,a);else if(n.tag===19)Ym(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(H(qn,u),v){case"forwards":for(l=a.child,v=null;l!==null;)n=l.alternate,n!==null&&oh(n)===null&&(v=l),l=l.sibling;l=v,l===null?(v=a.child,a.child=null):(v=l.sibling,l.sibling=null),bp(a,!1,v,l,x);break;case"backwards":for(l=null,v=a.child,a.child=null;v!==null;){if(n=v.alternate,n!==null&&oh(n)===null){a.child=v;break}n=v.sibling,v.sibling=l,l=v,v=n}bp(a,!0,l,null,x);break;case"together":bp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function js(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),xl|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(cl(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,l=Ca(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=Ca(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function yp(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&ou(n)))}function n4(n,a,l){switch(a.tag){case 3:xe(a,a.stateNode.containerInfo),qo(a,yn,n.memoizedState.cache),Pi();break;case 27:case 5:Pe(a);break;case 4:xe(a,a.stateNode.containerInfo);break;case 10:qo(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(pl(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Vm(n,a,l):(pl(a),n=js(n,a,l),n!==null?n.sibling:null);pl(a);break;case 19:var v=(n.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(cl(n,a,l,!1),u=(l&a.childLanes)!==0),v){if(u)return Km(n,a,l);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),H(qn,qn.current),u)break;return null;case 22:case 23:return a.lanes=0,qm(n,a,l);case 24:qo(a,yn,n.memoizedState.cache)}return js(n,a,l)}function Xm(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)Jn=!0;else{if(!yp(n,l)&&(a.flags&128)===0)return Jn=!1,n4(n,a,l);Jn=(n.flags&131072)!==0}else Jn=!1,fr&&(a.flags&1048576)!==0&&Uf(a,nu,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var u=a.elementType,v=u._init;if(u=v(u._payload),a.type=u,typeof u=="function")ol(u)?(n=bc(u,n),a.tag=1,a=Wm(null,a,u,n,l)):(a.tag=0,a=fp(null,a,u,n,l));else{if(u!=null){if(v=u.$$typeof,v===z){a.tag=11,a=Im(null,a,u,n,l);break e}else if(v===J){a.tag=14,a=Um(null,a,u,n,l);break e}}throw a=ae(u)||u,Error(i(306,a,""))}}return a;case 0:return fp(n,a,a.type,a.pendingProps,l);case 1:return u=a.type,v=bc(u,a.pendingProps),Wm(n,a,u,v,l);case 3:e:{if(xe(a,a.stateNode.containerInfo),n===null)throw Error(i(387));u=a.pendingProps;var x=a.memoizedState;v=x.element,ze(n,a),et(a,u,null,l);var T=a.memoizedState;if(u=T.cache,qo(a,yn,u),u!==x.cache&&au(a,[yn],l,!0),Lt(),u=T.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=Gm(n,a,u,l);break e}else if(u!==v){v=Ti(Error(i(424)),a),ll(v),a=Gm(n,a,u,l);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Kr=uo(n.firstChild),vn=a,fr=!0,Fo=null,ka=!0,l=Em(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Pi(),u===v){a=js(n,a,l);break e}fi(n,a,u,l)}a=a.child}return a;case 26:return ch(n,a),n===null?(l=e5(a.type,null,a.pendingProps,null))?a.memoizedState=l:fr||(l=a.type,n=a.pendingProps,u=jh(re.current).createElement(l),u[zr]=a,u[Lr]=n,pi(u,l,n),Br(u),a.stateNode=u):a.memoizedState=e5(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Pe(a),n===null&&fr&&(u=a.stateNode=Z2(a.type,a.pendingProps,re.current),vn=a,ka=!0,v=Kr,jl(a.type)?(Qp=v,Kr=uo(u.firstChild)):Kr=v),fi(n,a,a.pendingProps.children,l),ch(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&fr&&((v=u=Kr)&&(u=T4(u,a.type,a.pendingProps,ka),u!==null?(a.stateNode=u,vn=a,Kr=uo(u.firstChild),ka=!1,v=!0):v=!1),v||ys(a)),Pe(a),v=a.type,x=a.pendingProps,T=n!==null?n.memoizedProps:null,u=x.children,Kp(v,x)?u=null:T!==null&&Kp(v,T)&&(a.flags|=32),a.memoizedState!==null&&(v=Di(n,a,yr,null,null,l),rf._currentValue=v),ch(n,a),fi(n,a,u,l),a.child;case 6:return n===null&&fr&&((n=l=Kr)&&(l=O4(l,a.pendingProps,ka),l!==null?(a.stateNode=l,vn=a,Kr=null,n=!0):n=!1),n||ys(a)),null;case 13:return Vm(n,a,l);case 4:return xe(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=hu(a,null,u,l):fi(n,a,u,l),a.child;case 11:return Im(n,a,a.type,a.pendingProps,l);case 7:return fi(n,a,a.pendingProps,l),a.child;case 8:return fi(n,a,a.pendingProps.children,l),a.child;case 12:return fi(n,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,qo(a,a.type,u.value),fi(n,a,u.children,l),a.child;case 9:return v=a.type._context,u=a.pendingProps.children,La(a),v=bn(v),u=u(v),a.flags|=1,fi(n,a,u,l),a.child;case 14:return Um(n,a,a.type,a.pendingProps,l);case 15:return Fm(n,a,a.type,a.pendingProps,l);case 19:return Km(n,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},n===null?(l=uh(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Ca(n.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return qm(n,a,l);case 24:return La(a),u=bn(yn),n===null?(v=A(),v===null&&(v=Ir,x=Ad(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=l),v=x),a.memoizedState={parent:u,cache:v},ke(a),qo(a,yn,v)):((n.lanes&l)!==0&&(ze(n,a),et(a,null,null,l),Lt()),v=n.memoizedState,x=a.memoizedState,v.parent!==u?(v={parent:u,cache:u},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),qo(a,yn,u)):(u=x.cache,qo(a,yn,u),u!==v.cache&&au(a,[yn],l,!0))),fi(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function As(n){n.flags|=4}function Zm(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!a5(a)){if(a=Ra.current,a!==null&&((sr&4194048)===sr?$o!==null:(sr&62914560)!==sr&&(sr&536870912)===0||a!==$o))throw X=V,F;n.flags|=8192}}function dh(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Wr():536870912,n.lanes|=a,vu|=a)}function Fd(n,a){if(!fr)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ln(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(a)for(var v=n.child;v!==null;)l|=v.lanes|v.childLanes,u|=v.subtreeFlags&65011712,u|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)l|=v.lanes|v.childLanes,u|=v.subtreeFlags,u|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=u,n.childLanes=l,a}function i4(n,a,l){var u=a.pendingProps;switch(sc(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(a),null;case 1:return ln(a),null;case 3:return l=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Na(yn),Ae(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(li(a)?As(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,qf())),ln(a),null;case 26:return l=a.memoizedState,n===null?(As(a),l!==null?(ln(a),Zm(a,l)):(ln(a),a.flags&=-16777217)):l?l!==n.memoizedState?(As(a),ln(a),Zm(a,l)):(ln(a),a.flags&=-16777217):(n.memoizedProps!==u&&As(a),ln(a),a.flags&=-16777217),null;case 27:qe(a),l=re.current;var v=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==u&&As(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ln(a),null}n=Y.current,li(a)?Ff(a):(n=Z2(v,u,l),a.stateNode=n,As(a))}return ln(a),null;case 5:if(qe(a),l=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&As(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ln(a),null}if(n=Y.current,li(a))Ff(a);else{switch(v=jh(re.current),n){case 1:n=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?v.createElement(l,{is:u.is}):v.createElement(l)}}n[zr]=a,n[Lr]=u;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)n.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=n;e:switch(pi(n,l,u),l){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&As(a)}}return ln(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&As(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(n=re.current,li(a)){if(n=a.stateNode,l=a.memoizedProps,u=null,v=vn,v!==null)switch(v.tag){case 27:case 5:u=v.memoizedProps}n[zr]=a,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||$2(n.nodeValue,l)),n||ys(a)}else n=jh(n).createTextNode(u),n[zr]=a,a.stateNode=n}return ln(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=li(a),u!==null&&u.dehydrated!==null){if(n===null){if(!v)throw Error(i(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[zr]=a}else Pi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ln(a),v=!1}else v=qf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(_s(a),a):(_s(a),null)}if(_s(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,n=n!==null&&n.memoizedState!==null,l){u=a.child,v=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(v=u.alternate.memoizedState.cachePool.pool);var x=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==v&&(u.flags|=2048)}return l!==n&&l&&(a.child.flags|=8192),dh(a,a.updateQueue),ln(a),null;case 4:return Ae(),n===null&&$p(a.stateNode.containerInfo),ln(a),null;case 10:return Na(a.type),ln(a),null;case 19:if(L(qn),v=a.memoizedState,v===null)return ln(a),null;if(u=(a.flags&128)!==0,x=v.rendering,x===null)if(u)Fd(v,!1);else{if(hn!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(x=oh(n),x!==null){for(a.flags|=128,Fd(v,!1),n=x.updateQueue,a.updateQueue=n,dh(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)ic(l,n),l=l.sibling;return H(qn,qn.current&1|2),a.child}n=n.sibling}v.tail!==null&&gt()>ph&&(a.flags|=128,u=!0,Fd(v,!1),a.lanes=4194304)}else{if(!u)if(n=oh(x),n!==null){if(a.flags|=128,u=!0,n=n.updateQueue,a.updateQueue=n,dh(a,n),Fd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!x.alternate&&!fr)return ln(a),null}else 2*gt()-v.renderingStartTime>ph&&l!==536870912&&(a.flags|=128,u=!0,Fd(v,!1),a.lanes=4194304);v.isBackwards?(x.sibling=a.child,a.child=x):(n=v.last,n!==null?n.sibling=x:a.child=x,v.last=x)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=gt(),a.sibling=null,n=qn.current,H(qn,u?n&1|2:n&1),a):(ln(a),null);case 22:case 23:return _s(a),Tt(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(ln(a),a.subtreeFlags&6&&(a.flags|=8192)):ln(a),l=a.updateQueue,l!==null&&dh(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),n!==null&&L(y),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Na(yn),ln(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function a4(n,a){switch(sc(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Na(yn),Ae(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return qe(a),null;case 13:if(_s(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Pi()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return L(qn),null;case 4:return Ae(),null;case 10:return Na(a.type),null;case 22:case 23:return _s(a),Tt(),n!==null&&L(y),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Na(yn),null;case 25:return null;default:return null}}function Jm(n,a){switch(sc(a),a.tag){case 3:Na(yn),Ae();break;case 26:case 27:case 5:qe(a);break;case 4:Ae();break;case 13:_s(a);break;case 19:L(qn);break;case 10:Na(a.type);break;case 22:case 23:_s(a),Tt(),n!==null&&L(y);break;case 24:Na(yn)}}function qd(n,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var v=u.next;l=v;do{if((l.tag&n)===n){u=void 0;var x=l.create,T=l.inst;u=x(),T.destroy=u}l=l.next}while(l!==v)}}catch(q){Rr(a,a.return,q)}}function ml(n,a,l){try{var u=a.updateQueue,v=u!==null?u.lastEffect:null;if(v!==null){var x=v.next;u=x;do{if((u.tag&n)===n){var T=u.inst,q=T.destroy;if(q!==void 0){T.destroy=void 0,v=a;var de=l,Ne=q;try{Ne()}catch(Be){Rr(v,de,Be)}}}u=u.next}while(u!==x)}}catch(Be){Rr(a,a.return,Be)}}function Qm(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{fn(a,l)}catch(u){Rr(n,n.return,u)}}}function e2(n,a,l){l.props=bc(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Rr(n,a,u)}}function Hd(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(v){Rr(n,a,v)}}function Wo(n,a){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(v){Rr(n,a,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Rr(n,a,v)}else l.current=null}function t2(n){var a=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(v){Rr(n,n.return,v)}}function xp(n,a,l){try{var u=n.stateNode;C4(u,n.type,l,a),u[Lr]=a}catch(v){Rr(n,n.return,v)}}function r2(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&jl(n.type)||n.tag===4}function wp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||r2(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&jl(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Sp(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=_h));else if(u!==4&&(u===27&&jl(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(Sp(n,a,l),n=n.sibling;n!==null;)Sp(n,a,l),n=n.sibling}function fh(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(u!==4&&(u===27&&jl(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(fh(n,a,l),n=n.sibling;n!==null;)fh(n,a,l),n=n.sibling}function n2(n){var a=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);pi(a,u,l),a[zr]=n,a[Lr]=l}catch(x){Rr(n,n.return,x)}}var Cs=!1,_n=!1,_p=!1,i2=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function o4(n,a){if(n=n.containerInfo,Vp=Lh,n=nl(n),ja(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var v=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var T=0,q=-1,de=-1,Ne=0,Be=0,Fe=n,Le=null;t:for(;;){for(var Te;Fe!==l||v!==0&&Fe.nodeType!==3||(q=T+v),Fe!==x||u!==0&&Fe.nodeType!==3||(de=T+u),Fe.nodeType===3&&(T+=Fe.nodeValue.length),(Te=Fe.firstChild)!==null;)Le=Fe,Fe=Te;for(;;){if(Fe===n)break t;if(Le===l&&++Ne===v&&(q=T),Le===x&&++Be===u&&(de=T),(Te=Fe.nextSibling)!==null)break;Fe=Le,Le=Fe.parentNode}Fe=Te}l=q===-1||de===-1?null:{start:q,end:de}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yp={focusedElem:n,selectionRange:l},Lh=!1,Qn=a;Qn!==null;)if(a=Qn,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,Qn=n;else for(;Qn!==null;){switch(a=Qn,x=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,l=a,v=x.memoizedProps,x=x.memoizedState,u=l.stateNode;try{var Et=bc(l.type,v,l.elementType===l.type);n=u.getSnapshotBeforeUpdate(Et,x),u.__reactInternalSnapshotBeforeUpdate=n}catch(xt){Rr(l,l.return,xt)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)Zp(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Zp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,Qn=n;break}Qn=a.return}}function a2(n,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:vl(n,l),u&4&&qd(5,l);break;case 1:if(vl(n,l),u&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(T){Rr(l,l.return,T)}else{var v=bc(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(v,a,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Rr(l,l.return,T)}}u&64&&Qm(l),u&512&&Hd(l,l.return);break;case 3:if(vl(n,l),u&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{fn(n,a)}catch(T){Rr(l,l.return,T)}}break;case 27:a===null&&u&4&&n2(l);case 26:case 5:vl(n,l),a===null&&u&4&&t2(l),u&512&&Hd(l,l.return);break;case 12:vl(n,l);break;case 13:vl(n,l),u&4&&l2(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=g4.bind(null,l),R4(n,l))));break;case 22:if(u=l.memoizedState!==null||Cs,!u){a=a!==null&&a.memoizedState!==null||_n,v=Cs;var x=_n;Cs=u,(_n=a)&&!x?bl(n,l,(l.subtreeFlags&8772)!==0):vl(n,l),Cs=v,_n=x}break;case 30:break;default:vl(n,l)}}function o2(n){var a=n.alternate;a!==null&&(n.alternate=null,o2(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Ci(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Qr=null,Gi=!1;function ks(n,a,l){for(l=l.child;l!==null;)s2(n,a,l),l=l.sibling}function s2(n,a,l){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(St,l)}catch{}switch(l.tag){case 26:_n||Wo(l,a),ks(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:_n||Wo(l,a);var u=Qr,v=Gi;jl(l.type)&&(Qr=l.stateNode,Gi=!1),ks(n,a,l),Jd(l.stateNode),Qr=u,Gi=v;break;case 5:_n||Wo(l,a);case 6:if(u=Qr,v=Gi,Qr=null,ks(n,a,l),Qr=u,Gi=v,Qr!==null)if(Gi)try{(Qr.nodeType===9?Qr.body:Qr.nodeName==="HTML"?Qr.ownerDocument.body:Qr).removeChild(l.stateNode)}catch(x){Rr(l,a,x)}else try{Qr.removeChild(l.stateNode)}catch(x){Rr(l,a,x)}break;case 18:Qr!==null&&(Gi?(n=Qr,K2(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),sf(n)):K2(Qr,l.stateNode));break;case 4:u=Qr,v=Gi,Qr=l.stateNode.containerInfo,Gi=!0,ks(n,a,l),Qr=u,Gi=v;break;case 0:case 11:case 14:case 15:_n||ml(2,l,a),_n||ml(4,l,a),ks(n,a,l);break;case 1:_n||(Wo(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&e2(l,a,u)),ks(n,a,l);break;case 21:ks(n,a,l);break;case 22:_n=(u=_n)||l.memoizedState!==null,ks(n,a,l),_n=u;break;default:ks(n,a,l)}}function l2(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{sf(n)}catch(l){Rr(a,a.return,l)}}function s4(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new i2),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new i2),a;default:throw Error(i(435,n.tag))}}function jp(n,a){var l=s4(n);a.forEach(function(u){var v=m4.bind(null,n,u);l.has(u)||(l.add(u),u.then(v,v))})}function la(n,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var v=l[u],x=n,T=a,q=T;e:for(;q!==null;){switch(q.tag){case 27:if(jl(q.type)){Qr=q.stateNode,Gi=!1;break e}break;case 5:Qr=q.stateNode,Gi=!1;break e;case 3:case 4:Qr=q.stateNode.containerInfo,Gi=!0;break e}q=q.return}if(Qr===null)throw Error(i(160));s2(x,T,v),Qr=null,Gi=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)c2(a,n),a=a.sibling}var co=null;function c2(n,a){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:la(a,n),ca(n),u&4&&(ml(3,n,n.return),qd(3,n),ml(5,n,n.return));break;case 1:la(a,n),ca(n),u&512&&(_n||l===null||Wo(l,l.return)),u&64&&Cs&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var v=co;if(la(a,n),ca(n),u&512&&(_n||l===null||Wo(l,l.return)),u&4){var x=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,v=v.ownerDocument||v;t:switch(u){case"title":x=v.getElementsByTagName("title")[0],(!x||x[zi]||x[zr]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(u),v.head.insertBefore(x,v.querySelector("head > title"))),pi(x,u,l),x[zr]=n,Br(x),u=x;break e;case"link":var T=n5("link","href",v).get(u+(l.href||""));if(T){for(var q=0;q<T.length;q++)if(x=T[q],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(q,1);break t}}x=v.createElement(u),pi(x,u,l),v.head.appendChild(x);break;case"meta":if(T=n5("meta","content",v).get(u+(l.content||""))){for(q=0;q<T.length;q++)if(x=T[q],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(q,1);break t}}x=v.createElement(u),pi(x,u,l),v.head.appendChild(x);break;default:throw Error(i(468,u))}x[zr]=n,Br(x),u=x}n.stateNode=u}else i5(v,n.type,n.stateNode);else n.stateNode=r5(v,u,n.memoizedProps);else x!==u?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,u===null?i5(v,n.type,n.stateNode):r5(v,u,n.memoizedProps)):u===null&&n.stateNode!==null&&xp(n,n.memoizedProps,l.memoizedProps)}break;case 27:la(a,n),ca(n),u&512&&(_n||l===null||Wo(l,l.return)),l!==null&&u&4&&xp(n,n.memoizedProps,l.memoizedProps);break;case 5:if(la(a,n),ca(n),u&512&&(_n||l===null||Wo(l,l.return)),n.flags&32){v=n.stateNode;try{Fa(v,"")}catch(Te){Rr(n,n.return,Te)}}u&4&&n.stateNode!=null&&(v=n.memoizedProps,xp(n,v,l!==null?l.memoizedProps:v)),u&1024&&(_p=!0);break;case 6:if(la(a,n),ca(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(Te){Rr(n,n.return,Te)}}break;case 3:if(kh=null,v=co,co=Ah(a.containerInfo),la(a,n),co=v,ca(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{sf(a.containerInfo)}catch(Te){Rr(n,n.return,Te)}_p&&(_p=!1,u2(n));break;case 4:u=co,co=Ah(n.stateNode.containerInfo),la(a,n),ca(n),co=u;break;case 12:la(a,n),ca(n);break;case 13:la(a,n),ca(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Lp=gt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,jp(n,u)));break;case 22:v=n.memoizedState!==null;var de=l!==null&&l.memoizedState!==null,Ne=Cs,Be=_n;if(Cs=Ne||v,_n=Be||de,la(a,n),_n=Be,Cs=Ne,ca(n),u&8192)e:for(a=n.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(l===null||de||Cs||_n||yc(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){de=l=a;try{if(x=de.stateNode,v)T=x.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{q=de.stateNode;var Fe=de.memoizedProps.style,Le=Fe!=null&&Fe.hasOwnProperty("display")?Fe.display:null;q.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(Te){Rr(de,de.return,Te)}}}else if(a.tag===6){if(l===null){de=a;try{de.stateNode.nodeValue=v?"":de.memoizedProps}catch(Te){Rr(de,de.return,Te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,jp(n,l))));break;case 19:la(a,n),ca(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,jp(n,u)));break;case 30:break;case 21:break;default:la(a,n),ca(n)}}function ca(n){var a=n.flags;if(a&2){try{for(var l,u=n.return;u!==null;){if(r2(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,x=wp(n);fh(n,x,v);break;case 5:var T=l.stateNode;l.flags&32&&(Fa(T,""),l.flags&=-33);var q=wp(n);fh(n,q,T);break;case 3:case 4:var de=l.stateNode.containerInfo,Ne=wp(n);Sp(n,Ne,de);break;default:throw Error(i(161))}}catch(Be){Rr(n,n.return,Be)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function u2(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;u2(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function vl(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)a2(n,a.alternate,a),a=a.sibling}function yc(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:ml(4,a,a.return),yc(a);break;case 1:Wo(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&e2(a,a.return,l),yc(a);break;case 27:Jd(a.stateNode);case 26:case 5:Wo(a,a.return),yc(a);break;case 22:a.memoizedState===null&&yc(a);break;case 30:yc(a);break;default:yc(a)}n=n.sibling}}function bl(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,v=n,x=a,T=x.flags;switch(x.tag){case 0:case 11:case 15:bl(v,x,l),qd(4,x);break;case 1:if(bl(v,x,l),u=x,v=u.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Ne){Rr(u,u.return,Ne)}if(u=x,v=u.updateQueue,v!==null){var q=u.stateNode;try{var de=v.shared.hiddenCallbacks;if(de!==null)for(v.shared.hiddenCallbacks=null,v=0;v<de.length;v++)Vt(de[v],q)}catch(Ne){Rr(u,u.return,Ne)}}l&&T&64&&Qm(x),Hd(x,x.return);break;case 27:n2(x);case 26:case 5:bl(v,x,l),l&&u===null&&T&4&&t2(x),Hd(x,x.return);break;case 12:bl(v,x,l);break;case 13:bl(v,x,l),l&&T&4&&l2(v,x);break;case 22:x.memoizedState===null&&bl(v,x,l),Hd(x,x.return);break;case 30:break;default:bl(v,x,l)}a=a.sibling}}function Ap(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&lc(l))}function Cp(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&lc(n))}function Go(n,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)d2(n,a,l,u),a=a.sibling}function d2(n,a,l,u){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Go(n,a,l,u),v&2048&&qd(9,a);break;case 1:Go(n,a,l,u);break;case 3:Go(n,a,l,u),v&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&lc(n)));break;case 12:if(v&2048){Go(n,a,l,u),n=a.stateNode;try{var x=a.memoizedProps,T=x.id,q=x.onPostCommit;typeof q=="function"&&q(T,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(de){Rr(a,a.return,de)}}else Go(n,a,l,u);break;case 13:Go(n,a,l,u);break;case 23:break;case 22:x=a.stateNode,T=a.alternate,a.memoizedState!==null?x._visibility&2?Go(n,a,l,u):$d(n,a):x._visibility&2?Go(n,a,l,u):(x._visibility|=2,pu(n,a,l,u,(a.subtreeFlags&10256)!==0)),v&2048&&Ap(T,a);break;case 24:Go(n,a,l,u),v&2048&&Cp(a.alternate,a);break;default:Go(n,a,l,u)}}function pu(n,a,l,u,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var x=n,T=a,q=l,de=u,Ne=T.flags;switch(T.tag){case 0:case 11:case 15:pu(x,T,q,de,v),qd(8,T);break;case 23:break;case 22:var Be=T.stateNode;T.memoizedState!==null?Be._visibility&2?pu(x,T,q,de,v):$d(x,T):(Be._visibility|=2,pu(x,T,q,de,v)),v&&Ne&2048&&Ap(T.alternate,T);break;case 24:pu(x,T,q,de,v),v&&Ne&2048&&Cp(T.alternate,T);break;default:pu(x,T,q,de,v)}a=a.sibling}}function $d(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,u=a,v=u.flags;switch(u.tag){case 22:$d(l,u),v&2048&&Ap(u.alternate,u);break;case 24:$d(l,u),v&2048&&Cp(u.alternate,u);break;default:$d(l,u)}a=a.sibling}}var Wd=8192;function gu(n){if(n.subtreeFlags&Wd)for(n=n.child;n!==null;)f2(n),n=n.sibling}function f2(n){switch(n.tag){case 26:gu(n),n.flags&Wd&&n.memoizedState!==null&&G4(co,n.memoizedState,n.memoizedProps);break;case 5:gu(n);break;case 3:case 4:var a=co;co=Ah(n.stateNode.containerInfo),gu(n),co=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=Wd,Wd=16777216,gu(n),Wd=a):gu(n));break;default:gu(n)}}function h2(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Gd(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Qn=u,g2(u,n)}h2(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)p2(n),n=n.sibling}function p2(n){switch(n.tag){case 0:case 11:case 15:Gd(n),n.flags&2048&&ml(9,n,n.return);break;case 3:Gd(n);break;case 12:Gd(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,hh(n)):Gd(n);break;default:Gd(n)}}function hh(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Qn=u,g2(u,n)}h2(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:ml(8,a,a.return),hh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,hh(a));break;default:hh(a)}n=n.sibling}}function g2(n,a){for(;Qn!==null;){var l=Qn;switch(l.tag){case 0:case 11:case 15:ml(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:lc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Qn=u;else e:for(l=n;Qn!==null;){u=Qn;var v=u.sibling,x=u.return;if(o2(u),u===l){Qn=null;break e}if(v!==null){v.return=x,Qn=v;break e}Qn=x}}}var l4={getCacheForType:function(n){var a=bn(yn),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l}},c4=typeof WeakMap=="function"?WeakMap:Map,xr=0,Ir=null,Jt=null,sr=0,wr=0,ua=null,yl=!1,mu=!1,kp=!1,Es=0,hn=0,xl=0,xc=0,Ep=0,Pa=0,vu=0,Vd=null,Vi=null,Np=!1,Lp=0,ph=1/0,gh=null,wl=null,hi=0,Sl=null,bu=null,yu=0,Tp=0,Op=null,m2=null,Yd=0,Rp=null;function da(){if((xr&2)!==0&&sr!==0)return sr&-sr;if(ne.T!==null){var n=xs;return n!==0?n:Up()}return Zi()}function v2(){Pa===0&&(Pa=(sr&536870912)===0||fr?Rt():536870912);var n=Ra.current;return n!==null&&(n.flags|=32),Pa}function fa(n,a,l){(n===Ir&&(wr===2||wr===9)||n.cancelPendingCommit!==null)&&(xu(n,0),_l(n,sr,Pa,!1)),cr(n,l),((xr&2)===0||n!==Ir)&&(n===Ir&&((xr&2)===0&&(xc|=l),hn===4&&_l(n,sr,Pa,!1)),Vo(n))}function b2(n,a,l){if((xr&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&n.expiredLanes)===0||ht(n,a),v=u?f4(n,a):zp(n,a,!0),x=u;do{if(v===0){mu&&!u&&_l(n,a,0,!1);break}else{if(l=n.current.alternate,x&&!u4(l)){v=zp(n,a,!1),x=!1;continue}if(v===2){if(x=a,n.errorRecoveryDisabledLanes&x)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var q=n;v=Vd;var de=q.current.memoizedState.isDehydrated;if(de&&(xu(q,T).flags|=256),T=zp(q,T,!1),T!==2){if(kp&&!de){q.errorRecoveryDisabledLanes|=x,xc|=x,v=4;break e}x=Vi,Vi=v,x!==null&&(Vi===null?Vi=x:Vi.push.apply(Vi,x))}v=T}if(x=!1,v!==2)continue}}if(v===1){xu(n,0),_l(n,a,0,!0);break}e:{switch(u=n,x=v,x){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:_l(u,a,Pa,!yl);break e;case 2:Vi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(v=Lp+300-gt(),10<v)){if(_l(u,a,Pa,!yl),hr(u,0,!0)!==0)break e;u.timeoutHandle=V2(y2.bind(null,u,l,Vi,gh,Np,a,Pa,xc,vu,yl,x,2,-0,0),v);break e}y2(u,l,Vi,gh,Np,a,Pa,xc,vu,yl,x,0,-0,0)}}break}while(!0);Vo(n)}function y2(n,a,l,u,v,x,T,q,de,Ne,Be,Fe,Le,Te){if(n.timeoutHandle=-1,Fe=a.subtreeFlags,(Fe&8192||(Fe&16785408)===16785408)&&(tf={stylesheets:null,count:0,unsuspend:W4},f2(a),Fe=V4(),Fe!==null)){n.cancelPendingCommit=Fe(C2.bind(null,n,a,x,l,u,v,T,q,de,Be,1,Le,Te)),_l(n,x,T,!Ne);return}C2(n,a,x,l,u,v,T,q,de)}function u4(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var v=l[u],x=v.getSnapshot;v=v.value;try{if(!Vr(x(),v))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _l(n,a,l,u){a&=~Ep,a&=~xc,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var v=a;0<v;){var x=31-Ze(v),T=1<<x;u[x]=-1,v&=~T}l!==0&&ur(n,l,a)}function mh(){return(xr&6)===0?(Kd(0),!1):!0}function Pp(){if(Jt!==null){if(wr===0)var n=Jt.return;else n=Jt,no=Ln=null,Un(n),fu=null,Id=0,n=Jt;for(;n!==null;)Jm(n.alternate,n),n=n.return;Jt=null}}function xu(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,E4(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Pp(),Ir=n,Jt=l=Ca(n.current,null),sr=a,wr=0,ua=null,yl=!1,mu=ht(n,a),kp=!1,vu=Pa=Ep=xc=xl=hn=0,Vi=Vd=null,Np=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var v=31-Ze(u),x=1<<v;a|=n[v],u&=~x}return Es=a,rc(),l}function x2(n,a){rt=null,ne.H=nh,a===I||a===G?(a=ye(),wr=3):a===F?(a=ye(),wr=4):wr=a===Bm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ua=a,Jt===null&&(hn=1,lh(n,Ti(a,n.current)))}function w2(){var n=ne.H;return ne.H=nh,n===null?nh:n}function S2(){var n=ne.A;return ne.A=l4,n}function Dp(){hn=4,yl||(sr&4194048)!==sr&&Ra.current!==null||(mu=!0),(xl&134217727)===0&&(xc&134217727)===0||Ir===null||_l(Ir,sr,Pa,!1)}function zp(n,a,l){var u=xr;xr|=2;var v=w2(),x=S2();(Ir!==n||sr!==a)&&(gh=null,xu(n,a)),a=!1;var T=hn;e:do try{if(wr!==0&&Jt!==null){var q=Jt,de=ua;switch(wr){case 8:Pp(),T=6;break e;case 3:case 2:case 9:case 6:Ra.current===null&&(a=!0);var Ne=wr;if(wr=0,ua=null,wu(n,q,de,Ne),l&&mu){T=0;break e}break;default:Ne=wr,wr=0,ua=null,wu(n,q,de,Ne)}}d4(),T=hn;break}catch(Be){x2(n,Be)}while(!0);return a&&n.shellSuspendCounter++,no=Ln=null,xr=u,ne.H=v,ne.A=x,Jt===null&&(Ir=null,sr=0,rc()),T}function d4(){for(;Jt!==null;)_2(Jt)}function f4(n,a){var l=xr;xr|=2;var u=w2(),v=S2();Ir!==n||sr!==a?(gh=null,ph=gt()+500,xu(n,a)):mu=ht(n,a);e:do try{if(wr!==0&&Jt!==null){a=Jt;var x=ua;t:switch(wr){case 1:wr=0,ua=null,wu(n,a,x,1);break;case 2:case 9:if(Z(x)){wr=0,ua=null,j2(a);break}a=function(){wr!==2&&wr!==9||Ir!==n||(wr=7),Vo(n)},x.then(a,a);break e;case 3:wr=7;break e;case 4:wr=5;break e;case 7:Z(x)?(wr=0,ua=null,j2(a)):(wr=0,ua=null,wu(n,a,x,7));break;case 5:var T=null;switch(Jt.tag){case 26:T=Jt.memoizedState;case 5:case 27:var q=Jt;if(!T||a5(T)){wr=0,ua=null;var de=q.sibling;if(de!==null)Jt=de;else{var Ne=q.return;Ne!==null?(Jt=Ne,vh(Ne)):Jt=null}break t}}wr=0,ua=null,wu(n,a,x,5);break;case 6:wr=0,ua=null,wu(n,a,x,6);break;case 8:Pp(),hn=6;break e;default:throw Error(i(462))}}h4();break}catch(Be){x2(n,Be)}while(!0);return no=Ln=null,ne.H=u,ne.A=v,xr=l,Jt!==null?0:(Ir=null,sr=0,rc(),hn)}function h4(){for(;Jt!==null&&!le();)_2(Jt)}function _2(n){var a=Xm(n.alternate,n,Es);n.memoizedProps=n.pendingProps,a===null?vh(n):Jt=a}function j2(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=$m(l,a,a.pendingProps,a.type,void 0,sr);break;case 11:a=$m(l,a,a.pendingProps,a.type.render,a.ref,sr);break;case 5:Un(a);default:Jm(l,a),a=Jt=ic(a,Es),a=Xm(l,a,Es)}n.memoizedProps=n.pendingProps,a===null?vh(n):Jt=a}function wu(n,a,l,u){no=Ln=null,Un(a),fu=null,Id=0;var v=a.return;try{if(r4(n,v,a,l,sr)){hn=1,lh(n,Ti(l,n.current)),Jt=null;return}}catch(x){if(v!==null)throw Jt=v,x;hn=1,lh(n,Ti(l,n.current)),Jt=null;return}a.flags&32768?(fr||u===1?n=!0:mu||(sr&536870912)!==0?n=!1:(yl=n=!0,(u===2||u===9||u===3||u===6)&&(u=Ra.current,u!==null&&u.tag===13&&(u.flags|=16384))),A2(a,n)):vh(a)}function vh(n){var a=n;do{if((a.flags&32768)!==0){A2(a,yl);return}n=a.return;var l=i4(a.alternate,a,Es);if(l!==null){Jt=l;return}if(a=a.sibling,a!==null){Jt=a;return}Jt=a=n}while(a!==null);hn===0&&(hn=5)}function A2(n,a){do{var l=a4(n.alternate,n);if(l!==null){l.flags&=32767,Jt=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){Jt=n;return}Jt=n=l}while(n!==null);hn=6,Jt=null}function C2(n,a,l,u,v,x,T,q,de){n.cancelPendingCommit=null;do bh();while(hi!==0);if((xr&6)!==0)throw Error(i(327));if(a!==null){if(a===n.current)throw Error(i(177));if(x=a.lanes|a.childLanes,x|=Qc,Nt(n,l,x,T,q,de),n===Ir&&(Jt=Ir=null,sr=0),bu=a,Sl=n,yu=l,Tp=x,Op=v,m2=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,v4(Ye,function(){return T2(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=ne.T,ne.T=null,v=he.p,he.p=2,T=xr,xr|=4;try{o4(n,a,l)}finally{xr=T,he.p=v,ne.T=u}}hi=1,k2(),E2(),N2()}}function k2(){if(hi===1){hi=0;var n=Sl,a=bu,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ne.T,ne.T=null;var u=he.p;he.p=2;var v=xr;xr|=4;try{c2(a,n);var x=Yp,T=nl(n.containerInfo),q=x.focusedElem,de=x.selectionRange;if(T!==q&&q&&q.ownerDocument&&rl(q.ownerDocument.documentElement,q)){if(de!==null&&ja(q)){var Ne=de.start,Be=de.end;if(Be===void 0&&(Be=Ne),"selectionStart"in q)q.selectionStart=Ne,q.selectionEnd=Math.min(Be,q.value.length);else{var Fe=q.ownerDocument||document,Le=Fe&&Fe.defaultView||window;if(Le.getSelection){var Te=Le.getSelection(),Et=q.textContent.length,xt=Math.min(de.start,Et),Er=de.end===void 0?xt:Math.min(de.end,Et);!Te.extend&&xt>Er&&(T=Er,Er=xt,xt=T);var we=tl(q,xt),me=tl(q,Er);if(we&&me&&(Te.rangeCount!==1||Te.anchorNode!==we.node||Te.anchorOffset!==we.offset||Te.focusNode!==me.node||Te.focusOffset!==me.offset)){var Ce=Fe.createRange();Ce.setStart(we.node,we.offset),Te.removeAllRanges(),xt>Er?(Te.addRange(Ce),Te.extend(me.node,me.offset)):(Ce.setEnd(me.node,me.offset),Te.addRange(Ce))}}}}for(Fe=[],Te=q;Te=Te.parentNode;)Te.nodeType===1&&Fe.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Fe.length;q++){var Ie=Fe[q];Ie.element.scrollLeft=Ie.left,Ie.element.scrollTop=Ie.top}}Lh=!!Vp,Yp=Vp=null}finally{xr=v,he.p=u,ne.T=l}}n.current=a,hi=2}}function E2(){if(hi===2){hi=0;var n=Sl,a=bu,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ne.T,ne.T=null;var u=he.p;he.p=2;var v=xr;xr|=4;try{a2(n,a.alternate,a)}finally{xr=v,he.p=u,ne.T=l}}hi=3}}function N2(){if(hi===4||hi===3){hi=0,Gt();var n=Sl,a=bu,l=yu,u=m2;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?hi=5:(hi=0,bu=Sl=null,L2(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(wl=null),Xi(l),a=a.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(St,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=ne.T,v=he.p,he.p=2,ne.T=null;try{for(var x=n.onRecoverableError,T=0;T<u.length;T++){var q=u[T];x(q.value,{componentStack:q.stack})}}finally{ne.T=a,he.p=v}}(yu&3)!==0&&bh(),Vo(n),v=n.pendingLanes,(l&4194090)!==0&&(v&42)!==0?n===Rp?Yd++:(Yd=0,Rp=n):Yd=0,Kd(0)}}function L2(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,lc(a)))}function bh(n){return k2(),E2(),N2(),T2()}function T2(){if(hi!==5)return!1;var n=Sl,a=Tp;Tp=0;var l=Xi(yu),u=ne.T,v=he.p;try{he.p=32>l?32:l,ne.T=null,l=Op,Op=null;var x=Sl,T=yu;if(hi=0,bu=Sl=null,yu=0,(xr&6)!==0)throw Error(i(331));var q=xr;if(xr|=4,p2(x.current),d2(x,x.current,T,l),xr=q,Kd(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(St,x)}catch{}return!0}finally{he.p=v,ne.T=u,L2(n,a)}}function O2(n,a,l){a=Ti(l,a),a=dp(n.stateNode,a,2),n=$e(n,a,2),n!==null&&(cr(n,2),Vo(n))}function Rr(n,a,l){if(n.tag===3)O2(n,n,l);else for(;a!==null;){if(a.tag===3){O2(a,n,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(wl===null||!wl.has(u))){n=Ti(l,n),l=zm(2),u=$e(a,l,2),u!==null&&(Mm(l,u,a,n),cr(u,2),Vo(u));break}}a=a.return}}function Mp(n,a,l){var u=n.pingCache;if(u===null){u=n.pingCache=new c4;var v=new Set;u.set(a,v)}else v=u.get(a),v===void 0&&(v=new Set,u.set(a,v));v.has(l)||(kp=!0,v.add(l),n=p4.bind(null,n,a,l),a.then(n,n))}function p4(n,a,l){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Ir===n&&(sr&l)===l&&(hn===4||hn===3&&(sr&62914560)===sr&&300>gt()-Lp?(xr&2)===0&&xu(n,0):Ep|=l,vu===sr&&(vu=0)),Vo(n)}function R2(n,a){a===0&&(a=Wr()),n=ps(n,a),n!==null&&(cr(n,a),Vo(n))}function g4(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),R2(n,l)}function m4(n,a){var l=0;switch(n.tag){case 13:var u=n.stateNode,v=n.memoizedState;v!==null&&(l=v.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),R2(n,l)}function v4(n,a){return Ke(n,a)}var yh=null,Su=null,Bp=!1,xh=!1,Ip=!1,wc=0;function Vo(n){n!==Su&&n.next===null&&(Su===null?yh=Su=n:Su=Su.next=n),xh=!0,Bp||(Bp=!0,y4())}function Kd(n,a){if(!Ip&&xh){Ip=!0;do for(var l=!1,u=yh;u!==null;){if(n!==0){var v=u.pendingLanes;if(v===0)var x=0;else{var T=u.suspendedLanes,q=u.pingedLanes;x=(1<<31-Ze(42|n)+1)-1,x&=v&~(T&~q),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,M2(u,x))}else x=sr,x=hr(u,u===Ir?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||ht(u,x)||(l=!0,M2(u,x));u=u.next}while(l);Ip=!1}}function b4(){P2()}function P2(){xh=Bp=!1;var n=0;wc!==0&&(k4()&&(n=wc),wc=0);for(var a=gt(),l=null,u=yh;u!==null;){var v=u.next,x=D2(u,a);x===0?(u.next=null,l===null?yh=v:l.next=v,v===null&&(Su=l)):(l=u,(n!==0||(x&3)!==0)&&(xh=!0)),u=v}Kd(n)}function D2(n,a){for(var l=n.suspendedLanes,u=n.pingedLanes,v=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var T=31-Ze(x),q=1<<T,de=v[T];de===-1?((q&l)===0||(q&u)!==0)&&(v[T]=Xt(q,a)):de<=a&&(n.expiredLanes|=q),x&=~q}if(a=Ir,l=sr,l=hr(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===a&&(wr===2||wr===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Re(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||ht(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(u!==null&&Re(u),Xi(l)){case 2:case 8:l=lt;break;case 32:l=Ye;break;case 268435456:l=ut;break;default:l=Ye}return u=z2.bind(null,n),l=Ke(l,u),n.callbackPriority=a,n.callbackNode=l,a}return u!==null&&u!==null&&Re(u),n.callbackPriority=2,n.callbackNode=null,2}function z2(n,a){if(hi!==0&&hi!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(bh()&&n.callbackNode!==l)return null;var u=sr;return u=hr(n,n===Ir?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(b2(n,u,a),D2(n,gt()),n.callbackNode!=null&&n.callbackNode===l?z2.bind(null,n):null)}function M2(n,a){if(bh())return null;b2(n,a,!0)}function y4(){N4(function(){(xr&6)!==0?Ke(We,b4):P2()})}function Up(){return wc===0&&(wc=Rt()),wc}function B2(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ma(""+n)}function I2(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function x4(n,a,l,u,v){if(a==="submit"&&l&&l.stateNode===v){var x=B2((v[Lr]||null).action),T=u.submitter;T&&(a=(a=T[Lr]||null)?B2(a.formAction):T.getAttribute("formAction"),a!==null&&(x=a,T=null));var q=new Eo("action","action",null,u,v);n.push({event:q,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(wc!==0){var de=T?I2(v,T):new FormData(v);Oa(l,{pending:!0,data:de,method:v.method,action:x},null,de)}}else typeof x=="function"&&(q.preventDefault(),de=T?I2(v,T):new FormData(v),Oa(l,{pending:!0,data:de,method:v.method,action:x},x,de))},currentTarget:v}]})}}for(var Fp=0;Fp<Jc.length;Fp++){var qp=Jc[Fp],w4=qp.toLowerCase(),S4=qp[0].toUpperCase()+qp.slice(1);Hi(w4,"on"+S4)}Hi(Aa,"onAnimationEnd"),Hi(il,"onAnimationIteration"),Hi(fs,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(Zc,"onTransitionRun"),Hi(Bf,"onTransitionStart"),Hi(If,"onTransitionCancel"),Hi(Sd,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xd));function U2(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],v=u.event;u=u.listeners;e:{var x=void 0;if(a)for(var T=u.length-1;0<=T;T--){var q=u[T],de=q.instance,Ne=q.currentTarget;if(q=q.listener,de!==x&&v.isPropagationStopped())break e;x=q,v.currentTarget=Ne;try{x(v)}catch(Be){sh(Be)}v.currentTarget=null,x=de}else for(T=0;T<u.length;T++){if(q=u[T],de=q.instance,Ne=q.currentTarget,q=q.listener,de!==x&&v.isPropagationStopped())break e;x=q,v.currentTarget=Ne;try{x(v)}catch(Be){sh(Be)}v.currentTarget=null,x=de}}}}function Qt(n,a){var l=a[Mr];l===void 0&&(l=a[Mr]=new Set);var u=n+"__bubble";l.has(u)||(F2(a,n,2,!1),l.add(u))}function Hp(n,a,l){var u=0;a&&(u|=4),F2(l,n,u,a)}var wh="_reactListening"+Math.random().toString(36).slice(2);function $p(n){if(!n[wh]){n[wh]=!0,Ji.forEach(function(l){l!=="selectionchange"&&(_4.has(l)||Hp(l,!1,n),Hp(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[wh]||(a[wh]=!0,Hp("selectionchange",!1,a))}}function F2(n,a,l,u){switch(d5(a)){case 2:var v=X4;break;case 8:v=Z4;break;default:v=i1}l=v.bind(null,a,l,n),v=void 0,!ra||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),u?v!==void 0?n.addEventListener(a,l,{capture:!0,passive:v}):n.addEventListener(a,l,!0):v!==void 0?n.addEventListener(a,l,{passive:v}):n.addEventListener(a,l,!1)}function Wp(n,a,l,u,v){var x=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var q=u.stateNode.containerInfo;if(q===v)break;if(T===4)for(T=u.return;T!==null;){var de=T.tag;if((de===3||de===4)&&T.stateNode.containerInfo===v)return;T=T.return}for(;q!==null;){if(T=ii(q),T===null)return;if(de=T.tag,de===5||de===6||de===26||de===27){u=x=T;continue e}q=q.parentNode}}u=u.return}Wc(function(){var Ne=x,Be=Kl(l),Fe=[];e:{var Le=_d.get(n);if(Le!==void 0){var Te=Eo,Et=n;switch(n){case"keypress":if(xa(l)===0)break e;case"keydown":case"keyup":Te=Ct;break;case"focusin":Et="focus",Te=Zs;break;case"focusout":Et="blur",Te=Zs;break;case"beforeblur":case"afterblur":Te=Zs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Wa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=un;break;case Aa:case il:case fs:Te=cs;break;case Sd:Te=mn;break;case"scroll":case"scrollend":Te=ss;break;case"wheel":Te=Bn;break;case"copy":case"cut":case"paste":Te=_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=ar;break;case"toggle":case"beforetoggle":Te=vi}var xt=(a&4)!==0,Er=!xt&&(n==="scroll"||n==="scrollend"),we=xt?Le!==null?Le+"Capture":null:Le;xt=[];for(var me=Ne,Ce;me!==null;){var Ie=me;if(Ce=Ie.stateNode,Ie=Ie.tag,Ie!==5&&Ie!==26&&Ie!==27||Ce===null||we===null||(Ie=as(me,we),Ie!=null&&xt.push(Zd(me,Ie,Ce))),Er)break;me=me.return}0<xt.length&&(Le=new Te(Le,Et,null,l,Be),Fe.push({event:Le,listeners:xt}))}}if((a&7)===0){e:{if(Le=n==="mouseover"||n==="pointerover",Te=n==="mouseout"||n==="pointerout",Le&&l!==va&&(Et=l.relatedTarget||l.fromElement)&&(ii(Et)||Et[Dn]))break e;if((Te||Le)&&(Le=Be.window===Be?Be:(Le=Be.ownerDocument)?Le.defaultView||Le.parentWindow:window,Te?(Et=l.relatedTarget||l.toElement,Te=Ne,Et=Et?ii(Et):null,Et!==null&&(Er=s(Et),xt=Et.tag,Et!==Er||xt!==5&&xt!==27&&xt!==6)&&(Et=null)):(Te=null,Et=Ne),Te!==Et)){if(xt=Jl,Ie="onMouseLeave",we="onMouseEnter",me="mouse",(n==="pointerout"||n==="pointerover")&&(xt=ar,Ie="onPointerLeave",we="onPointerEnter",me="pointer"),Er=Te==null?Le:ai(Te),Ce=Et==null?Le:ai(Et),Le=new xt(Ie,me+"leave",Te,l,Be),Le.target=Er,Le.relatedTarget=Ce,Ie=null,ii(Be)===Ne&&(xt=new xt(we,me+"enter",Et,l,Be),xt.target=Ce,xt.relatedTarget=Er,Ie=xt),Er=Ie,Te&&Et)t:{for(xt=Te,we=Et,me=0,Ce=xt;Ce;Ce=_u(Ce))me++;for(Ce=0,Ie=we;Ie;Ie=_u(Ie))Ce++;for(;0<me-Ce;)xt=_u(xt),me--;for(;0<Ce-me;)we=_u(we),Ce--;for(;me--;){if(xt===we||we!==null&&xt===we.alternate)break t;xt=_u(xt),we=_u(we)}xt=null}else xt=null;Te!==null&&q2(Fe,Le,Te,xt,!1),Et!==null&&Er!==null&&q2(Fe,Er,Et,xt,!0)}}e:{if(Le=Ne?ai(Ne):window,Te=Le.nodeName&&Le.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Le.type==="file")var nt=Js;else if(Sa(Le))if(Va)nt=nn;else{nt=tc;var Yt=Bo}else Te=Le.nodeName,!Te||Te.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Ne&&Vl(Ne.elementType)&&(nt=Js):nt=Qs;if(nt&&(nt=nt(n,Ne))){us(Fe,nt,l,Be);break e}Yt&&Yt(n,Le,Ne),n==="focusout"&&Ne&&Le.type==="number"&&Ne.memoizedProps.value!=null&&Wl(Le,"number",Le.value)}switch(Yt=Ne?ai(Ne):window,n){case"focusin":(Sa(Yt)||Yt.contentEditable==="true")&&(Ni=Yt,Xa=Ne,qi=null);break;case"focusout":qi=Xa=Ni=null;break;case"mousedown":Za=!0;break;case"contextmenu":case"mouseup":case"dragend":Za=!1,Li(Fe,l,Be);break;case"selectionchange":if(Io)break;case"keydown":case"keyup":Li(Fe,l,Be)}var ft;if(Lo)e:{switch(n){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else Fi?In(n,l)&&(wt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(wt="onCompositionStart");wt&&(Oo&&l.locale!=="ko"&&(Fi||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Fi&&(ft=Xs()):(ya=Be,Zl="value"in ya?ya.value:ya.textContent,Fi=!0)),Yt=Sh(Ne,wt),0<Yt.length&&(wt=new ee(wt,n,null,l,Be),Fe.push({event:wt,listeners:Yt}),ft?wt.data=ft:(ft=Do(l),ft!==null&&(wt.data=ft)))),(ft=To?Ql(n,l):ec(n,l))&&(wt=Sh(Ne,"onBeforeInput"),0<wt.length&&(Yt=new ee("onBeforeInput","beforeinput",null,l,Be),Fe.push({event:Yt,listeners:wt}),Yt.data=ft)),x4(Fe,n,Ne,l,Be)}U2(Fe,a)})}function Zd(n,a,l){return{instance:n,listener:a,currentTarget:l}}function Sh(n,a){for(var l=a+"Capture",u=[];n!==null;){var v=n,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=as(n,l),v!=null&&u.unshift(Zd(n,v,x)),v=as(n,a),v!=null&&u.push(Zd(n,v,x))),n.tag===3)return u;n=n.return}return[]}function _u(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function q2(n,a,l,u,v){for(var x=a._reactName,T=[];l!==null&&l!==u;){var q=l,de=q.alternate,Ne=q.stateNode;if(q=q.tag,de!==null&&de===u)break;q!==5&&q!==26&&q!==27||Ne===null||(de=Ne,v?(Ne=as(l,x),Ne!=null&&T.unshift(Zd(l,Ne,de))):v||(Ne=as(l,x),Ne!=null&&T.push(Zd(l,Ne,de)))),l=l.return}T.length!==0&&n.push({event:a,listeners:T})}var j4=/\r\n?/g,A4=/\u0000|\uFFFD/g;function H2(n){return(typeof n=="string"?n:""+n).replace(j4,`
`).replace(A4,"")}function $2(n,a){return a=H2(a),H2(n)===a}function _h(){}function kr(n,a,l,u,v,x){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Fa(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Fa(n,""+u);break;case"className":oi(n,"class",u);break;case"tabIndex":oi(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(n,l,u);break;case"style":$c(n,u,x);break;case"data":if(a!=="object"){oi(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=ma(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&kr(n,a,"name",v.name,v,null),kr(n,a,"formEncType",v.formEncType,v,null),kr(n,a,"formMethod",v.formMethod,v,null),kr(n,a,"formTarget",v.formTarget,v,null)):(kr(n,a,"encType",v.encType,v,null),kr(n,a,"method",v.method,v,null),kr(n,a,"target",v.target,v,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=ma(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=_h);break;case"onScroll":u!=null&&Qt("scroll",n);break;case"onScrollEnd":u!=null&&Qt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=ma(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Qt("beforetoggle",n),Qt("toggle",n),rs(n,"popover",u);break;case"xlinkActuate":ki(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ki(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ki(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ki(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ki(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ki(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ki(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ki(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ki(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":rs(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=wd.get(l)||l,rs(n,l,u))}}function Gp(n,a,l,u,v,x){switch(l){case"style":$c(n,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Fa(n,u):(typeof u=="number"||typeof u=="bigint")&&Fa(n,""+u);break;case"onScroll":u!=null&&Qt("scroll",n);break;case"onScrollEnd":u!=null&&Qt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=_h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),a=l.slice(2,v?l.length-7:void 0),x=n[Lr]||null,x=x!=null?x[l]:null,typeof x=="function"&&n.removeEventListener(a,x,v),typeof u=="function")){typeof x!="function"&&x!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,u,v);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):rs(n,l,u)}}}function pi(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",n),Qt("load",n);var u=!1,v=!1,x;for(x in l)if(l.hasOwnProperty(x)){var T=l[x];if(T!=null)switch(x){case"src":u=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:kr(n,a,x,T,l,null)}}v&&kr(n,a,"srcSet",l.srcSet,l,null),u&&kr(n,a,"src",l.src,l,null);return;case"input":Qt("invalid",n);var q=x=T=v=null,de=null,Ne=null;for(u in l)if(l.hasOwnProperty(u)){var Be=l[u];if(Be!=null)switch(u){case"name":v=Be;break;case"type":T=Be;break;case"checked":de=Be;break;case"defaultChecked":Ne=Be;break;case"value":x=Be;break;case"defaultValue":q=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(i(137,a));break;default:kr(n,a,u,Be,l,null)}}Hc(n,x,q,de,Ne,T,v,!1),Bi(n);return;case"select":Qt("invalid",n),u=T=x=null;for(v in l)if(l.hasOwnProperty(v)&&(q=l[v],q!=null))switch(v){case"value":x=q;break;case"defaultValue":T=q;break;case"multiple":u=q;default:kr(n,a,v,q,l,null)}a=x,l=T,n.multiple=!!u,a!=null?Co(n,!!u,a,!1):l!=null&&Co(n,!!u,l,!0);return;case"textarea":Qt("invalid",n),x=v=u=null;for(T in l)if(l.hasOwnProperty(T)&&(q=l[T],q!=null))switch(T){case"value":u=q;break;case"defaultValue":v=q;break;case"children":x=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(91));break;default:kr(n,a,T,q,l,null)}Gl(n,u,v,x),Bi(n);return;case"option":for(de in l)if(l.hasOwnProperty(de)&&(u=l[de],u!=null))switch(de){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:kr(n,a,de,u,l,null)}return;case"dialog":Qt("beforetoggle",n),Qt("toggle",n),Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":Qt("load",n);break;case"video":case"audio":for(u=0;u<Xd.length;u++)Qt(Xd[u],n);break;case"image":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"embed":case"source":case"link":Qt("error",n),Qt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ne in l)if(l.hasOwnProperty(Ne)&&(u=l[Ne],u!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:kr(n,a,Ne,u,l,null)}return;default:if(Vl(a)){for(Be in l)l.hasOwnProperty(Be)&&(u=l[Be],u!==void 0&&Gp(n,a,Be,u,l,void 0));return}}for(q in l)l.hasOwnProperty(q)&&(u=l[q],u!=null&&kr(n,a,q,u,l,null))}function C4(n,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,T=null,q=null,de=null,Ne=null,Be=null;for(Te in l){var Fe=l[Te];if(l.hasOwnProperty(Te)&&Fe!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":de=Fe;default:u.hasOwnProperty(Te)||kr(n,a,Te,null,u,Fe)}}for(var Le in u){var Te=u[Le];if(Fe=l[Le],u.hasOwnProperty(Le)&&(Te!=null||Fe!=null))switch(Le){case"type":x=Te;break;case"name":v=Te;break;case"checked":Ne=Te;break;case"defaultChecked":Be=Te;break;case"value":T=Te;break;case"defaultValue":q=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,a));break;default:Te!==Fe&&kr(n,a,Le,Te,u,Fe)}}is(n,T,q,de,Ne,Be,x,v);return;case"select":Te=T=q=Le=null;for(x in l)if(de=l[x],l.hasOwnProperty(x)&&de!=null)switch(x){case"value":break;case"multiple":Te=de;default:u.hasOwnProperty(x)||kr(n,a,x,null,u,de)}for(v in u)if(x=u[v],de=l[v],u.hasOwnProperty(v)&&(x!=null||de!=null))switch(v){case"value":Le=x;break;case"defaultValue":q=x;break;case"multiple":T=x;default:x!==de&&kr(n,a,v,x,u,de)}a=q,l=T,u=Te,Le!=null?Co(n,!!l,Le,!1):!!u!=!!l&&(a!=null?Co(n,!!l,a,!0):Co(n,!!l,l?[]:"",!1));return;case"textarea":Te=Le=null;for(q in l)if(v=l[q],l.hasOwnProperty(q)&&v!=null&&!u.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:kr(n,a,q,null,u,v)}for(T in u)if(v=u[T],x=l[T],u.hasOwnProperty(T)&&(v!=null||x!=null))switch(T){case"value":Le=v;break;case"defaultValue":Te=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==x&&kr(n,a,T,v,u,x)}ea(n,Le,Te);return;case"option":for(var Et in l)if(Le=l[Et],l.hasOwnProperty(Et)&&Le!=null&&!u.hasOwnProperty(Et))switch(Et){case"selected":n.selected=!1;break;default:kr(n,a,Et,null,u,Le)}for(de in u)if(Le=u[de],Te=l[de],u.hasOwnProperty(de)&&Le!==Te&&(Le!=null||Te!=null))switch(de){case"selected":n.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:kr(n,a,de,Le,u,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in l)Le=l[xt],l.hasOwnProperty(xt)&&Le!=null&&!u.hasOwnProperty(xt)&&kr(n,a,xt,null,u,Le);for(Ne in u)if(Le=u[Ne],Te=l[Ne],u.hasOwnProperty(Ne)&&Le!==Te&&(Le!=null||Te!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(i(137,a));break;default:kr(n,a,Ne,Le,u,Te)}return;default:if(Vl(a)){for(var Er in l)Le=l[Er],l.hasOwnProperty(Er)&&Le!==void 0&&!u.hasOwnProperty(Er)&&Gp(n,a,Er,void 0,u,Le);for(Be in u)Le=u[Be],Te=l[Be],!u.hasOwnProperty(Be)||Le===Te||Le===void 0&&Te===void 0||Gp(n,a,Be,Le,u,Te);return}}for(var we in l)Le=l[we],l.hasOwnProperty(we)&&Le!=null&&!u.hasOwnProperty(we)&&kr(n,a,we,null,u,Le);for(Fe in u)Le=u[Fe],Te=l[Fe],!u.hasOwnProperty(Fe)||Le===Te||Le==null&&Te==null||kr(n,a,Fe,Le,u,Te)}var Vp=null,Yp=null;function jh(n){return n.nodeType===9?n:n.ownerDocument}function W2(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G2(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Kp(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xp=null;function k4(){var n=window.event;return n&&n.type==="popstate"?n===Xp?!1:(Xp=n,!0):(Xp=null,!1)}var V2=typeof setTimeout=="function"?setTimeout:void 0,E4=typeof clearTimeout=="function"?clearTimeout:void 0,Y2=typeof Promise=="function"?Promise:void 0,N4=typeof queueMicrotask=="function"?queueMicrotask:typeof Y2<"u"?function(n){return Y2.resolve(null).then(n).catch(L4)}:V2;function L4(n){setTimeout(function(){throw n})}function jl(n){return n==="head"}function K2(n,a){var l=a,u=0,v=0;do{var x=l.nextSibling;if(n.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<u&&8>u){l=u;var T=n.ownerDocument;if(l&1&&Jd(T.documentElement),l&2&&Jd(T.body),l&4)for(l=T.head,Jd(l),T=l.firstChild;T;){var q=T.nextSibling,de=T.nodeName;T[zi]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=q}}if(v===0){n.removeChild(x),sf(a);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:u=l.charCodeAt(0)-48;else u=0;l=x}while(l);sf(a)}function Zp(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Zp(l),Ci(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function T4(n,a,l,u){for(;n.nodeType===1;){var v=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[zi])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=uo(n.nextSibling),n===null)break}return null}function O4(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=uo(n.nextSibling),n===null))return null;return n}function Jp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function R4(n,a){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function uo(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var Qp=null;function X2(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return n;a--}else l==="/$"&&a++}n=n.previousSibling}return null}function Z2(n,a,l){switch(a=jh(l),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Jd(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Ci(n)}var Da=new Map,J2=new Set;function Ah(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ns=he.d;he.d={f:P4,r:D4,D:z4,C:M4,L:B4,m:I4,X:F4,S:U4,M:q4};function P4(){var n=Ns.f(),a=mh();return n||a}function D4(n){var a=Gn(n);a!==null&&a.tag===5&&a.type==="form"?mc(a):Ns.r(n)}var ju=typeof document>"u"?null:document;function Q2(n,a,l){var u=ju;if(u&&typeof a=="string"&&a){var v=ir(a);v='link[rel="'+n+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),J2.has(v)||(J2.add(v),n={rel:n,crossOrigin:l,href:a},u.querySelector(v)===null&&(a=u.createElement("link"),pi(a,"link",n),Br(a),u.head.appendChild(a)))}}function z4(n){Ns.D(n),Q2("dns-prefetch",n,null)}function M4(n,a){Ns.C(n,a),Q2("preconnect",n,a)}function B4(n,a,l){Ns.L(n,a,l);var u=ju;if(u&&n&&a){var v='link[rel="preload"][as="'+ir(a)+'"]';a==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+ir(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+ir(l.imageSizes)+'"]')):v+='[href="'+ir(n)+'"]';var x=v;switch(a){case"style":x=Au(n);break;case"script":x=Cu(n)}Da.has(x)||(n=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),Da.set(x,n),u.querySelector(v)!==null||a==="style"&&u.querySelector(Qd(x))||a==="script"&&u.querySelector(ef(x))||(a=u.createElement("link"),pi(a,"link",n),Br(a),u.head.appendChild(a)))}}function I4(n,a){Ns.m(n,a);var l=ju;if(l&&n){var u=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+ir(u)+'"][href="'+ir(n)+'"]',x=v;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Cu(n)}if(!Da.has(x)&&(n=g({rel:"modulepreload",href:n},a),Da.set(x,n),l.querySelector(v)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ef(x)))return}u=l.createElement("link"),pi(u,"link",n),Br(u),l.head.appendChild(u)}}}function U4(n,a,l){Ns.S(n,a,l);var u=ju;if(u&&n){var v=Mn(u).hoistableStyles,x=Au(n);a=a||"default";var T=v.get(x);if(!T){var q={loading:0,preload:null};if(T=u.querySelector(Qd(x)))q.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":a},l),(l=Da.get(x))&&e1(n,l);var de=T=u.createElement("link");Br(de),pi(de,"link",n),de._p=new Promise(function(Ne,Be){de.onload=Ne,de.onerror=Be}),de.addEventListener("load",function(){q.loading|=1}),de.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Ch(T,a,u)}T={type:"stylesheet",instance:T,count:1,state:q},v.set(x,T)}}}function F4(n,a){Ns.X(n,a);var l=ju;if(l&&n){var u=Mn(l).hoistableScripts,v=Cu(n),x=u.get(v);x||(x=l.querySelector(ef(v)),x||(n=g({src:n,async:!0},a),(a=Da.get(v))&&t1(n,a),x=l.createElement("script"),Br(x),pi(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(v,x))}}function q4(n,a){Ns.M(n,a);var l=ju;if(l&&n){var u=Mn(l).hoistableScripts,v=Cu(n),x=u.get(v);x||(x=l.querySelector(ef(v)),x||(n=g({src:n,async:!0,type:"module"},a),(a=Da.get(v))&&t1(n,a),x=l.createElement("script"),Br(x),pi(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(v,x))}}function e5(n,a,l,u){var v=(v=re.current)?Ah(v):null;if(!v)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Au(l.href),l=Mn(v).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Au(l.href);var x=Mn(v).hoistableStyles,T=x.get(n);if(T||(v=v.ownerDocument||v,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,T),(x=v.querySelector(Qd(n)))&&!x._p&&(T.instance=x,T.state.loading=5),Da.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Da.set(n,l),x||H4(v,n,l,T.state))),a&&u===null)throw Error(i(528,""));return T}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Cu(l),l=Mn(v).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Au(n){return'href="'+ir(n)+'"'}function Qd(n){return'link[rel="stylesheet"]['+n+"]"}function t5(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function H4(n,a,l,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),pi(a,"link",l),Br(a),n.head.appendChild(a))}function Cu(n){return'[src="'+ir(n)+'"]'}function ef(n){return"script[async]"+n}function r5(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+ir(l.href)+'"]');if(u)return a.instance=u,Br(u),u;var v=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Br(u),pi(u,"style",v),Ch(u,l.precedence,n),a.instance=u;case"stylesheet":v=Au(l.href);var x=n.querySelector(Qd(v));if(x)return a.state.loading|=4,a.instance=x,Br(x),x;u=t5(l),(v=Da.get(v))&&e1(u,v),x=(n.ownerDocument||n).createElement("link"),Br(x);var T=x;return T._p=new Promise(function(q,de){T.onload=q,T.onerror=de}),pi(x,"link",u),a.state.loading|=4,Ch(x,l.precedence,n),a.instance=x;case"script":return x=Cu(l.src),(v=n.querySelector(ef(x)))?(a.instance=v,Br(v),v):(u=l,(v=Da.get(x))&&(u=g({},l),t1(u,v)),n=n.ownerDocument||n,v=n.createElement("script"),Br(v),pi(v,"link",u),n.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Ch(u,l.precedence,n));return a.instance}function Ch(n,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=u.length?u[u.length-1]:null,x=v,T=0;T<u.length;T++){var q=u[T];if(q.dataset.precedence===a)x=q;else if(x!==v)break}x?x.parentNode.insertBefore(n,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function e1(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function t1(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var kh=null;function n5(n,a,l){if(kh===null){var u=new Map,v=kh=new Map;v.set(l,u)}else v=kh,u=v.get(l),u||(u=new Map,v.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),v=0;v<l.length;v++){var x=l[v];if(!(x[zi]||x[zr]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var T=x.getAttribute(a)||"";T=n+T;var q=u.get(T);q?q.push(x):u.set(T,[x])}}return u}function i5(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function $4(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function a5(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var tf=null;function W4(){}function G4(n,a,l){if(tf===null)throw Error(i(475));var u=tf;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=Au(l.href),x=n.querySelector(Qd(v));if(x){n=x._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Eh.bind(u),n.then(u,u)),a.state.loading|=4,a.instance=x,Br(x);return}x=n.ownerDocument||n,l=t5(l),(v=Da.get(v))&&e1(l,v),x=x.createElement("link"),Br(x);var T=x;T._p=new Promise(function(q,de){T.onload=q,T.onerror=de}),pi(x,"link",l),a.instance=x}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Eh.bind(u),n.addEventListener("load",a),n.addEventListener("error",a))}}function V4(){if(tf===null)throw Error(i(475));var n=tf;return n.stylesheets&&n.count===0&&r1(n,n.stylesheets),0<n.count?function(a){var l=setTimeout(function(){if(n.stylesheets&&r1(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l)}}:null}function Eh(){if(this.count--,this.count===0){if(this.stylesheets)r1(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Nh=null;function r1(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Nh=new Map,a.forEach(Y4,n),Nh=null,Eh.call(n))}function Y4(n,a){if(!(a.state.loading&4)){var l=Nh.get(n);if(l)var u=l.get(null);else{l=new Map,Nh.set(n,l);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var T=v[x];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}v=a.instance,T=v.getAttribute("data-precedence"),x=l.get(T)||u,x===u&&l.set(null,v),l.set(T,v),this.count++,u=Eh.bind(this),v.addEventListener("load",u),v.addEventListener("error",u),x?x.parentNode.insertBefore(v,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),a.state.loading|=4}}var rf={$$typeof:B,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function K4(n,a,l,u,v,x,T,q){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rn(0),this.hiddenUpdates=rn(null),this.identifierPrefix=u,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function o5(n,a,l,u,v,x,T,q,de,Ne,Be,Fe){return n=new K4(n,a,l,T,q,de,Ne,Fe),a=1,x===!0&&(a|=24),x=Xn(3,null,null,a),n.current=x,x.stateNode=n,a=Ad(),a.refCount++,n.pooledCache=a,a.refCount++,x.memoizedState={element:u,isDehydrated:l,cache:a},ke(x),n}function s5(n){return n?(n=Nn,n):Nn}function l5(n,a,l,u,v,x){v=s5(v),u.context===null?u.context=v:u.pendingContext=v,u=De(a),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=$e(n,u,a),l!==null&&(fa(l,n,a),Ue(l,n,a))}function c5(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function n1(n,a){c5(n,a),(n=n.alternate)&&c5(n,a)}function u5(n){if(n.tag===13){var a=ps(n,67108864);a!==null&&fa(a,n,67108864),n1(n,67108864)}}var Lh=!0;function X4(n,a,l,u){var v=ne.T;ne.T=null;var x=he.p;try{he.p=2,i1(n,a,l,u)}finally{he.p=x,ne.T=v}}function Z4(n,a,l,u){var v=ne.T;ne.T=null;var x=he.p;try{he.p=8,i1(n,a,l,u)}finally{he.p=x,ne.T=v}}function i1(n,a,l,u){if(Lh){var v=a1(u);if(v===null)Wp(n,a,u,Th,l),f5(n,u);else if(Q4(v,n,a,l,u))u.stopPropagation();else if(f5(n,u),a&4&&-1<J4.indexOf(n)){for(;v!==null;){var x=Gn(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var T=bt(x.pendingLanes);if(T!==0){var q=x;for(q.pendingLanes|=2,q.entangledLanes|=2;T;){var de=1<<31-Ze(T);q.entanglements[1]|=de,T&=~de}Vo(x),(xr&6)===0&&(ph=gt()+500,Kd(0))}}break;case 13:q=ps(x,2),q!==null&&fa(q,x,2),mh(),n1(x,2)}if(x=a1(u),x===null&&Wp(n,a,u,Th,l),x===v)break;v=x}v!==null&&u.stopPropagation()}else Wp(n,a,u,null,l)}}function a1(n){return n=Kl(n),o1(n)}var Th=null;function o1(n){if(Th=null,n=ii(n),n!==null){var a=s(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=c(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Th=n,null}function d5(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pt()){case We:return 2;case lt:return 8;case Ye:case Mt:return 32;case ut:return 268435456;default:return 32}default:return 32}}var s1=!1,Al=null,Cl=null,kl=null,nf=new Map,af=new Map,El=[],J4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f5(n,a){switch(n){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":nf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":af.delete(a.pointerId)}}function of(n,a,l,u,v,x){return n===null||n.nativeEvent!==x?(n={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:x,targetContainers:[v]},a!==null&&(a=Gn(a),a!==null&&u5(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),n)}function Q4(n,a,l,u,v){switch(a){case"focusin":return Al=of(Al,n,a,l,u,v),!0;case"dragenter":return Cl=of(Cl,n,a,l,u,v),!0;case"mouseover":return kl=of(kl,n,a,l,u,v),!0;case"pointerover":var x=v.pointerId;return nf.set(x,of(nf.get(x)||null,n,a,l,u,v)),!0;case"gotpointercapture":return x=v.pointerId,af.set(x,of(af.get(x)||null,n,a,l,u,v)),!0}return!1}function h5(n){var a=ii(n.target);if(a!==null){var l=s(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){n.blockedOn=a,mt(n.priority,function(){if(l.tag===13){var u=da();u=kn(u);var v=ps(l,u);v!==null&&fa(v,l,u),n1(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Oh(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=a1(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);va=u,l.target.dispatchEvent(u),va=null}else return a=Gn(l),a!==null&&u5(a),n.blockedOn=l,!1;a.shift()}return!0}function p5(n,a,l){Oh(n)&&l.delete(a)}function e3(){s1=!1,Al!==null&&Oh(Al)&&(Al=null),Cl!==null&&Oh(Cl)&&(Cl=null),kl!==null&&Oh(kl)&&(kl=null),nf.forEach(p5),af.forEach(p5)}function Rh(n,a){n.blockedOn===a&&(n.blockedOn=null,s1||(s1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,e3)))}var Ph=null;function g5(n){Ph!==n&&(Ph=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ph===n&&(Ph=null);for(var a=0;a<n.length;a+=3){var l=n[a],u=n[a+1],v=n[a+2];if(typeof u!="function"){if(o1(u||l)===null)continue;break}var x=Gn(l);x!==null&&(n.splice(a,3),a-=3,Oa(x,{pending:!0,data:v,method:l.method,action:u},u,v))}}))}function sf(n){function a(de){return Rh(de,n)}Al!==null&&Rh(Al,n),Cl!==null&&Rh(Cl,n),kl!==null&&Rh(kl,n),nf.forEach(a),af.forEach(a);for(var l=0;l<El.length;l++){var u=El[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<El.length&&(l=El[0],l.blockedOn===null);)h5(l),l.blockedOn===null&&El.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var v=l[u],x=l[u+1],T=v[Lr]||null;if(typeof x=="function")T||g5(l);else if(T){var q=null;if(x&&x.hasAttribute("formAction")){if(v=x,T=x[Lr]||null)q=T.formAction;else if(o1(v)!==null)continue}else q=T.action;typeof q=="function"?l[u+1]=q:(l.splice(u,3),u-=3),g5(l)}}}function l1(n){this._internalRoot=n}Dh.prototype.render=l1.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=da();l5(l,u,n,a,null,null)},Dh.prototype.unmount=l1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;l5(n.current,2,null,n,null,null),mh(),a[Dn]=null}};function Dh(n){this._internalRoot=n}Dh.prototype.unstable_scheduleHydration=function(n){if(n){var a=Zi();n={blockedOn:null,target:n,priority:a};for(var l=0;l<El.length&&a!==0&&a<El[l].priority;l++);El.splice(l,0,n),l===0&&h5(n)}};var m5=e.version;if(m5!=="19.1.0")throw Error(i(527,m5,"19.1.0"));he.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(a),n=n!==null?h(n):null,n=n===null?null:n.stateNode,n};var t3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{St=zh.inject(t3),Ft=zh}catch{}}return cf.createRoot=function(n,a){if(!o(n))throw Error(i(299));var l=!1,u="",v=Om,x=Rm,T=Pm,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(q=a.unstable_transitionCallbacks)),a=o5(n,1,!1,null,null,l,u,v,x,T,q,null),n[Dn]=a.current,$p(n),new l1(a)},cf.hydrateRoot=function(n,a,l){if(!o(n))throw Error(i(299));var u=!1,v="",x=Om,T=Rm,q=Pm,de=null,Ne=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(q=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(de=l.unstable_transitionCallbacks),l.formState!==void 0&&(Ne=l.formState)),a=o5(n,1,!0,a,l??null,u,v,x,T,q,de,Ne),a.context=s5(null),l=a.current,u=da(),u=kn(u),v=De(u),v.callback=null,$e(l,v,u),l=u,a.current.lanes=l,cr(a,l),Vo(a),n[Dn]=a.current,$p(n),new Dh(a)},cf.version="19.1.0",cf}var C5;function p3(){if(C5)return d1.exports;C5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d1.exports=h3(),d1.exports}var g3=p3(),uf={},k5;function m3(){if(k5)return uf;k5=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.parse=c,uf.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,s=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,b){const j=new s,C=S.length;if(C<2)return j;const N=(b==null?void 0:b.decode)||g;let E=0;do{const R=S.indexOf("=",E);if(R===-1)break;const B=S.indexOf(";",E),z=B===-1?C:B;if(R>z){E=S.lastIndexOf(";",R-1)+1;continue}const Q=d(S,E,R),ue=f(S,R,Q),J=S.slice(Q,ue);if(j[J]===void 0){let se=d(S,R+1,z),U=f(S,z,se);const te=N(S.slice(se,U));j[J]=te}E=z+1}while(E<C);return j}function d(S,b,j){do{const C=S.charCodeAt(b);if(C!==32&&C!==9)return b}while(++b<j);return j}function f(S,b,j){for(;b>j;){const C=S.charCodeAt(--b);if(C!==32&&C!==9)return b+1}return j}function h(S,b,j){const C=(j==null?void 0:j.encode)||encodeURIComponent;if(!t.test(S))throw new TypeError(`argument name is invalid: ${S}`);const N=C(b);if(!e.test(N))throw new TypeError(`argument val is invalid: ${b}`);let E=S+"="+N;if(!j)return E;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);E+="; Max-Age="+j.maxAge}if(j.domain){if(!r.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);E+="; Domain="+j.domain}if(j.path){if(!i.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);E+="; Path="+j.path}if(j.expires){if(!w(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);E+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(E+="; HttpOnly"),j.secure&&(E+="; Secure"),j.partitioned&&(E+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return E}function g(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return uf}m3();var E5="popstate";function v3(t={}){function e(i,o){let{pathname:s,search:c,hash:d}=i.location;return sg("",{pathname:s,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:Cf(o)}return y3(e,r,null,t)}function tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b3(){return Math.random().toString(36).substring(2,10)}function N5(t,e){return{usr:t.state,key:t.key,idx:e}}function sg(t,e,r=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?hd(e):e,state:r,key:e&&e.key||i||b3()}}function Cf({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function y3(t,e,r,i={}){let{window:o=document.defaultView,v5Compat:s=!1}=i,c=o.history,d="POP",f=null,h=g();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function g(){return(c.state||{idx:null}).idx}function w(){d="POP";let N=g(),E=N==null?null:N-h;h=N,f&&f({action:d,location:C.location,delta:E})}function S(N,E){d="PUSH";let R=sg(C.location,N,E);h=g()+1;let B=N5(R,h),z=C.createHref(R);try{c.pushState(B,"",z)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(z)}s&&f&&f({action:d,location:C.location,delta:1})}function b(N,E){d="REPLACE";let R=sg(C.location,N,E);h=g();let B=N5(R,h),z=C.createHref(R);c.replaceState(B,"",z),s&&f&&f({action:d,location:C.location,delta:0})}function j(N){return x3(N)}let C={get action(){return d},get location(){return t(o,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(E5,w),f=N,()=>{o.removeEventListener(E5,w),f=null}},createHref(N){return e(o,N)},createURL:j,encodeLocation(N){let E=j(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:S,replace:b,go(N){return c.go(N)}};return C}function x3(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),tn(r,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Cf(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function wy(t,e,r="/"){return w3(t,e,r,!1)}function w3(t,e,r,i){let o=typeof e=="string"?hd(e):e,s=Us(o.pathname||"/",r);if(s==null)return null;let c=Sy(t);S3(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=R3(s);d=T3(c[f],h,i)}return d}function Sy(t,e=[],r=[],i=""){let o=(s,c,d)=>{let f={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};f.relativePath.startsWith("/")&&(tn(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let h=Ms([i,f.relativePath]),g=r.concat(f);s.children&&s.children.length>0&&(tn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Sy(s.children,e,g,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:N3(h,s.index),routesMeta:g})};return t.forEach((s,c)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))o(s,c);else for(let f of _y(s.path))o(s,c,f)}),e}function _y(t){let e=t.split("/");if(e.length===0)return[];let[r,...i]=e,o=r.endsWith("?"),s=r.replace(/\?$/,"");if(i.length===0)return o?[s,""]:[s];let c=_y(i.join("/")),d=[];return d.push(...c.map(f=>f===""?s:[s,f].join("/"))),o&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function S3(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:L3(e.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var _3=/^:[\w-]+$/,j3=3,A3=2,C3=1,k3=10,E3=-2,L5=t=>t==="*";function N3(t,e){let r=t.split("/"),i=r.length;return r.some(L5)&&(i+=E3),e&&(i+=A3),r.filter(o=>!L5(o)).reduce((o,s)=>o+(_3.test(s)?j3:s===""?C3:k3),i)}function L3(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function T3(t,e,r=!1){let{routesMeta:i}=t,o={},s="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],h=d===i.length-1,g=s==="/"?e:e.slice(s.length)||"/",w=S0({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),S=f.route;if(!w&&h&&r&&!i[i.length-1].route.index&&(w=S0({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:Ms([s,w.pathname]),pathnameBase:M3(Ms([s,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(s=Ms([s,w.pathnameBase]))}return c}function S0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,i]=O3(t.path,t.caseSensitive,t.end),o=e.match(r);if(!o)return null;let s=o[0],c=s.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((h,{paramName:g,isOptional:w},S)=>{if(g==="*"){let j=d[S]||"";c=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[S];return w&&!b?h[g]=void 0:h[g]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:t}}function O3(t,e=!1,r=!0){mo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function R3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Us(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,i=t.charAt(r);return i&&i!=="/"?null:t.slice(r)||"/"}function P3(t,e="/"){let{pathname:r,search:i="",hash:o=""}=typeof t=="string"?hd(t):t;return{pathname:r?r.startsWith("/")?r:D3(r,e):e,search:B3(i),hash:I3(o)}}function D3(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function g1(t,e,r,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z3(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Gg(t){let e=z3(t);return e.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase)}function Vg(t,e,r,i=!1){let o;typeof t=="string"?o=hd(t):(o={...t},tn(!o.pathname||!o.pathname.includes("?"),g1("?","pathname","search",o)),tn(!o.pathname||!o.pathname.includes("#"),g1("#","pathname","hash",o)),tn(!o.search||!o.search.includes("#"),g1("#","search","hash",o)));let s=t===""||o.pathname==="",c=s?"/":o.pathname,d;if(c==null)d=r;else{let w=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}d=w>=0?e[w]:"/"}let f=P3(o,d),h=c&&c!=="/"&&c.endsWith("/"),g=(s||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var Ms=t=>t.join("/").replace(/\/\/+/g,"/"),M3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,I3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var jy=["POST","PUT","PATCH","DELETE"];new Set(jy);var F3=["GET",...jy];new Set(F3);var pd=K.createContext(null);pd.displayName="DataRouter";var H0=K.createContext(null);H0.displayName="DataRouterState";var Ay=K.createContext({isTransitioning:!1});Ay.displayName="ViewTransition";var q3=K.createContext(new Map);q3.displayName="Fetchers";var H3=K.createContext(null);H3.displayName="Await";var bo=K.createContext(null);bo.displayName="Navigation";var Of=K.createContext(null);Of.displayName="Location";var yo=K.createContext({outlet:null,matches:[],isDataRoute:!1});yo.displayName="Route";var Yg=K.createContext(null);Yg.displayName="RouteError";function $3(t,{relative:e}={}){tn(gd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=K.useContext(bo),{hash:o,pathname:s,search:c}=Rf(t,{relative:e}),d=s;return r!=="/"&&(d=s==="/"?r:Ms([r,s])),i.createHref({pathname:d,search:c,hash:o})}function gd(){return K.useContext(Of)!=null}function Ia(){return tn(gd(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Of).location}var Cy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ky(t){K.useContext(bo).static||K.useLayoutEffect(t)}function $n(){let{isDataRoute:t}=K.useContext(yo);return t?n6():W3()}function W3(){tn(gd(),"useNavigate() may be used only in the context of a <Router> component.");let t=K.useContext(pd),{basename:e,navigator:r}=K.useContext(bo),{matches:i}=K.useContext(yo),{pathname:o}=Ia(),s=JSON.stringify(Gg(i)),c=K.useRef(!1);return ky(()=>{c.current=!0}),K.useCallback((f,h={})=>{if(mo(c.current,Cy),!c.current)return;if(typeof f=="number"){r.go(f);return}let g=Vg(f,JSON.parse(s),o,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ms([e,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[e,r,s,o,t])}K.createContext(null);function Kg(){let{matches:t}=K.useContext(yo),e=t[t.length-1];return e?e.params:{}}function Rf(t,{relative:e}={}){let{matches:r}=K.useContext(yo),{pathname:i}=Ia(),o=JSON.stringify(Gg(r));return K.useMemo(()=>Vg(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function G3(t,e){return Ey(t,e)}function Ey(t,e,r,i){var E;tn(gd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=K.useContext(bo),{matches:s}=K.useContext(yo),c=s[s.length-1],d=c?c.params:{},f=c?c.pathname:"/",h=c?c.pathnameBase:"/",g=c&&c.route;{let R=g&&g.path||"";Ny(f,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let w=Ia(),S;if(e){let R=typeof e=="string"?hd(e):e;tn(h==="/"||((E=R.pathname)==null?void 0:E.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${R.pathname}" was given in the \`location\` prop.`),S=R}else S=w;let b=S.pathname||"/",j=b;if(h!=="/"){let R=h.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(R.length).join("/")}let C=wy(t,{pathname:j});mo(g||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),mo(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Z3(C&&C.map(R=>Object.assign({},R,{params:Object.assign({},d,R.params),pathname:Ms([h,o.encodeLocation?o.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?h:Ms([h,o.encodeLocation?o.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,r,i);return e&&N?K.createElement(Of.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function V3(){let t=r6(),e=U3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:s},"ErrorBoundary")," or"," ",K.createElement("code",{style:s},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),r?K.createElement("pre",{style:o},r):null,c)}var Y3=K.createElement(V3,null),K3=class extends K.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?K.createElement(yo.Provider,{value:this.props.routeContext},K.createElement(Yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function X3({routeContext:t,match:e,children:r}){let i=K.useContext(pd);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(yo.Provider,{value:t},r)}function Z3(t,e=[],r=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=r==null?void 0:r.errors;if(s!=null){let f=o.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);tn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(r)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:g,errors:w}=r,S=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!w||w[h.route.id]===void 0);if(h.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,g)=>{let w,S=!1,b=null,j=null;r&&(w=s&&h.route.id?s[h.route.id]:void 0,b=h.route.errorElement||Y3,c&&(d<0&&g===0?(Ny("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,j=null):d===g&&(S=!0,j=h.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,g+1)),N=()=>{let E;return w?E=b:S?E=j:h.route.Component?E=K.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=f,K.createElement(X3,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?K.createElement(K3,{location:r.location,revalidation:r.revalidation,component:b,error:w,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):N()},null)}function Xg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J3(t){let e=K.useContext(pd);return tn(e,Xg(t)),e}function Q3(t){let e=K.useContext(H0);return tn(e,Xg(t)),e}function e6(t){let e=K.useContext(yo);return tn(e,Xg(t)),e}function Zg(t){let e=e6(t),r=e.matches[e.matches.length-1];return tn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function t6(){return Zg("useRouteId")}function r6(){var i;let t=K.useContext(Yg),e=Q3("useRouteError"),r=Zg("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[r]}function n6(){let{router:t}=J3("useNavigate"),e=Zg("useNavigate"),r=K.useRef(!1);return ky(()=>{r.current=!0}),K.useCallback(async(o,s={})=>{mo(r.current,Cy),r.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...s}))},[t,e])}var T5={};function Ny(t,e,r){!e&&!T5[t]&&(T5[t]=!0,mo(!1,r))}K.memo(i6);function i6({routes:t,future:e,state:r}){return Ey(t,void 0,r,e)}function Xu({to:t,replace:e,state:r,relative:i}){tn(gd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=K.useContext(bo);mo(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=K.useContext(yo),{pathname:c}=Ia(),d=$n(),f=Vg(t,Gg(s),c,i==="path"),h=JSON.stringify(f);return K.useEffect(()=>{d(JSON.parse(h),{replace:e,state:r,relative:i})},[d,h,i,e,r]),null}function br(t){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a6({basename:t="/",children:e=null,location:r,navigationType:i="POP",navigator:o,static:s=!1}){tn(!gd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:c,navigator:o,static:s,future:{}}),[c,o,s]);typeof r=="string"&&(r=hd(r));let{pathname:f="/",search:h="",hash:g="",state:w=null,key:S="default"}=r,b=K.useMemo(()=>{let j=Us(f,c);return j==null?null:{location:{pathname:j,search:h,hash:g,state:w,key:S},navigationType:i}},[c,f,h,g,w,S,i]);return mo(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:K.createElement(bo.Provider,{value:d},K.createElement(Of.Provider,{children:e,value:b}))}function Ly({children:t,location:e}){return G3(lg(t),e)}function lg(t,e=[]){let r=[];return K.Children.forEach(t,(i,o)=>{if(!K.isValidElement(i))return;let s=[...e,o];if(i.type===K.Fragment){r.push.apply(r,lg(i.props.children,s));return}tn(i.type===br,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=lg(i.props.children,s)),r.push(c)}),r}var c0="get",u0="application/x-www-form-urlencoded";function $0(t){return t!=null&&typeof t.tagName=="string"}function o6(t){return $0(t)&&t.tagName.toLowerCase()==="button"}function s6(t){return $0(t)&&t.tagName.toLowerCase()==="form"}function l6(t){return $0(t)&&t.tagName.toLowerCase()==="input"}function c6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function u6(t,e){return t.button===0&&(!e||e==="_self")&&!c6(t)}var Mh=null;function d6(){if(Mh===null)try{new FormData(document.createElement("form"),0),Mh=!1}catch{Mh=!0}return Mh}var f6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function m1(t){return t!=null&&!f6.has(t)?(mo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${u0}"`),null):t}function h6(t,e){let r,i,o,s,c;if(s6(t)){let d=t.getAttribute("action");i=d?Us(d,e):null,r=t.getAttribute("method")||c0,o=m1(t.getAttribute("enctype"))||u0,s=new FormData(t)}else if(o6(t)||l6(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?Us(f,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||c0,o=m1(t.getAttribute("formenctype"))||m1(d.getAttribute("enctype"))||u0,s=new FormData(d,t),!d6()){let{name:h,type:g,value:w}=t;if(g==="image"){let S=h?`${h}.`:"";s.append(`${S}x`,"0"),s.append(`${S}y`,"0")}else h&&s.append(h,w)}}else{if($0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=c0,i=null,o=u0,c=t}return s&&o==="text/plain"&&(c=s,s=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:s,body:c}}function Jg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function p6(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function g6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function m6(t,e,r){let i=await Promise.all(t.map(async o=>{let s=e.routes[o.route.id];if(s){let c=await p6(s,r);return c.links?c.links():[]}return[]}));return x6(i.flat(1).filter(g6).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function O5(t,e,r,i,o,s){let c=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,d=(f,h)=>{var g;return r[h].pathname!==f.pathname||((g=r[h].route.path)==null?void 0:g.endsWith("*"))&&r[h].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,h)=>c(f,h)||d(f,h)):s==="data"?e.filter((f,h)=>{var w;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let S=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=r[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function v6(t,e,{includeHydrateFallback:r}={}){return b6(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let s=[o.module];return o.clientActionModule&&(s=s.concat(o.clientActionModule)),o.clientLoaderModule&&(s=s.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(s=s.concat(o.hydrateFallbackModule)),o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function b6(t){return[...new Set(t)]}function y6(t){let e={},r=Object.keys(t).sort();for(let i of r)e[i]=t[i];return e}function x6(t,e){let r=new Set;return new Set(e),t.reduce((i,o)=>{let s=JSON.stringify(y6(o));return r.has(s)||(r.add(s),i.push({key:s,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var w6=new Set([100,101,204,205]);function S6(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&Us(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Ty(){let t=K.useContext(pd);return Jg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _6(){let t=K.useContext(H0);return Jg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Qg=K.createContext(void 0);Qg.displayName="FrameworkContext";function Oy(){let t=K.useContext(Qg);return Jg(t,"You must render this element inside a <HydratedRouter> element"),t}function j6(t,e){let r=K.useContext(Qg),[i,o]=K.useState(!1),[s,c]=K.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:w}=e,S=K.useRef(null);K.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let C=E=>{E.forEach(R=>{c(R.isIntersecting)})},N=new IntersectionObserver(C,{threshold:.5});return S.current&&N.observe(S.current),()=>{N.disconnect()}}},[t]),K.useEffect(()=>{if(i){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[i]);let b=()=>{o(!0)},j=()=>{o(!1),c(!1)};return r?t!=="intent"?[s,S,{}]:[s,S,{onFocus:df(d,b),onBlur:df(f,j),onMouseEnter:df(h,b),onMouseLeave:df(g,j),onTouchStart:df(w,b)}]:[!1,S,{}]}function df(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function A6({page:t,...e}){let{router:r}=Ty(),i=K.useMemo(()=>wy(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?K.createElement(k6,{page:t,matches:i,...e}):null}function C6(t){let{manifest:e,routeModules:r}=Oy(),[i,o]=K.useState([]);return K.useEffect(()=>{let s=!1;return m6(t,e,r).then(c=>{s||o(c)}),()=>{s=!0}},[t,e,r]),i}function k6({page:t,matches:e,...r}){let i=Ia(),{manifest:o,routeModules:s}=Oy(),{basename:c}=Ty(),{loaderData:d,matches:f}=_6(),h=K.useMemo(()=>O5(t,e,f,o,i,"data"),[t,e,f,o,i]),g=K.useMemo(()=>O5(t,e,f,o,i,"assets"),[t,e,f,o,i]),w=K.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let j=new Set,C=!1;if(e.forEach(E=>{var B;let R=o.routes[E.route.id];!R||!R.hasLoader||(!h.some(z=>z.route.id===E.route.id)&&E.route.id in d&&((B=s[E.route.id])!=null&&B.shouldRevalidate)||R.hasClientLoader?C=!0:j.add(E.route.id))}),j.size===0)return[];let N=S6(t,c);return C&&j.size>0&&N.searchParams.set("_routes",e.filter(E=>j.has(E.route.id)).map(E=>E.route.id).join(",")),[N.pathname+N.search]},[c,d,i,o,h,e,t,s]),S=K.useMemo(()=>v6(g,o),[g,o]),b=C6(g);return K.createElement(K.Fragment,null,w.map(j=>K.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),S.map(j=>K.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),b.map(({key:j,link:C})=>K.createElement("link",{key:j,...C})))}function E6(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Ry=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ry&&(window.__reactRouterVersion="7.6.1")}catch{}function N6({basename:t,children:e,window:r}){let i=K.useRef();i.current==null&&(i.current=v3({window:r,v5Compat:!0}));let o=i.current,[s,c]=K.useState({action:o.action,location:o.location}),d=K.useCallback(f=>{K.startTransition(()=>c(f))},[c]);return K.useLayoutEffect(()=>o.listen(d),[o,d]),K.createElement(a6,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:o})}var Py=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,em=K.forwardRef(function({onClick:e,discover:r="render",prefetch:i="none",relative:o,reloadDocument:s,replace:c,state:d,target:f,to:h,preventScrollReset:g,viewTransition:w,...S},b){let{basename:j}=K.useContext(bo),C=typeof h=="string"&&Py.test(h),N,E=!1;if(typeof h=="string"&&C&&(N=h,Ry))try{let U=new URL(window.location.href),te=h.startsWith("//")?new URL(U.protocol+h):new URL(h),M=Us(te.pathname,j);te.origin===U.origin&&M!=null?h=M+te.search+te.hash:E=!0}catch{mo(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=$3(h,{relative:o}),[B,z,Q]=j6(i,S),ue=R6(h,{replace:c,state:d,target:f,preventScrollReset:g,relative:o,viewTransition:w});function J(U){e&&e(U),U.defaultPrevented||ue(U)}let se=K.createElement("a",{...S,...Q,href:N||R,onClick:E||s?e:J,ref:E6(b,z),target:f,"data-discover":!C&&r==="render"?"true":void 0});return B&&!C?K.createElement(K.Fragment,null,se,K.createElement(A6,{page:R})):se});em.displayName="Link";var L6=K.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:i="",end:o=!1,style:s,to:c,viewTransition:d,children:f,...h},g){let w=Rf(c,{relative:h.relative}),S=Ia(),b=K.useContext(H0),{navigator:j,basename:C}=K.useContext(bo),N=b!=null&&B6(w)&&d===!0,E=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,R=S.pathname,B=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(R=R.toLowerCase(),B=B?B.toLowerCase():null,E=E.toLowerCase()),B&&C&&(B=Us(B,C)||B);const z=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let Q=R===E||!o&&R.startsWith(E)&&R.charAt(z)==="/",ue=B!=null&&(B===E||!o&&B.startsWith(E)&&B.charAt(E.length)==="/"),J={isActive:Q,isPending:ue,isTransitioning:N},se=Q?e:void 0,U;typeof i=="function"?U=i(J):U=[i,Q?"active":null,ue?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let te=typeof s=="function"?s(J):s;return K.createElement(em,{...h,"aria-current":se,className:U,ref:g,style:te,to:c,viewTransition:d},typeof f=="function"?f(J):f)});L6.displayName="NavLink";var T6=K.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:i,replace:o,state:s,method:c=c0,action:d,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:w,...S},b)=>{let j=z6(),C=M6(d,{relative:h}),N=c.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&Py.test(d),R=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let z=B.nativeEvent.submitter,Q=(z==null?void 0:z.getAttribute("formmethod"))||c;j(z||B.currentTarget,{fetcherKey:e,method:Q,navigate:r,replace:o,state:s,relative:h,preventScrollReset:g,viewTransition:w})};return K.createElement("form",{ref:b,method:N,action:C,onSubmit:i?f:R,...S,"data-discover":!E&&t==="render"?"true":void 0})});T6.displayName="Form";function O6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dy(t){let e=K.useContext(pd);return tn(e,O6(t)),e}function R6(t,{target:e,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:c}={}){let d=$n(),f=Ia(),h=Rf(t,{relative:s});return K.useCallback(g=>{if(u6(g,e)){g.preventDefault();let w=r!==void 0?r:Cf(f)===Cf(h);d(t,{replace:w,state:i,preventScrollReset:o,relative:s,viewTransition:c})}},[f,d,h,r,i,e,t,o,s,c])}var P6=0,D6=()=>`__${String(++P6)}__`;function z6(){let{router:t}=Dy("useSubmit"),{basename:e}=K.useContext(bo),r=t6();return K.useCallback(async(i,o={})=>{let{action:s,method:c,encType:d,formData:f,body:h}=h6(i,e);if(o.navigate===!1){let g=o.fetcherKey||D6();await t.fetch(g,r,o.action||s,{preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||s,{preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,r])}function M6(t,{relative:e}={}){let{basename:r}=K.useContext(bo),i=K.useContext(yo);tn(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s={...Rf(t||".",{relative:e})},c=Ia();if(t==null){s.search=c.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let g=d.toString();s.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ms([r,s.pathname])),Cf(s)}function B6(t,e={}){let r=K.useContext(Ay);tn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Dy("useViewTransitionState"),o=Rf(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Us(r.currentLocation.pathname,i)||r.currentLocation.pathname,c=Us(r.nextLocation.pathname,i)||r.nextLocation.pathname;return S0(o.pathname,c)!=null||S0(o.pathname,s)!=null}[...w6];var Ai=function(){return Ai=Object.assign||function(e){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ai.apply(this,arguments)};function kf(t,e,r){if(r||arguments.length===2)for(var i=0,o=e.length,s;i<o;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}var Hr="-ms-",bf="-moz-",vr="-webkit-",zy="comm",W0="rule",tm="decl",I6="@import",My="@keyframes",U6="@layer",By=Math.abs,rm=String.fromCharCode,cg=Object.assign;function F6(t,e){return ri(t,0)^45?(((e<<2^ri(t,0))<<2^ri(t,1))<<2^ri(t,2))<<2^ri(t,3):0}function Iy(t){return t.trim()}function Os(t,e){return(t=e.exec(t))?t[0]:t}function Ht(t,e,r){return t.replace(e,r)}function d0(t,e,r){return t.indexOf(e,r)}function ri(t,e){return t.charCodeAt(e)|0}function od(t,e,r){return t.slice(e,r)}function Qo(t){return t.length}function Uy(t){return t.length}function mf(t,e){return e.push(t),t}function q6(t,e){return t.map(e).join("")}function R5(t,e){return t.filter(function(r){return!Os(r,e)})}var G0=1,sd=1,Fy=0,Ma=0,On=0,md="";function V0(t,e,r,i,o,s,c,d){return{value:t,root:e,parent:r,type:i,props:o,children:s,line:G0,column:sd,length:c,return:"",siblings:d}}function Pl(t,e){return cg(V0("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ku(t){for(;t.root;)t=Pl(t.root,{children:[t]});mf(t,t.siblings)}function H6(){return On}function $6(){return On=Ma>0?ri(md,--Ma):0,sd--,On===10&&(sd=1,G0--),On}function go(){return On=Ma<Fy?ri(md,Ma++):0,sd++,On===10&&(sd=1,G0++),On}function Lc(){return ri(md,Ma)}function f0(){return Ma}function Y0(t,e){return od(md,t,e)}function ug(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function W6(t){return G0=sd=1,Fy=Qo(md=t),Ma=0,[]}function G6(t){return md="",t}function v1(t){return Iy(Y0(Ma-1,dg(t===91?t+2:t===40?t+1:t)))}function V6(t){for(;(On=Lc())&&On<33;)go();return ug(t)>2||ug(On)>3?"":" "}function Y6(t,e){for(;--e&&go()&&!(On<48||On>102||On>57&&On<65||On>70&&On<97););return Y0(t,f0()+(e<6&&Lc()==32&&go()==32))}function dg(t){for(;go();)switch(On){case t:return Ma;case 34:case 39:t!==34&&t!==39&&dg(On);break;case 40:t===41&&dg(t);break;case 92:go();break}return Ma}function K6(t,e){for(;go()&&t+On!==57;)if(t+On===84&&Lc()===47)break;return"/*"+Y0(e,Ma-1)+"*"+rm(t===47?t:go())}function X6(t){for(;!ug(Lc());)go();return Y0(t,Ma)}function Z6(t){return G6(h0("",null,null,null,[""],t=W6(t),0,[0],t))}function h0(t,e,r,i,o,s,c,d,f){for(var h=0,g=0,w=c,S=0,b=0,j=0,C=1,N=1,E=1,R=0,B="",z=o,Q=s,ue=i,J=B;N;)switch(j=R,R=go()){case 40:if(j!=108&&ri(J,w-1)==58){d0(J+=Ht(v1(R),"&","&\f"),"&\f",By(h?d[h-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:J+=v1(R);break;case 9:case 10:case 13:case 32:J+=V6(j);break;case 92:J+=Y6(f0()-1,7);continue;case 47:switch(Lc()){case 42:case 47:mf(J6(K6(go(),f0()),e,r,f),f);break;default:J+="/"}break;case 123*C:d[h++]=Qo(J)*E;case 125*C:case 59:case 0:switch(R){case 0:case 125:N=0;case 59+g:E==-1&&(J=Ht(J,/\f/g,"")),b>0&&Qo(J)-w&&mf(b>32?D5(J+";",i,r,w-1,f):D5(Ht(J," ","")+";",i,r,w-2,f),f);break;case 59:J+=";";default:if(mf(ue=P5(J,e,r,h,g,o,d,B,z=[],Q=[],w,s),s),R===123)if(g===0)h0(J,e,ue,ue,z,s,w,d,Q);else switch(S===99&&ri(J,3)===110?100:S){case 100:case 108:case 109:case 115:h0(t,ue,ue,i&&mf(P5(t,ue,ue,0,0,o,d,B,o,z=[],w,Q),Q),o,Q,w,d,i?z:Q);break;default:h0(J,ue,ue,ue,[""],Q,0,d,Q)}}h=g=b=0,C=E=1,B=J="",w=c;break;case 58:w=1+Qo(J),b=j;default:if(C<1){if(R==123)--C;else if(R==125&&C++==0&&$6()==125)continue}switch(J+=rm(R),R*C){case 38:E=g>0?1:(J+="\f",-1);break;case 44:d[h++]=(Qo(J)-1)*E,E=1;break;case 64:Lc()===45&&(J+=v1(go())),S=Lc(),g=w=Qo(B=J+=X6(f0())),R++;break;case 45:j===45&&Qo(J)==2&&(C=0)}}return s}function P5(t,e,r,i,o,s,c,d,f,h,g,w){for(var S=o-1,b=o===0?s:[""],j=Uy(b),C=0,N=0,E=0;C<i;++C)for(var R=0,B=od(t,S+1,S=By(N=c[C])),z=t;R<j;++R)(z=Iy(N>0?b[R]+" "+B:Ht(B,/&\f/g,b[R])))&&(f[E++]=z);return V0(t,e,r,o===0?W0:d,f,h,g,w)}function J6(t,e,r,i){return V0(t,e,r,zy,rm(H6()),od(t,2,-2),0,i)}function D5(t,e,r,i,o){return V0(t,e,r,tm,od(t,0,i),od(t,i+1,-1),i,o)}function qy(t,e,r){switch(F6(t,e)){case 5103:return vr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vr+t+t;case 4789:return bf+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return vr+t+bf+t+Hr+t+t;case 5936:switch(ri(t,e+11)){case 114:return vr+t+Hr+Ht(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return vr+t+Hr+Ht(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return vr+t+Hr+Ht(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return vr+t+Hr+t+t;case 6165:return vr+t+Hr+"flex-"+t+t;case 5187:return vr+t+Ht(t,/(\w+).+(:[^]+)/,vr+"box-$1$2"+Hr+"flex-$1$2")+t;case 5443:return vr+t+Hr+"flex-item-"+Ht(t,/flex-|-self/g,"")+(Os(t,/flex-|baseline/)?"":Hr+"grid-row-"+Ht(t,/flex-|-self/g,""))+t;case 4675:return vr+t+Hr+"flex-line-pack"+Ht(t,/align-content|flex-|-self/g,"")+t;case 5548:return vr+t+Hr+Ht(t,"shrink","negative")+t;case 5292:return vr+t+Hr+Ht(t,"basis","preferred-size")+t;case 6060:return vr+"box-"+Ht(t,"-grow","")+vr+t+Hr+Ht(t,"grow","positive")+t;case 4554:return vr+Ht(t,/([^-])(transform)/g,"$1"+vr+"$2")+t;case 6187:return Ht(Ht(Ht(t,/(zoom-|grab)/,vr+"$1"),/(image-set)/,vr+"$1"),t,"")+t;case 5495:case 3959:return Ht(t,/(image-set\([^]*)/,vr+"$1$`$1");case 4968:return Ht(Ht(t,/(.+:)(flex-)?(.*)/,vr+"box-pack:$3"+Hr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vr+t+t;case 4200:if(!Os(t,/flex-|baseline/))return Hr+"grid-column-align"+od(t,e)+t;break;case 2592:case 3360:return Hr+Ht(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(i,o){return e=o,Os(i.props,/grid-\w+-end/)})?~d0(t+(r=r[e].value),"span",0)?t:Hr+Ht(t,"-start","")+t+Hr+"grid-row-span:"+(~d0(r,"span",0)?Os(r,/\d+/):+Os(r,/\d+/)-+Os(t,/\d+/))+";":Hr+Ht(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(i){return Os(i.props,/grid-\w+-start/)})?t:Hr+Ht(Ht(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ht(t,/(.+)-inline(.+)/,vr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qo(t)-1-e>6)switch(ri(t,e+1)){case 109:if(ri(t,e+4)!==45)break;case 102:return Ht(t,/(.+:)(.+)-([^]+)/,"$1"+vr+"$2-$3$1"+bf+(ri(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~d0(t,"stretch",0)?qy(Ht(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return Ht(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,o,s,c,d,f,h){return Hr+o+":"+s+h+(c?Hr+o+"-span:"+(d?f:+f-+s)+h:"")+t});case 4949:if(ri(t,e+6)===121)return Ht(t,":",":"+vr)+t;break;case 6444:switch(ri(t,ri(t,14)===45?18:11)){case 120:return Ht(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+vr+(ri(t,14)===45?"inline-":"")+"box$3$1"+vr+"$2$3$1"+Hr+"$2box$3")+t;case 100:return Ht(t,":",":"+Hr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ht(t,"scroll-","scroll-snap-")+t}return t}function _0(t,e){for(var r="",i=0;i<t.length;i++)r+=e(t[i],i,t,e)||"";return r}function Q6(t,e,r,i){switch(t.type){case U6:if(t.children.length)break;case I6:case tm:return t.return=t.return||t.value;case zy:return"";case My:return t.return=t.value+"{"+_0(t.children,i)+"}";case W0:if(!Qo(t.value=t.props.join(",")))return""}return Qo(r=_0(t.children,i))?t.return=t.value+"{"+r+"}":""}function eS(t){var e=Uy(t);return function(r,i,o,s){for(var c="",d=0;d<e;d++)c+=t[d](r,i,o,s)||"";return c}}function tS(t){return function(e){e.root||(e=e.return)&&t(e)}}function rS(t,e,r,i){if(t.length>-1&&!t.return)switch(t.type){case tm:t.return=qy(t.value,t.length,r);return;case My:return _0([Pl(t,{value:Ht(t.value,"@","@"+vr)})],i);case W0:if(t.length)return q6(r=t.props,function(o){switch(Os(o,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ku(Pl(t,{props:[Ht(o,/:(read-\w+)/,":"+bf+"$1")]})),ku(Pl(t,{props:[o]})),cg(t,{props:R5(r,i)});break;case"::placeholder":ku(Pl(t,{props:[Ht(o,/:(plac\w+)/,":"+vr+"input-$1")]})),ku(Pl(t,{props:[Ht(o,/:(plac\w+)/,":"+bf+"$1")]})),ku(Pl(t,{props:[Ht(o,/:(plac\w+)/,Hr+"input-$1")]})),ku(Pl(t,{props:[o]})),cg(t,{props:R5(r,i)});break}return""})}}var nS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pa={},ld=typeof process<"u"&&pa!==void 0&&(pa.REACT_APP_SC_ATTR||pa.SC_ATTR)||"data-styled",Hy="active",$y="data-styled-version",K0="6.1.18",nm=`/*!sc*/
`,j0=typeof window<"u"&&typeof document<"u",iS=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&pa!==void 0&&pa.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&pa.REACT_APP_SC_DISABLE_SPEEDY!==""?pa.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&pa.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&pa!==void 0&&pa.SC_DISABLE_SPEEDY!==void 0&&pa.SC_DISABLE_SPEEDY!==""&&pa.SC_DISABLE_SPEEDY!=="false"&&pa.SC_DISABLE_SPEEDY),aS={},X0=Object.freeze([]),cd=Object.freeze({});function Wy(t,e,r){return r===void 0&&(r=cd),t.theme!==r.theme&&t.theme||e||r.theme}var Gy=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),oS=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,sS=/(^-|-$)/g;function z5(t){return t.replace(oS,"-").replace(sS,"")}var lS=/(a)(d)/gi,Bh=52,M5=function(t){return String.fromCharCode(t+(t>25?39:97))};function fg(t){var e,r="";for(e=Math.abs(t);e>Bh;e=e/Bh|0)r=M5(e%Bh)+r;return(M5(e%Bh)+r).replace(lS,"$1-$2")}var b1,Vy=5381,Yu=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},Yy=function(t){return Yu(Vy,t)};function Ky(t){return fg(Yy(t)>>>0)}function cS(t){return t.displayName||t.name||"Component"}function y1(t){return typeof t=="string"&&!0}var Xy=typeof Symbol=="function"&&Symbol.for,Zy=Xy?Symbol.for("react.memo"):60115,uS=Xy?Symbol.for("react.forward_ref"):60112,dS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},fS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Jy={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hS=((b1={})[uS]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},b1[Zy]=Jy,b1);function B5(t){return("type"in(e=t)&&e.type.$$typeof)===Zy?Jy:"$$typeof"in t?hS[t.$$typeof]:dS;var e}var pS=Object.defineProperty,gS=Object.getOwnPropertyNames,I5=Object.getOwnPropertySymbols,mS=Object.getOwnPropertyDescriptor,vS=Object.getPrototypeOf,U5=Object.prototype;function Qy(t,e,r){if(typeof e!="string"){if(U5){var i=vS(e);i&&i!==U5&&Qy(t,i,r)}var o=gS(e);I5&&(o=o.concat(I5(e)));for(var s=B5(t),c=B5(e),d=0;d<o.length;++d){var f=o[d];if(!(f in fS||r&&r[f]||c&&f in c||s&&f in s)){var h=mS(e,f);try{pS(t,f,h)}catch{}}}}return t}function ud(t){return typeof t=="function"}function im(t){return typeof t=="object"&&"styledComponentId"in t}function Ec(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function hg(t,e){if(t.length===0)return"";for(var r=t[0],i=1;i<t.length;i++)r+=t[i];return r}function Ef(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function pg(t,e,r){if(r===void 0&&(r=!1),!r&&!Ef(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)t[i]=pg(t[i],e[i]);else if(Ef(e))for(var i in e)t[i]=pg(t[i],e[i]);return t}function am(t,e){Object.defineProperty(t,"toString",{value:e})}function Pf(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var bS=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,i=0;i<e;i++)r+=this.groupSizes[i];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,s=o;e>=s;)if((s<<=1)<0)throw Pf(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var c=o;c<s;c++)this.groupSizes[c]=0}for(var d=this.indexOfGroup(e+1),f=(c=0,r.length);c<f;c++)this.tag.insertRule(d,r[c])&&(this.groupSizes[e]++,d++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r;this.groupSizes[e]=0;for(var s=i;s<o;s++)this.tag.deleteRule(i)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var i=this.groupSizes[e],o=this.indexOfGroup(e),s=o+i,c=o;c<s;c++)r+="".concat(this.tag.getRule(c)).concat(nm);return r},t}(),p0=new Map,A0=new Map,g0=1,Ih=function(t){if(p0.has(t))return p0.get(t);for(;A0.has(g0);)g0++;var e=g0++;return p0.set(t,e),A0.set(e,t),e},yS=function(t,e){g0=e+1,p0.set(t,e),A0.set(e,t)},xS="style[".concat(ld,"][").concat($y,'="').concat(K0,'"]'),wS=new RegExp("^".concat(ld,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),SS=function(t,e,r){for(var i,o=r.split(","),s=0,c=o.length;s<c;s++)(i=o[s])&&t.registerName(e,i)},_S=function(t,e){for(var r,i=((r=e.textContent)!==null&&r!==void 0?r:"").split(nm),o=[],s=0,c=i.length;s<c;s++){var d=i[s].trim();if(d){var f=d.match(wS);if(f){var h=0|parseInt(f[1],10),g=f[2];h!==0&&(yS(g,h),SS(t,g,f[3]),t.getTag().insertRules(h,o)),o.length=0}else o.push(d)}}},F5=function(t){for(var e=document.querySelectorAll(xS),r=0,i=e.length;r<i;r++){var o=e[r];o&&o.getAttribute(ld)!==Hy&&(_S(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function jS(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var ex=function(t){var e=document.head,r=t||e,i=document.createElement("style"),o=function(d){var f=Array.from(d.querySelectorAll("style[".concat(ld,"]")));return f[f.length-1]}(r),s=o!==void 0?o.nextSibling:null;i.setAttribute(ld,Hy),i.setAttribute($y,K0);var c=jS();return c&&i.setAttribute("nonce",c),r.insertBefore(i,s),i},AS=function(){function t(e){this.element=ex(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var i=document.styleSheets,o=0,s=i.length;o<s;o++){var c=i[o];if(c.ownerNode===r)return c}throw Pf(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),CS=function(){function t(e){this.element=ex(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var i=document.createTextNode(r);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),kS=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),q5=j0,ES={isServer:!j0,useCSSOMInjection:!iS},C0=function(){function t(e,r,i){e===void 0&&(e=cd),r===void 0&&(r={});var o=this;this.options=Ai(Ai({},ES),e),this.gs=r,this.names=new Map(i),this.server=!!e.isServer,!this.server&&j0&&q5&&(q5=!1,F5(this)),am(this,function(){return function(s){for(var c=s.getTag(),d=c.length,f="",h=function(w){var S=function(E){return A0.get(E)}(w);if(S===void 0)return"continue";var b=s.names.get(S),j=c.getGroup(w);if(b===void 0||!b.size||j.length===0)return"continue";var C="".concat(ld,".g").concat(w,'[id="').concat(S,'"]'),N="";b!==void 0&&b.forEach(function(E){E.length>0&&(N+="".concat(E,","))}),f+="".concat(j).concat(C,'{content:"').concat(N,'"}').concat(nm)},g=0;g<d;g++)h(g);return f}(o)})}return t.registerId=function(e){return Ih(e)},t.prototype.rehydrate=function(){!this.server&&j0&&F5(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(Ai(Ai({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var i=r.useCSSOMInjection,o=r.target;return r.isServer?new kS(o):i?new AS(o):new CS(o)}(this.options),new bS(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(Ih(e),this.names.has(e))this.names.get(e).add(r);else{var i=new Set;i.add(r),this.names.set(e,i)}},t.prototype.insertRules=function(e,r,i){this.registerName(e,r),this.getTag().insertRules(Ih(e),i)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Ih(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),NS=/&/g,LS=/^\s*\/\/.*$/gm;function tx(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=tx(r.children,e)),r})}function TS(t){var e,r,i,o=cd,s=o.options,c=s===void 0?cd:s,d=o.plugins,f=d===void 0?X0:d,h=function(S,b,j){return j.startsWith(r)&&j.endsWith(r)&&j.replaceAll(r,"").length>0?".".concat(e):S},g=f.slice();g.push(function(S){S.type===W0&&S.value.includes("&")&&(S.props[0]=S.props[0].replace(NS,r).replace(i,h))}),c.prefix&&g.push(rS),g.push(Q6);var w=function(S,b,j,C){b===void 0&&(b=""),j===void 0&&(j=""),C===void 0&&(C="&"),e=C,r=b,i=new RegExp("\\".concat(r,"\\b"),"g");var N=S.replace(LS,""),E=Z6(j||b?"".concat(j," ").concat(b," { ").concat(N," }"):N);c.namespace&&(E=tx(E,c.namespace));var R=[];return _0(E,eS(g.concat(tS(function(B){return R.push(B)})))),R};return w.hash=f.length?f.reduce(function(S,b){return b.name||Pf(15),Yu(S,b.name)},Vy).toString():"",w}var OS=new C0,gg=TS(),rx=cn.createContext({shouldForwardProp:void 0,styleSheet:OS,stylis:gg});rx.Consumer;cn.createContext(void 0);function mg(){return K.useContext(rx)}var RS=function(){function t(e,r){var i=this;this.inject=function(o,s){s===void 0&&(s=gg);var c=i.name+s.hash;o.hasNameForId(i.id,c)||o.insertRules(i.id,c,s(i.rules,c,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,am(this,function(){throw Pf(12,String(i.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=gg),this.name+e.hash},t}(),PS=function(t){return t>="A"&&t<="Z"};function H5(t){for(var e="",r=0;r<t.length;r++){var i=t[r];if(r===1&&i==="-"&&t[0]==="-")return t;PS(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var nx=function(t){return t==null||t===!1||t===""},ix=function(t){var e,r,i=[];for(var o in t){var s=t[o];t.hasOwnProperty(o)&&!nx(s)&&(Array.isArray(s)&&s.isCss||ud(s)?i.push("".concat(H5(o),":"),s,";"):Ef(s)?i.push.apply(i,kf(kf(["".concat(o," {")],ix(s),!1),["}"],!1)):i.push("".concat(H5(o),": ").concat((e=o,(r=s)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in nS||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return i};function Bl(t,e,r,i){if(nx(t))return[];if(im(t))return[".".concat(t.styledComponentId)];if(ud(t)){if(!ud(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var o=t(e);return Bl(o,e,r,i)}var s;return t instanceof RS?r?(t.inject(r,i),[t.getName(i)]):[t]:Ef(t)?ix(t):Array.isArray(t)?Array.prototype.concat.apply(X0,t.map(function(c){return Bl(c,e,r,i)})):[t.toString()]}function ax(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(ud(r)&&!im(r))return!1}return!0}var DS=Yy(K0),zS=function(){function t(e,r,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&ax(e),this.componentId=r,this.baseHash=Yu(DS,r),this.baseStyle=i,C0.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,i){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))o=Ec(o,this.staticRulesId);else{var s=hg(Bl(this.rules,e,r,i)),c=fg(Yu(this.baseHash,s)>>>0);if(!r.hasNameForId(this.componentId,c)){var d=i(s,".".concat(c),void 0,this.componentId);r.insertRules(this.componentId,c,d)}o=Ec(o,c),this.staticRulesId=c}else{for(var f=Yu(this.baseHash,i.hash),h="",g=0;g<this.rules.length;g++){var w=this.rules[g];if(typeof w=="string")h+=w;else if(w){var S=hg(Bl(w,e,r,i));f=Yu(f,S+g),h+=S}}if(h){var b=fg(f>>>0);r.hasNameForId(this.componentId,b)||r.insertRules(this.componentId,b,i(h,".".concat(b),void 0,this.componentId)),o=Ec(o,b)}}return o},t}(),om=cn.createContext(void 0);om.Consumer;var x1={};function MS(t,e,r){var i=im(t),o=t,s=!y1(t),c=e.attrs,d=c===void 0?X0:c,f=e.componentId,h=f===void 0?function(z,Q){var ue=typeof z!="string"?"sc":z5(z);x1[ue]=(x1[ue]||0)+1;var J="".concat(ue,"-").concat(Ky(K0+ue+x1[ue]));return Q?"".concat(Q,"-").concat(J):J}(e.displayName,e.parentComponentId):f,g=e.displayName,w=g===void 0?function(z){return y1(z)?"styled.".concat(z):"Styled(".concat(cS(z),")")}(t):g,S=e.displayName&&e.componentId?"".concat(z5(e.displayName),"-").concat(e.componentId):e.componentId||h,b=i&&o.attrs?o.attrs.concat(d).filter(Boolean):d,j=e.shouldForwardProp;if(i&&o.shouldForwardProp){var C=o.shouldForwardProp;if(e.shouldForwardProp){var N=e.shouldForwardProp;j=function(z,Q){return C(z,Q)&&N(z,Q)}}else j=C}var E=new zS(r,S,i?o.componentStyle:void 0);function R(z,Q){return function(ue,J,se){var U=ue.attrs,te=ue.componentStyle,M=ue.defaultProps,W=ue.foldedComponentIds,oe=ue.styledComponentId,ae=ue.target,be=cn.useContext(om),ne=mg(),he=ue.shouldForwardProp||ne.shouldForwardProp,ce=Wy(J,be,M)||cd,je=function($,re,ve){for(var xe,Ae=Ai(Ai({},re),{className:void 0,theme:ve}),Pe=0;Pe<$.length;Pe+=1){var qe=ud(xe=$[Pe])?xe(Ae):xe;for(var Ge in qe)Ae[Ge]=Ge==="className"?Ec(Ae[Ge],qe[Ge]):Ge==="style"?Ai(Ai({},Ae[Ge]),qe[Ge]):qe[Ge]}return re.className&&(Ae.className=Ec(Ae.className,re.className)),Ae}(U,J,ce),O=je.as||ae,ie={};for(var L in je)je[L]===void 0||L[0]==="$"||L==="as"||L==="theme"&&je.theme===ce||(L==="forwardedAs"?ie.as=je.forwardedAs:he&&!he(L,O)||(ie[L]=je[L]));var H=function($,re){var ve=mg(),xe=$.generateAndInjectStyles(re,ve.styleSheet,ve.stylis);return xe}(te,je),Y=Ec(W,oe);return H&&(Y+=" "+H),je.className&&(Y+=" "+je.className),ie[y1(O)&&!Gy.has(O)?"class":"className"]=Y,se&&(ie.ref=se),K.createElement(O,ie)}(B,z,Q)}R.displayName=w;var B=cn.forwardRef(R);return B.attrs=b,B.componentStyle=E,B.displayName=w,B.shouldForwardProp=j,B.foldedComponentIds=i?Ec(o.foldedComponentIds,o.styledComponentId):"",B.styledComponentId=S,B.target=i?o.target:t,Object.defineProperty(B,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(z){this._foldedDefaultProps=i?function(Q){for(var ue=[],J=1;J<arguments.length;J++)ue[J-1]=arguments[J];for(var se=0,U=ue;se<U.length;se++)pg(Q,U[se],!0);return Q}({},o.defaultProps,z):z}}),am(B,function(){return".".concat(B.styledComponentId)}),s&&Qy(B,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),B}function $5(t,e){for(var r=[t[0]],i=0,o=e.length;i<o;i+=1)r.push(e[i],t[i+1]);return r}var W5=function(t){return Object.assign(t,{isCss:!0})};function ox(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(ud(t)||Ef(t))return W5(Bl($5(X0,kf([t],e,!0))));var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?Bl(i):W5(Bl($5(i,e)))}function vg(t,e,r){if(r===void 0&&(r=cd),!e)throw Pf(1,e);var i=function(o){for(var s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];return t(e,r,ox.apply(void 0,kf([o],s,!1)))};return i.attrs=function(o){return vg(t,e,Ai(Ai({},r),{attrs:Array.prototype.concat(r.attrs,o).filter(Boolean)}))},i.withConfig=function(o){return vg(t,e,Ai(Ai({},r),o))},i}var sx=function(t){return vg(MS,t)},fe=sx;Gy.forEach(function(t){fe[t]=sx(t)});var BS=function(){function t(e,r){this.rules=e,this.componentId=r,this.isStatic=ax(e),C0.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,r,i,o){var s=o(hg(Bl(this.rules,r,i,o)),""),c=this.componentId+e;i.insertRules(c,c,s)},t.prototype.removeStyles=function(e,r){r.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,r,i,o){e>2&&C0.registerId(this.componentId+e),this.removeStyles(e,i),this.createStyles(e,r,i,o)},t}();function IS(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=ox.apply(void 0,kf([t],e,!1)),o="sc-global-".concat(Ky(JSON.stringify(i))),s=new BS(i,o),c=function(f){var h=mg(),g=cn.useContext(om),w=cn.useRef(h.styleSheet.allocateGSInstance(o)).current;return h.styleSheet.server&&d(w,f,h.styleSheet,g,h.stylis),cn.useLayoutEffect(function(){if(!h.styleSheet.server)return d(w,f,h.styleSheet,g,h.stylis),function(){return s.removeStyles(w,h.styleSheet)}},[w,f,h.styleSheet,g,h.stylis]),null};function d(f,h,g,w,S){if(s.isStatic)s.renderStyles(f,aS,g,S);else{var b=Ai(Ai({},h),{theme:Wy(h,w,c.defaultProps)});s.renderStyles(f,b,g,S)}}return cn.memo(c)}fe.header`
  display: none;
`;const US=fe.button`
  background: none;
  border: none;
  cursor: pointer;
  margin-left: 1.5rem;
  display: flex;
  align-items: center;
  z-index: 21;
`,FS=fe.div`
  min-height: 100dvh;
  background: #f8fafc;
  display: flex;
  flex-direction: column;
`,qS=fe.main`
  display: grid;
  min-height: 100vh;
  height: 100vh;
  background: #f8fafc;
  grid-template-columns: 260px 1fr;
  grid-template-rows: 1fr 56px;
  color: #003459;

  .contentSidebar {
    grid-column: 1 / 2;
    grid-row: 1 / 3;
    display: block;
    min-width: 200px;
    background: #f8fafc;
    border-right: 2px solid #a5c4ca44;
    height: 100%;
  }
  .contentMenuHambur {
    display: none;
  }
  .contentRouters {
    grid-column: 2 / 3;
    grid-row: 1 / 2;
    width: 100%;
    min-width: 0;
    overflow-y: auto;
    margin-top: 0;
    box-sizing: border-box;
    background: linear-gradient(120deg,rgb(204, 228, 233) 0%,rgb(186, 203, 207) 100%);
    min-height: calc(100vh - 56px);
    height: auto;
  }
  footer {
    grid-column: 2 / 3;
    grid-row: 2 / 3;
    height: 56px;
    min-height: 56px;
    width: 100%;
    box-sizing: border-box;
  }

  @media (max-width: 900px) {
    grid-template-columns: 1fr;
    grid-template-rows: 1fr 56px;
    .contentSidebar {
      display: none;
    }
    .contentMenuHambur {
      display: block;
    }
    .contentRouters {
      grid-column: 1;
      padding: 56px 0.2rem 0 0.2rem;
      min-height: calc(100vh - 56px - 56px);
      height: auto;
      box-sizing: border-box;
    }
    footer {
      grid-column: 1;
      height: 56px;
      min-height: 56px;
      width: 100%;
      box-sizing: border-box;
    }
  }

  .tabla-pdf {
    font-size: 10px;
    width: 100%;
    table-layout: fixed;
  }

  
  .tabla-pdf th, .tabla-pdf td {
    padding: 4px 6px;
    border: 1px solid #ccc;
    word-break: break-word;
  }

  .tabla-pdf th{
    align-items: center;
    font-size: 1em;
    font-weight: bold;
  }

  .tabla-pdf td{
    align-items: center;
    font-size: 1em;
    color: #000407ff;
  }

  .tabla-pdf th:nth-child(1), .tabla-pdf td:nth-child(1) { width: 13%; }
  .tabla-pdf th:nth-child(2), .tabla-pdf td:nth-child(2) { width: 17%; }
  .tabla-pdf th:nth-child(3), .tabla-pdf td:nth-child(3),
  .tabla-pdf th:nth-child(4), .tabla-pdf td:nth-child(4) {
    width: 14%;
    white-space: nowrap;
  }
  .tabla-pdf th:nth-child(5), .tabla-pdf td:nth-child(5) { width: 10%; text-align: right; }
  .tabla-pdf th:nth-child(6), .tabla-pdf td:nth-child(6) { width: 26%; white-space: pre-line; }
`;var lx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G5=cn.createContext&&cn.createContext(lx),HS=["attr","size","title"];function $S(t,e){if(t==null)return{};var r=WS(t,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function WS(t,e){if(t==null)return{};var r={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;r[i]=t[i]}return r}function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},k0.apply(this,arguments)}function V5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,i)}return r}function E0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(r),!0).forEach(function(i){GS(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V5(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function GS(t,e,r){return e=VS(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VS(t){var e=YS(t,"string");return typeof e=="symbol"?e:e+""}function YS(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cx(t){return t&&t.map((e,r)=>cn.createElement(e.tag,E0({key:r},e.attr),cx(e.child)))}function $t(t){return e=>cn.createElement(KS,k0({attr:E0({},t.attr)},e),cx(t.child))}function KS(t){var e=r=>{var{attr:i,size:o,title:s}=t,c=$S(t,HS),d=o||r.size||"1em",f;return r.className&&(f=r.className),t.className&&(f=(f?f+" ":"")+t.className),cn.createElement("svg",k0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,c,{className:f,style:E0(E0({color:t.color||r.color},r.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),s&&cn.createElement("title",null,s),t.children)};return G5!==void 0?cn.createElement(G5.Consumer,null,r=>e(r)):e(lx)}function XS(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function ZS(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(t)}function JS(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function QS(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function e_(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function Z0(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function N0(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function dd(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function Y5(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function t_(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function Uh(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(t)}function r_(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function n_(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function i_(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function K5(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function ux(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function a_(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function X5(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function Z5(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function J5(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function o_(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(t)}function Rc(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function dx(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function L0(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function T0(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function s_(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function sm(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function l_(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(t)}function c_(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function Q5(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}function fx(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Tc(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function O0(t){return $t({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const u_="modulepreload",d_=function(t){return"/TechnoFix/"+t},ev={},Il=function(e,r,i){let o=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=c(r.map(h=>{if(h=d_(h),h in ev)return;ev[h]=!0;const g=h.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${w}`))return;const S=document.createElement("link");if(S.rel=g?"stylesheet":u_,g||(S.as="script"),S.crossOrigin="",S.href=h,f&&S.setAttribute("nonce",f),document.head.appendChild(S),g)return new Promise((b,j)=>{S.addEventListener("load",b),S.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&s(d.reason);return e().catch(s)})},f_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Il(async()=>{const{default:i}=await Promise.resolve().then(()=>vd);return{default:i}},[]).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)};class lm extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class tv extends lm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class rv extends lm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class nv extends lm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(bg||(bg={}));var h_=function(t,e,r,i){function o(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function d(g){try{h(i.next(g))}catch(w){c(w)}}function f(g){try{h(i.throw(g))}catch(w){c(w)}}function h(g){g.done?s(g.value):o(g.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};class p_{constructor(e,{headers:r={},customFetch:i,region:o=bg.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=f_(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var i;return h_(this,void 0,void 0,function*(){try{const{headers:o,method:s,body:c,signal:d}=r;let f={},{region:h}=r;h||(h=this.region);const g=new URL(`${this.url}/${e}`);h&&h!=="any"&&(f["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let w;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(f["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(f["Content-Type"]="application/json",w=JSON.stringify(c)));const S=yield this.fetch(g.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:w,signal:d}).catch(N=>{throw N.name==="AbortError"?N:new tv(N)}),b=S.headers.get("x-relay-error");if(b&&b==="true")throw new rv(S);if(!S.ok)throw new nv(S);let j=((i=S.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return j==="application/json"?C=yield S.json():j==="application/octet-stream"?C=yield S.blob():j==="text/event-stream"?C=S:j==="multipart/form-data"?C=yield S.formData():C=yield S.text(),{data:C,error:null,response:S}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new tv(o)}:{data:null,error:o,response:o instanceof nv||o instanceof rv?o.context:void 0}}})}}var ti={},Eu={},Nu={},Lu={},Tu={},Ou={},g_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fd=g_();const m_=fd.fetch,hx=fd.fetch.bind(fd),px=fd.Headers,v_=fd.Request,b_=fd.Response,vd=Object.freeze(Object.defineProperty({__proto__:null,Headers:px,Request:v_,Response:b_,default:hx,fetch:m_},Symbol.toStringTag,{value:"Module"})),y_=a3(vd);var Fh={},iv;function gx(){if(iv)return Fh;iv=1,Object.defineProperty(Fh,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Fh.default=t,Fh}var av;function mx(){if(av)return Ou;av=1;var t=Ou&&Ou.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ou,"__esModule",{value:!0});const e=t(y_),r=t(gx());class i{constructor(s){var c,d;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(c=s.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=s.signal,this.isMaybeSingle=(d=s.isMaybeSingle)!==null&&d!==void 0?d:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,c){return this.headers=new Headers(this.headers),this.headers.set(s,c),this}then(s,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var g,w,S,b;let j=null,C=null,N=null,E=h.status,R=h.statusText;if(h.ok){if(this.method!=="HEAD"){const ue=await h.text();ue===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?C=ue:C=JSON.parse(ue))}const z=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),Q=(S=h.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");z&&Q&&Q.length>1&&(N=parseInt(Q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(j={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,N=null,E=406,R="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const z=await h.text();try{j=JSON.parse(z),Array.isArray(j)&&h.status===404&&(C=[],j=null,E=200,R="OK")}catch{h.status===404&&z===""?(E=204,R="No Content"):j={message:z}}if(j&&this.isMaybeSingle&&(!((b=j==null?void 0:j.details)===null||b===void 0)&&b.includes("0 rows"))&&(j=null,E=200,R="OK"),j&&this.shouldThrowOnError)throw new r.default(j)}return{error:j,data:C,count:N,status:E,statusText:R}});return this.shouldThrowOnError||(f=f.catch(h=>{var g,w,S;return{error:{message:`${(g=h==null?void 0:h.name)!==null&&g!==void 0?g:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(w=h==null?void 0:h.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(S=h==null?void 0:h.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),f.then(s,c)}returns(){return this}overrideTypes(){return this}}return Ou.default=i,Ou}var ov;function vx(){if(ov)return Tu;ov=1;var t=Tu&&Tu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Tu,"__esModule",{value:!0});const e=t(mx());class r extends e.default{select(o){let s=!1;const c=(o??"*").split("").map(d=>/\s/.test(d)&&!s?"":(d==='"'&&(s=!s),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:s=!0,nullsFirst:c,foreignTable:d,referencedTable:f=d}={}){const h=f?`${f}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${o}.${s?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:s,referencedTable:c=s}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,s,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(h,`${s-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:s=!1,settings:c=!1,buffers:d=!1,wal:f=!1,format:h="text"}={}){var g;const w=[o?"analyze":null,s?"verbose":null,c?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),S=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${S}"; options=${w};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Tu.default=r,Tu}var sv;function cm(){if(sv)return Lu;sv=1;var t=Lu&&Lu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Lu,"__esModule",{value:!0});const e=t(vx());class r extends e.default{eq(o,s){return this.url.searchParams.append(o,`eq.${s}`),this}neq(o,s){return this.url.searchParams.append(o,`neq.${s}`),this}gt(o,s){return this.url.searchParams.append(o,`gt.${s}`),this}gte(o,s){return this.url.searchParams.append(o,`gte.${s}`),this}lt(o,s){return this.url.searchParams.append(o,`lt.${s}`),this}lte(o,s){return this.url.searchParams.append(o,`lte.${s}`),this}like(o,s){return this.url.searchParams.append(o,`like.${s}`),this}likeAllOf(o,s){return this.url.searchParams.append(o,`like(all).{${s.join(",")}}`),this}likeAnyOf(o,s){return this.url.searchParams.append(o,`like(any).{${s.join(",")}}`),this}ilike(o,s){return this.url.searchParams.append(o,`ilike.${s}`),this}ilikeAllOf(o,s){return this.url.searchParams.append(o,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(o,s){return this.url.searchParams.append(o,`ilike(any).{${s.join(",")}}`),this}is(o,s){return this.url.searchParams.append(o,`is.${s}`),this}in(o,s){const c=Array.from(new Set(s)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,s){return typeof s=="string"?this.url.searchParams.append(o,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(o,`cs.{${s.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(s)}`),this}containedBy(o,s){return typeof s=="string"?this.url.searchParams.append(o,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(o,`cd.{${s.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(s)}`),this}rangeGt(o,s){return this.url.searchParams.append(o,`sr.${s}`),this}rangeGte(o,s){return this.url.searchParams.append(o,`nxl.${s}`),this}rangeLt(o,s){return this.url.searchParams.append(o,`sl.${s}`),this}rangeLte(o,s){return this.url.searchParams.append(o,`nxr.${s}`),this}rangeAdjacent(o,s){return this.url.searchParams.append(o,`adj.${s}`),this}overlaps(o,s){return typeof s=="string"?this.url.searchParams.append(o,`ov.${s}`):this.url.searchParams.append(o,`ov.{${s.join(",")}}`),this}textSearch(o,s,{config:c,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${f}fts${h}.${s}`),this}match(o){return Object.entries(o).forEach(([s,c])=>{this.url.searchParams.append(s,`eq.${c}`)}),this}not(o,s,c){return this.url.searchParams.append(o,`not.${s}.${c}`),this}or(o,{foreignTable:s,referencedTable:c=s}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,s,c){return this.url.searchParams.append(o,`${s}.${c}`),this}}return Lu.default=r,Lu}var lv;function bx(){if(lv)return Nu;lv=1;var t=Nu&&Nu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Nu,"__esModule",{value:!0});const e=t(cm());class r{constructor(o,{headers:s={},schema:c,fetch:d}){this.url=o,this.headers=new Headers(s),this.schema=c,this.fetch=d}select(o,{head:s=!1,count:c}={}){const d=s?"HEAD":"GET";let f=!1;const h=(o??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",h),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:s,defaultToNull:c=!0}={}){var d;const f="POST";if(s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const h=o.reduce((g,w)=>g.concat(Object.keys(w)),[]);if(h.length>0){const g=[...new Set(h)].map(w=>`"${w}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:s,ignoreDuplicates:c=!1,count:d,defaultToNull:f=!0}={}){var h;const g="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const w=o.reduce((S,b)=>S.concat(Object.keys(b)),[]);if(w.length>0){const S=[...new Set(w)].map(b=>`"${b}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(o,{count:s}={}){var c;const d="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var s;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Nu.default=r,Nu}var cv;function x_(){if(cv)return Eu;cv=1;var t=Eu&&Eu.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Eu,"__esModule",{value:!0});const e=t(bx()),r=t(cm());class i{constructor(s,{headers:c={},schema:d,fetch:f}={}){this.url=s,this.headers=new Headers(c),this.schemaName=d,this.fetch=f}from(s){const c=new URL(`${this.url}/${s}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new i(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,c={},{head:d=!1,get:f=!1,count:h}={}){var g;let w;const S=new URL(`${this.url}/rpc/${s}`);let b;d||f?(w=d?"HEAD":"GET",Object.entries(c).filter(([C,N])=>N!==void 0).map(([C,N])=>[C,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([C,N])=>{S.searchParams.append(C,N)})):(w="POST",b=c);const j=new Headers(this.headers);return h&&j.set("Prefer",`count=${h}`),new r.default({method:w,url:S,headers:j,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Eu.default=i,Eu}var uv;function w_(){if(uv)return ti;uv=1;var t=ti&&ti.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(ti,"__esModule",{value:!0}),ti.PostgrestError=ti.PostgrestBuilder=ti.PostgrestTransformBuilder=ti.PostgrestFilterBuilder=ti.PostgrestQueryBuilder=ti.PostgrestClient=void 0;const e=t(x_());ti.PostgrestClient=e.default;const r=t(bx());ti.PostgrestQueryBuilder=r.default;const i=t(cm());ti.PostgrestFilterBuilder=i.default;const o=t(vx());ti.PostgrestTransformBuilder=o.default;const s=t(mx());ti.PostgrestBuilder=s.default;const c=t(gx());return ti.PostgrestError=c.default,ti.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:s.default,PostgrestError:c.default},ti}var S_=w_();const __=xy(S_),{PostgrestClient:j_,PostgrestQueryBuilder:ZN,PostgrestFilterBuilder:JN,PostgrestTransformBuilder:QN,PostgrestBuilder:eL,PostgrestError:tL}=__;class A_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const C_="2.15.5",k_=`realtime-js/${C_}`,E_="1.0.0",yg=1e4,N_=1e3,L_=100;var yf;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yf||(yf={}));var Hn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Hn||(Hn={}));var po;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(po||(po={}));var xg;(function(t){t.websocket="websocket"})(xg||(xg={}));var Cc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Cc||(Cc={}));class T_{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,r,i)}_decodeBroadcast(e,r,i){const o=r.getUint8(1),s=r.getUint8(2);let c=this.HEADER_LENGTH+2;const d=i.decode(e.slice(c,c+o));c=c+o;const f=i.decode(e.slice(c,c+s));c=c+s;const h=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:f,payload:h}}}class yx{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ur;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ur||(Ur={}));const dv=(t,e,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((s,c)=>(s[c]=O_(c,t,e,o),s),{})},O_=(t,e,r,i)=>{const o=e.find(d=>d.name===t),s=o==null?void 0:o.type,c=r[t];return s&&!i.includes(s)?xx(s,c):wg(c)},xx=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return z_(e,r)}switch(t){case Ur.bool:return R_(e);case Ur.float4:case Ur.float8:case Ur.int2:case Ur.int4:case Ur.int8:case Ur.numeric:case Ur.oid:return P_(e);case Ur.json:case Ur.jsonb:return D_(e);case Ur.timestamp:return M_(e);case Ur.abstime:case Ur.date:case Ur.daterange:case Ur.int4range:case Ur.int8range:case Ur.money:case Ur.reltime:case Ur.text:case Ur.time:case Ur.timestamptz:case Ur.timetz:case Ur.tsrange:case Ur.tstzrange:return wg(e);default:return wg(e)}},wg=t=>t,R_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},P_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},D_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},z_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let s;const c=t.slice(1,r);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(d=>xx(e,d))}return t},M_=t=>typeof t=="string"?t.replace(" ","T"):t,wx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class w1{constructor(e,r,i={},o=yg){this.channel=e,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fv||(fv={}));class xf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:s,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xf.syncState(this.state,o,s,c),this.pendingDiffs.forEach(f=>{this.state=xf.syncDiff(this.state,f,s,c)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},o=>{const{onJoin:s,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=xf.syncDiff(this.state,o,s,c),d())}),this.onJoin((o,s,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:s,newPresences:c})}),this.onLeave((o,s,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,o){const s=this.cloneDeep(e),c=this.transformState(r),d={},f={};return this.map(s,(h,g)=>{c[h]||(f[h]=g)}),this.map(c,(h,g)=>{const w=s[h];if(w){const S=g.map(N=>N.presence_ref),b=w.map(N=>N.presence_ref),j=g.filter(N=>b.indexOf(N.presence_ref)<0),C=w.filter(N=>S.indexOf(N.presence_ref)<0);j.length>0&&(d[h]=j),C.length>0&&(f[h]=C)}else d[h]=g}),this.syncDiff(s,{joins:d,leaves:f},i,o)}static syncDiff(e,r,i,o){const{joins:s,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(s,(d,f)=>{var h;const g=(h=e[d])!==null&&h!==void 0?h:[];if(e[d]=this.cloneDeep(f),g.length>0){const w=e[d].map(b=>b.presence_ref),S=g.filter(b=>w.indexOf(b.presence_ref)<0);e[d].unshift(...S)}i(d,g,f)}),this.map(c,(d,f)=>{let h=e[d];if(!h)return;const g=f.map(w=>w.presence_ref);h=h.filter(w=>g.indexOf(w.presence_ref)<0),e[d]=h,o(d,h,f),h.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const o=e[i];return"metas"in o?r[i]=o.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[i]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hv||(hv={}));var wf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wf||(wf={}));var Rs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Rs||(Rs={}));class um{constructor(e,r={config:{}},i){this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=Hn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new w1(this,po.join,this.params,this.timeout),this.rejoinTimer=new yx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Hn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Hn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Hn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Hn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Hn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(po.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new xf(this),this.broadcastEndpointURL=wx(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var i,o,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Hn.closed){const{config:{broadcast:c,presence:d,private:f}}=this.params,h=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[wf.PRESENCE]&&this.bindings[wf.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,w={},S={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(Rs.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(Rs.CLOSED)),this.updateJoinPayload(Object.assign({config:S},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var j;if(this.socket.setAuth(),b===void 0){e==null||e(Rs.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,N=(j=C==null?void 0:C.length)!==null&&j!==void 0?j:0,E=[];for(let R=0;R<N;R++){const B=C[R],{filter:{event:z,schema:Q,table:ue,filter:J}}=B,se=b&&b[R];if(se&&se.event===z&&se.schema===Q&&se.table===ue&&se.filter===J)E.push(Object.assign(Object.assign({},B),{id:se.id}));else{this.unsubscribe(),this.state=Hn.errored,e==null||e(Rs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Rs.SUBSCRIBED);return}}).receive("error",b=>{this.state=Hn.errored,e==null||e(Rs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Rs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===Hn.joined&&e===wf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,i)}async send(e,r={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:c}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,d,f;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Hn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(po.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new w1(this,po.leave,{},e),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Hn.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const o=new AbortController,s=setTimeout(()=>o.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(s),c}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new w1(this,e,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>L_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var o,s;const c=e.toLocaleLowerCase(),{close:d,error:f,leave:h,join:g}=po;if(i&&[d,f,h,g].indexOf(c)>=0&&i!==this._joinRef())return;let S=this._onMessage(c,r,i);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var j,C,N;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((N=(C=b.filter)===null||C===void 0?void 0:C.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===c}).map(b=>b.callback(S,i)):(s=this.bindings[c])===null||s===void 0||s.filter(b=>{var j,C,N,E,R,B;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const z=b.id,Q=(j=b.filter)===null||j===void 0?void 0:j.event;return z&&((C=r.ids)===null||C===void 0?void 0:C.includes(z))&&(Q==="*"||(Q==null?void 0:Q.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const z=(R=(E=b==null?void 0:b.filter)===null||E===void 0?void 0:E.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return z==="*"||z===((B=r==null?void 0:r.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof S=="object"&&"ids"in S){const j=S.data,{schema:C,table:N,commit_timestamp:E,type:R,errors:B}=j;S=Object.assign(Object.assign({},{schema:C,table:N,commit_timestamp:E,eventType:R,new:{},old:{},errors:B}),this._getPayloadRecords(j))}b.callback(S,i)})}_isClosed(){return this.state===Hn.closed}_isJoined(){return this.state===Hn.joined}_isJoining(){return this.state===Hn.joining}_isLeaving(){return this.state===Hn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const o=e.toLocaleLowerCase(),s={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var s;return!(((s=o.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&um.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(po.close,{},e)}_onError(e){this._on(po.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Hn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=dv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=dv(e.columns,e.old_record)),r}}const S1=()=>{},qh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},B_=[1e3,2e3,5e3,1e4],I_=1e4,U_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class F_{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yg,this.transport=null,this.heartbeatIntervalMs=qh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=S1,this.ref=0,this.reconnectTimer=null,this.logger=S1,this.conn=null,this.sendBuffer=[],this.serializer=new T_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...c)=>Il(async()=>{const{default:d}=await Promise.resolve().then(()=>vd);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...c)=>s(...c)},!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${xg.websocket}`,this.httpEndpoint=wx(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=A_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:E_}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case yf.connecting:return Cc.Connecting;case yf.open:return Cc.Open;case yf.closing:return Cc.Closing;default:return Cc.Closed}}isConnected(){return this.connectionState()===Cc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(s=>s.topic===i);if(o)return o;{const s=new um(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:i,payload:o,ref:s}=e,c=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${i} (${s})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(N_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:s,ref:c}=r,d=c?`(${c})`:"",f=s.status||"";this.log("receive",`${f} ${i} ${o} ${d}`.trim(),s),this.channels.filter(h=>h._isMember(i)).forEach(h=>h._trigger(o,s,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(po.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${i}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([U_],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:k_};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(po.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new yx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,o,s,c,d,f,h,g;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:yg,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:qh.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:S1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:w=>B_[w-1]||I_,this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(w,S)=>S(JSON.stringify(w)),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class dm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Tn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class q_ extends dm{constructor(e,r,i){super(e),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sg extends dm{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var H_=function(t,e,r,i){function o(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function d(g){try{h(i.next(g))}catch(w){c(w)}}function f(g){try{h(i.throw(g))}catch(w){c(w)}}function h(g){g.done?s(g.value):o(g.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};const Sx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Il(async()=>{const{default:i}=await Promise.resolve().then(()=>vd);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},$_=()=>H_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Il(()=>Promise.resolve().then(()=>vd),void 0)).Response:Response}),_g=t=>{if(Array.isArray(t))return t.map(r=>_g(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[o]=_g(i)}),e},W_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var zc=function(t,e,r,i){function o(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function d(g){try{h(i.next(g))}catch(w){c(w)}}function f(g){try{h(i.throw(g))}catch(w){c(w)}}function h(g){g.done?s(g.value):o(g.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};const _1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),G_=(t,e,r)=>zc(void 0,void 0,void 0,function*(){const i=yield $_();t instanceof i&&!(r!=null&&r.noResolveJson)?t.json().then(o=>{const s=t.status||500,c=(o==null?void 0:o.statusCode)||s+"";e(new q_(_1(o),s,c))}).catch(o=>{e(new Sg(_1(o),o))}):e(new Sg(_1(t),t))}),V_=(t,e,r,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?o:(W_(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function Df(t,e,r,i,o,s){return zc(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,V_(e,i,o,s)).then(f=>{if(!f.ok)throw f;return i!=null&&i.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>G_(f,d,i))})})}function R0(t,e,r,i){return zc(this,void 0,void 0,function*(){return Df(t,"GET",e,r,i)})}function Jo(t,e,r,i,o){return zc(this,void 0,void 0,function*(){return Df(t,"POST",e,i,o,r)})}function jg(t,e,r,i,o){return zc(this,void 0,void 0,function*(){return Df(t,"PUT",e,i,o,r)})}function Y_(t,e,r,i){return zc(this,void 0,void 0,function*(){return Df(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function _x(t,e,r,i,o){return zc(this,void 0,void 0,function*(){return Df(t,"DELETE",e,i,o,r)})}var K_=function(t,e,r,i){function o(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function d(g){try{h(i.next(g))}catch(w){c(w)}}function f(g){try{h(i.throw(g))}catch(w){c(w)}}function h(g){g.done?s(g.value):o(g.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};class X_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return K_(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Tn(e))return{data:null,error:e};throw e}})}}var Z_=function(t,e,r,i){function o(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function d(g){try{h(i.next(g))}catch(w){c(w)}}function f(g){try{h(i.throw(g))}catch(w){c(w)}}function h(g){g.done?s(g.value):o(g.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};class J_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new X_(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return Z_(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Tn(e))return{data:null,error:e};throw e}})}}var Yi=function(t,e,r,i){function o(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function d(g){try{h(i.next(g))}catch(w){c(w)}}function f(g){try{h(i.throw(g))}catch(w){c(w)}}function h(g){g.done?s(g.value):o(g.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};const Q_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class e8{constructor(e,r={},i,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=i,this.fetch=Sx(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,i,o){return Yi(this,void 0,void 0,function*(){try{let s;const c=Object.assign(Object.assign({},pv),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),f&&s.append("metadata",this.encodeMetadata(f)),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",c.cacheControl),f&&s.append("metadata",this.encodeMetadata(f))):(s=i,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o!=null&&o.headers&&(d=Object.assign(Object.assign({},d),o.headers));const h=this._removeEmptyFolders(r),g=this._getFinalPath(h),w=yield(e=="PUT"?jg:Jo)(this.fetch,`${this.url}/object/${g}`,s,Object.assign({headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:w.Id,fullPath:w.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Tn(s))return{data:null,error:s};throw s}})}upload(e,r,i){return Yi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,o){return Yi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),c=this._getFinalPath(s),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let f;const h=Object.assign({upsert:pv.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",h.cacheControl)):(f=i,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const w=yield jg(this.fetch,d.toString(),f,{headers:g});return{data:{path:s,fullPath:w.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Tn(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return Yi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const s=yield Jo(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),c=new URL(this.url+s.url),d=c.searchParams.get("token");if(!d)throw new dm("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}update(e,r,i){return Yi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return Yi(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}copy(e,r,i){return Yi(this,void 0,void 0,function*(){try{return{data:{path:(yield Jo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,i){return Yi(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),s=yield Jo(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,i){return Yi(this,void 0,void 0,function*(){try{const o=yield Jo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${s}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=s?`?${s}`:"",d=this._getFinalPath(e),f=()=>R0(this.fetch,`${this.url}/${o}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new J_(f,this.shouldThrowOnError)}info(e){return Yi(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield R0(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:_g(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}exists(e){return Yi(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Y_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i)&&i instanceof Sg){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),o=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&o.push(s);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});f!==""&&o.push(f);let h=o.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${h}`)}}}remove(e){return Yi(this,void 0,void 0,function*(){try{return{data:yield _x(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}list(e,r,i){return Yi(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Q_),r),{prefix:e||""});return{data:yield Jo(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}})}listV2(e,r){return Yi(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Jo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const t8="2.12.2",r8={"X-Client-Info":`storage-js/${t8}`};var Ru=function(t,e,r,i){function o(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function d(g){try{h(i.next(g))}catch(w){c(w)}}function f(g){try{h(i.throw(g))}catch(w){c(w)}}function h(g){g.done?s(g.value):o(g.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};class n8{constructor(e,r={},i,o){this.shouldThrowOnError=!1;const s=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},r8),r),this.fetch=Sx(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ru(this,void 0,void 0,function*(){try{return{data:yield R0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Tn(e))return{data:null,error:e};throw e}})}getBucket(e){return Ru(this,void 0,void 0,function*(){try{return{data:yield R0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Ru(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Ru(this,void 0,void 0,function*(){try{return{data:yield jg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Ru(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ru(this,void 0,void 0,function*(){try{return{data:yield _x(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}})}}class i8 extends n8{constructor(e,r={},i,o){super(e,r,i,o)}from(e){return new e8(this.url,this.headers,e,this.fetch)}}const a8="2.58.0";let vf="";typeof Deno<"u"?vf="deno":typeof document<"u"?vf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vf="react-native":vf="node";const o8={"X-Client-Info":`supabase-js-${vf}/${a8}`},s8={headers:o8},l8={schema:"public"},c8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},u8={};var d8=function(t,e,r,i){function o(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function d(g){try{h(i.next(g))}catch(w){c(w)}}function f(g){try{h(i.throw(g))}catch(w){c(w)}}function h(g){g.done?s(g.value):o(g.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};const f8=t=>{let e;return t?e=t:typeof fetch>"u"?e=hx:e=fetch,(...r)=>e(...r)},h8=()=>typeof Headers>"u"?px:Headers,p8=(t,e,r)=>{const i=f8(r),o=h8();return(s,c)=>d8(void 0,void 0,void 0,function*(){var d;const f=(d=yield e())!==null&&d!==void 0?d:t;let h=new o(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),i(s,Object.assign(Object.assign({},c),{headers:h}))})};var g8=function(t,e,r,i){function o(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function d(g){try{h(i.next(g))}catch(w){c(w)}}function f(g){try{h(i.throw(g))}catch(w){c(w)}}function h(g){g.done?s(g.value):o(g.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};function m8(t){return t.endsWith("/")?t:t+"/"}function v8(t,e){var r,i;const{db:o,auth:s,realtime:c,global:d}=t,{db:f,auth:h,realtime:g,global:w}=e,S={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},g),c),storage:{},global:Object.assign(Object.assign(Object.assign({},w),d),{headers:Object.assign(Object.assign({},(r=w==null?void 0:w.headers)!==null&&r!==void 0?r:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>g8(this,void 0,void 0,function*(){return""})};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function b8(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(m8(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const jx="2.72.0",$u=30*1e3,Ag=3,j1=Ag*$u,y8="http://localhost:9999",x8="supabase.auth.token",w8={"X-Client-Info":`gotrue-js/${jx}`},Cg="X-Supabase-Api-Version",Ax={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},S8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_8=10*60*1e3;class fm extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function Ut(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class j8 extends fm{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function A8(t){return Ut(t)&&t.name==="AuthApiError"}class Cx extends fm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Hl extends fm{constructor(e,r,i,o){super(e,i,o),this.name=r,this.status=i}}class Dl extends Hl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function C8(t){return Ut(t)&&t.name==="AuthSessionMissingError"}class ff extends Hl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hh extends Hl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $h extends Hl{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function k8(t){return Ut(t)&&t.name==="AuthImplicitGrantRedirectError"}class gv extends Hl{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kg extends Hl{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function A1(t){return Ut(t)&&t.name==="AuthRetryableFetchError"}class mv extends Hl{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Eg extends Hl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const P0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vv=` 	
\r=`.split(""),E8=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<vv.length;e+=1)t[vv[e].charCodeAt(0)]=-2;for(let e=0;e<P0.length;e+=1)t[P0[e].charCodeAt(0)]=e;return t})();function bv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(P0[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(P0[i]),e.queuedBits-=6}}function kx(t,e,r){const i=E8[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function yv(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},s=c=>{T8(c,i,r)};for(let c=0;c<t.length;c+=1)kx(t.charCodeAt(c),o,s);return e.join("")}function N8(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function L8(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}N8(i,e)}}function T8(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function O8(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)kx(t.charCodeAt(o),r,i);return new Uint8Array(e)}function R8(t){const e=[];return L8(t,r=>e.push(r)),new Uint8Array(e)}function P8(t){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>bv(o,r,i)),bv(null,r,i),e.join("")}function D8(t){return Math.round(Date.now()/1e3)+t}function z8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const za=()=>typeof window<"u"&&typeof document<"u",Sc={tested:!1,writable:!1},Ex=()=>{if(!za())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sc.tested)return Sc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Sc.tested=!0,Sc.writable=!0}catch{Sc.tested=!0,Sc.writable=!1}return Sc.writable};function M8(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,s)=>{e[s]=o})}catch{}return r.searchParams.forEach((i,o)=>{e[o]=i}),e}const Nx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Il(async()=>{const{default:i}=await Promise.resolve().then(()=>vd);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},B8=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Wu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},_c=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ll=async(t,e)=>{await t.removeItem(e)};class J0{constructor(){this.promise=new J0.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}J0.promiseConstructor=Promise;function C1(t){const e=t.split(".");if(e.length!==3)throw new Eg("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!S8.test(e[i]))throw new Eg("JWT not in base64url format");return{header:JSON.parse(yv(e[0])),payload:JSON.parse(yv(e[1])),signature:O8(e[2]),raw:{header:e[0],payload:e[1]}}}async function I8(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function U8(t,e){return new Promise((i,o)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await t(s);if(!e(s,null,c)){i(c);return}}catch(c){if(!e(s,c)){o(c);return}}})()})}function F8(t){return("0"+t.toString(16)).substr(-2)}function q8(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let s=0;s<56;s++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,F8).join("")}async function H8(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(s=>String.fromCharCode(s)).join("")}async function $8(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await H8(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pu(t,e,r=!1){const i=q8();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await Wu(t,`${e}-code-verifier`,o);const s=await $8(i);return[s,i===s?"plain":"s256"]}const W8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function G8(t){const e=t.headers.get(Cg);if(!e||!e.match(W8))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function V8(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Y8(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const K8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Du(t){if(!K8.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function k1(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xv(t){return JSON.parse(JSON.stringify(t))}var X8=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r};const jc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Z8=[502,503,504];async function wv(t){var e;if(!B8(t))throw new kg(jc(t),0);if(Z8.includes(t.status))throw new kg(jc(t),t.status);let r;try{r=await t.json()}catch(s){throw new Cx(jc(s),s)}let i;const o=G8(t);if(o&&o.getTime()>=Ax["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new mv(jc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Dl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new mv(jc(r),t.status,r.weak_password.reasons);throw new j8(jc(r),t.status||500,i)}const J8=(t,e,r,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function Kt(t,e,r,i){var o;const s=Object.assign({},i==null?void 0:i.headers);s[Cg]||(s[Cg]=Ax["2024-01-01"].name),i!=null&&i.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const c=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await Q8(t,e,r+d,{headers:s,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function Q8(t,e,r,i,o,s){const c=J8(e,i,o,s);let d;try{d=await t(r,Object.assign({},c))}catch(f){throw console.error(f),new kg(jc(f),0)}if(d.ok||await wv(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(f){await wv(f)}}function Xo(t){var e;let r=null;nj(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=D8(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function Sv(t){const e=Xo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ej(t){return{data:t,error:null}}function tj(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:s}=t,c=X8(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:s},f=Object.assign({},c);return{data:{properties:d,user:f},error:null}}function rj(t){return t}function nj(t){return t.access_token&&t.refresh_token&&t.expires_in}const E1=["global","local","others"];var ij=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r};class aj{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=Nx(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=E1[0]){if(E1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${E1.join(", ")}`);try{return await Kt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ut(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await Kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zl})}catch(i){if(Ut(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=ij(e,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await Kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:tj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ut(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Kt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zl})}catch(r){if(Ut(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,o,s,c,d,f;try{const h={nextPage:null,lastPage:0,total:0},g=await Kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(s=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:rj});if(g.error)throw g.error;const w=await g.json(),S=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(j=>{const C=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(j.split(";")[1].split("=")[1]);h[`${N}Page`]=C}),h.total=parseInt(S)),{data:Object.assign(Object.assign({},w),h),error:null}}catch(h){if(Ut(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Du(e);try{return await Kt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zl})}catch(r){if(Ut(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Du(e);try{return await Kt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:zl})}catch(i){if(Ut(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Du(e);try{return await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:zl})}catch(i){if(Ut(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Du(e.userId);try{const{data:r,error:i}=await Kt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Du(e.userId),Du(e.id);try{return{data:await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}}function _v(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function oj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zu={debug:!!(globalThis&&Ex()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sj extends Lx{}async function lj(t,e,r){zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),zu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await r()}finally{zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(zu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Tx(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function cj(t){return parseInt(t,16)}function uj(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function dj(t){var e;const{chainId:r,domain:i,expirationTime:o,issuedAt:s=new Date,nonce:c,notBefore:d,requestId:f,resources:h,scheme:g,uri:w,version:S}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=Tx(t.address),j=g?`${g}://${i}`:i,C=t.statement?`${t.statement}
`:"",N=`${j} wants you to sign in with your Ethereum account:
${b}

${C}`;let E=`URI: ${w}
Version: ${S}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${s.toISOString()}`;if(o&&(E+=`
Expiration Time: ${o.toISOString()}`),d&&(E+=`
Not Before: ${d.toISOString()}`),f&&(E+=`
Request ID: ${f}`),h){let R=`
Resources:`;for(const B of h){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);R+=`
- ${B}`}E+=R}return`${N}
${E}`}oj();const fj={url:y8,storageKey:x8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:w8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jv(t,e,r){return await r()}const Mu={};class Nf{constructor(e){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nf.nextInstanceID,Nf.nextInstanceID+=1,this.instanceID>0&&za()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},fj),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new aj({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Nx(o.fetch),this.lock=o.lock||jv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:za()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=lj:this.lock=jv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Ex()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_v(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=_v(this.memoryStorage)),za()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Mu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Mu[this.storageKey]=Object.assign(Object.assign({},Mu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Mu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Mu[this.storageKey]=Object.assign(Object.assign({},Mu[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=M8(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),za()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:s}=await this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),k8(s)){const f=(e=s.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ut(r)?{error:r}:{error:new Cx("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,o;try{const s=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Xo}),{data:c,error:d}=s;if(d||!c)return{data:{user:null,session:null},error:d};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(s){if(Ut(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,i,o;try{let s;if("email"in e){const{email:g,password:w,options:S}=e;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await Pu(this.storage,this.storageKey)),s=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:g,password:w,data:(r=S==null?void 0:S.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:b,code_challenge_method:j},xform:Xo})}else if("phone"in e){const{phone:g,password:w,options:S}=e;s=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:w,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},channel:(o=S==null?void 0:S.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Xo})}else throw new Hh("You must provide either an email or phone number and a password");const{data:c,error:d}=s;if(d||!c)return{data:{user:null,session:null},error:d};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(s){if(Ut(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:c,options:d}=e;r=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Sv})}else if("phone"in e){const{phone:s,password:c,options:d}=e;r=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Sv})}else throw new Hh("You must provide either an email or phone number and a password");const{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ff}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(Ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,i,o,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,o,s,c,d,f,h,g,w,S;let b,j;if("message"in e)b=e.message,j=e.signature;else{const{chain:C,wallet:N,statement:E,options:R}=e;let B;if(za())if(typeof N=="object")B=N;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")B=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=N}const z=new URL((r=R==null?void 0:R.url)!==null&&r!==void 0?r:window.location.href),Q=await B.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Q||Q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ue=Tx(Q[0]);let J=(i=R==null?void 0:R.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!J){const U=await B.request({method:"eth_chainId"});J=cj(U)}const se={domain:z.host,address:ue,statement:E,uri:z.href,version:"1",chainId:J,nonce:(o=R==null?void 0:R.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(s=R==null?void 0:R.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=R==null?void 0:R.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=R==null?void 0:R.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=R==null?void 0:R.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(g=R==null?void 0:R.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=dj(se),j=await B.request({method:"personal_sign",params:[uj(b),ue]})}try{const{data:C,error:N}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:j},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Xo});if(N)throw N;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new ff}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:N})}catch(C){if(Ut(C))return{data:{user:null,session:null},error:C};throw C}}async signInWithSolana(e){var r,i,o,s,c,d,f,h,g,w,S,b;let j,C;if("message"in e)j=e.message,C=e.signature;else{const{chain:N,wallet:E,statement:R,options:B}=e;let z;if(za())if(typeof E=="object")z=E;else{const ue=window;if("solana"in ue&&typeof ue.solana=="object"&&("signIn"in ue.solana&&typeof ue.solana.signIn=="function"||"signMessage"in ue.solana&&typeof ue.solana.signMessage=="function"))z=ue.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=E}const Q=new URL((r=B==null?void 0:B.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in z&&z.signIn){const ue=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),R?{statement:R}:null));let J;if(Array.isArray(ue)&&ue[0]&&typeof ue[0]=="object")J=ue[0];else if(ue&&typeof ue=="object"&&"signedMessage"in ue&&"signature"in ue)J=ue;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)j=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),C=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${Q.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(o=(i=B==null?void 0:B.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=B==null?void 0:B.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((c=B==null?void 0:B.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((d=B==null?void 0:B.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((f=B==null?void 0:B.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((h=B==null?void 0:B.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((w=(g=B==null?void 0:B.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||w===void 0)&&w.length?["Resources",...B.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const ue=await z.signMessage(new TextEncoder().encode(j),"utf8");if(!ue||!(ue instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=ue}}try{const{data:N,error:E}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:P8(C)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Xo});if(E)throw E;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new ff}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:E})}catch(N){if(Ut(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const r=await _c(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{const{data:s,error:c}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Xo});if(await Ll(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ff}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:c})}catch(s){if(Ut(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:i,token:o,access_token:s,nonce:c}=e,d=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xo}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new ff}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(r){if(Ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,i,o,s,c;try{if("email"in e){const{email:d,options:f}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Pu(this.storage,this.storageKey));const{error:w}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in e){const{phone:d,options:f}=e,{data:h,error:g}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g}}throw new Hh("You must provide either an email or phone number.")}catch(d){if(Ut(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:d}=await Kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Xo});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Ut(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var r,i,o;try{let s=null,c=null;return this.flowType==="pkce"&&([s,c]=await Pu(this.storage,this.storageKey)),await Kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:c}),headers:this.headers,xform:ej})}catch(s){if(Ut(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Dl;const{error:o}=await Kt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Ut(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:s}=e,{error:c}=await Kt(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:i,type:o,options:s}=e,{data:c,error:d}=await Kt(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Hh("You must provide either an email or phone number and a type")}catch(r){if(Ut(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await _c(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<j1:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await _c(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=k1()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,h,g)=>(!c&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,g))})}return{data:{session:e},error:null}}const{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zl}):await this._useSession(async r=>{var i,o,s;const{data:c,error:d}=r;if(d)throw d;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dl}:await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:zl})})}catch(r){if(Ut(r))return C8(r)&&(await this._removeSession(),await Ll(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new Dl;const c=o.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await Pu(this.storage,this.storageKey));const{data:h,error:g}=await Kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:zl});if(g)throw g;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Ut(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Dl;const r=Date.now()/1e3;let i=r,o=!0,s=null;const{payload:c}=C1(e.access_token);if(c.exp&&(i=c.exp,o=i<=r),o){const{session:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;s={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Ut(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:c,error:d}=r;if(d)throw d;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Dl;const{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ut(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!za())throw new $h("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $h(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $h("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gv("No code detected.");const{data:R,error:B}=await this._exchangeCodeForSession(e.code);if(B)throw B;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:c,expires_in:d,expires_at:f,token_type:h}=e;if(!s||!d||!c||!h)throw new $h("No session defined in URL");const g=Math.round(Date.now()/1e3),w=parseInt(d);let S=g+w;f&&(S=parseInt(f));const b=S-g;b*1e3<=$u&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${w}s`);const j=S-w;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,S,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,S,g);const{data:C,error:N}=await this._getUser(s);if(N)throw N;const E={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:w,expires_at:S,refresh_token:c,token_type:h,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(i){if(Ut(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await _c(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:s}=r;if(s)return{error:s};const c=(i=o.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(A8(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await Ll(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=z8(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{const{data:{session:s},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Pu(this.storage,this.storageKey,!0));try{return await Kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ut(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:i,error:o}=await this._useSession(async s=>{var c,d,f,h,g;const{data:w,error:S}=s;if(S)throw S;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Kt(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(h=w.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return za()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Ut(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;const{data:s,error:c}=r;if(c)throw c;return await Kt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await U8(async o=>(o>0&&await I8(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xo})),(o,s)=>{const c=200*Math.pow(2,o);return s&&A1(s)&&Date.now()+c-i<$u})}catch(i){if(this._debug(r,"error",i),Ut(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),za()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await _c(this.storage,this.storageKey);if(o&&this.userStorage){let c=await _c(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Wu(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:k1()}else if(o&&!o.user&&!o.user){const c=await _c(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(o.user=c.user,await Ll(this.storage,this.storageKey+"-user"),await Wu(this.storage,this.storageKey,o)):o.user=k1()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<j1;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${j1}s`),s){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),A1(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&(c!=null&&c.user)?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new Dl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new J0;const{data:s,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!s.session)throw new Dl;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={session:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(o,"error",s),Ut(s)){const c={session:null,error:s};return A1(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(f){s.push(f)}});if(await Promise.all(c),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Wu(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const s=xv(o);await Wu(this.storage,this.storageKey,s)}else{const o=xv(r);await Wu(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Ll(this.storage,this.storageKey),await Ll(this.storage,this.storageKey+"-code-verifier"),await Ll(this.storage,this.storageKey+"-user"),this.userStorage&&await Ll(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&za()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$u);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/$u);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${$u}ms, refresh threshold is ${Ag} ticks`),o<=Ag&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Lx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!za()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,c]=await Pu(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(i!=null&&i.queryParams){const s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:o,error:s}=r;return s?{data:null,error:s}:await Kt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;const{data:s,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:h}=await Kt(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:s}=r;if(s)return{data:null,error:s};const{data:c,error:d}=await Kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:s}=r;return s?{data:null,error:s}:await Kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const i=(e==null?void 0:e.factors)||[],o=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),s=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,i;const{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=C1(o.access_token);let d=null;c.aal&&(d=c.aal);let f=d;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const g=c.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(d=>d.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+_8>o)return i;const{data:s,error:c}=await Kt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,i=s.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:b,error:j}=await this.getSession();if(j||!b.session)return{data:null,error:j};i=b.session.access_token}const{header:o,payload:s,signature:c,raw:{header:d,payload:f}}=C1(i);r!=null&&r.allowExpired||V8(s.exp);const h=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:s,header:o,signature:c},error:null}}const g=Y8(o.alg),w=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,w,c,R8(`${d}.${f}`)))throw new Eg("Invalid JWT signature");return{data:{claims:s,header:o,signature:c},error:null}}catch(i){if(Ut(i))return{data:null,error:i};throw i}}}Nf.nextInstanceID=0;const hj=Nf;class pj extends hj{constructor(e){super(e)}}var gj=function(t,e,r,i){function o(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function d(g){try{h(i.next(g))}catch(w){c(w)}}function f(g){try{h(i.throw(g))}catch(w){c(w)}}function h(g){g.done?s(g.value):o(g.value).then(d,f)}h((i=i.apply(t,e||[])).next())})};class mj{constructor(e,r,i){var o,s,c;this.supabaseUrl=e,this.supabaseKey=r;const d=b8(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:l8,realtime:u8,auth:Object.assign(Object.assign({},c8),{storageKey:f}),global:s8},g=v8(i??{},h);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(s=g.global.headers)!==null&&s!==void 0?s:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(w,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=p8(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new j_(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new i8(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new p_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},i={}){return this.rest.rpc(e,r,i)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return gj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:s,storageKey:c,flowType:d,lock:f,debug:h},g,w){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pj({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),g),storageKey:c,autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:s,flowType:d,lock:f,debug:h,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new F_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,r,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vj=(t,e,r)=>new mj(t,e,r);function bj(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}bj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yj="https://ayjrjaiymfwttgafimmy.supabase.co",xj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF5anJqYWl5bWZ3dHRnYWZpbW15Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzNDA3NTMsImV4cCI6MjA2MzkxNjc1M30.8U7706Rd9twE8Ltptrt1SwM1rvR5v93Qo8UQC35kDaU",Xe=vj(yj,xj,{auth:{storage:window.sessionStorage,storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Av=t=>{let e;const r=new Set,i=(h,g)=>{const w=typeof h=="function"?h(e):h;if(!Object.is(w,e)){const S=e;e=g??(typeof w!="object"||w===null)?w:Object.assign({},e,w),r.forEach(b=>b(e,S))}},o=()=>e,d={setState:i,getState:o,getInitialState:()=>f,subscribe:h=>(r.add(h),()=>r.delete(h))},f=e=t(i,o,d);return d},wj=t=>t?Av(t):Av,Sj=t=>t;function _j(t,e=Sj){const r=cn.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return cn.useDebugValue(r),r}const Cv=t=>{const e=wj(t),r=i=>_j(e,i);return Object.assign(r,e),r},jj=t=>t?Cv(t):Cv;function Aj(t,e){let r;try{r=t()}catch{return}return{getItem:o=>{var s;const c=f=>f===null?null:JSON.parse(f,void 0),d=(s=r.getItem(o))!=null?s:null;return d instanceof Promise?d.then(c):c(d)},setItem:(o,s)=>r.setItem(o,JSON.stringify(s,void 0)),removeItem:o=>r.removeItem(o)}}const Ng=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(i){return Ng(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return Ng(i)(r)}}}},Cj=(t,e)=>(r,i,o)=>{let s={storage:Aj(()=>localStorage),partialize:C=>C,version:0,merge:(C,N)=>({...N,...C}),...e},c=!1;const d=new Set,f=new Set;let h=s.storage;if(!h)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...C)},i,o);const g=()=>{const C=s.partialize({...i()});return h.setItem(s.name,{state:C,version:s.version})},w=o.setState;o.setState=(C,N)=>{w(C,N),g()};const S=t((...C)=>{r(...C),g()},i,o);o.getInitialState=()=>S;let b;const j=()=>{var C,N;if(!h)return;c=!1,d.forEach(R=>{var B;return R((B=i())!=null?B:S)});const E=((N=s.onRehydrateStorage)==null?void 0:N.call(s,(C=i())!=null?C:S))||void 0;return Ng(h.getItem.bind(h))(s.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==s.version){if(s.migrate){const B=s.migrate(R.state,R.version);return B instanceof Promise?B.then(z=>[!0,z]):[!0,B]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var B;const[z,Q]=R;if(b=s.merge(Q,(B=i())!=null?B:S),r(b,!0),z)return g()}).then(()=>{E==null||E(b,void 0),b=i(),c=!0,f.forEach(R=>R(b))}).catch(R=>{E==null||E(void 0,R)})};return o.persist={setOptions:C=>{s={...s,...C},C.storage&&(h=C.storage)},clearStorage:()=>{h==null||h.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>j(),hasHydrated:()=>c,onHydrate:C=>(d.add(C),()=>{d.delete(C)}),onFinishHydration:C=>(f.add(C),()=>{f.delete(C)})},s.skipHydration||j(),b||S},kj=Cj,Bs=jj(kj(t=>({user:null,login:e=>t({user:e}),logout:async()=>{await Xe.auth.signOut(),t({user:null})}}),{name:"user-storage",partialize:t=>({user:t.user})})),Sf=t=>!t||typeof t!="string"?"":t.trim().replace(/[<>'"]/g,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").replace(/script/gi,"").replace(/eval/gi,"").replace(/expression/gi,"").slice(0,1e3),kv=t=>!t||typeof t!="string"?"":t.trim().replace(/[<>'"&]/g,"").replace(/[0-9]/g,"").replace(/[^\w\s-]/g,"").slice(0,100),Ox=t=>!t||typeof t!="string"?"":t.trim().toUpperCase().replace(/[^0-9TRWAGMYFPDXBNJZSQVHLCKE]/g,"").slice(0,9),Rx=t=>!t||typeof t!="string"?"":t.trim().replace(/[^0-9+\s-]/g,"").slice(0,15),Px=t=>!t||typeof t!="string"?"":t.trim().toLowerCase().replace(/[^a-z0-9@._-]/g,"").slice(0,100),Ds=(t,e=2)=>{if(t==null||t==="")return 0;const r=parseFloat(t);if(isNaN(r))return 0;const i=Math.max(-999999.99,Math.min(999999.99,r));return parseFloat(i.toFixed(e))},Ej=t=>{if(!t||typeof t!="string")return!1;const e=Ox(t);if(!/^[0-9]{8}[TRWAGMYFPDXBNJZSQVHLCKE]$/.test(e))return!1;const i="TRWAGMYFPDXBNJZSQVHLCKE",o=parseInt(e.substring(0,8),10),s=i[o%23],c=e.substring(8,9);return s===c},Nj=t=>{if(!t||typeof t!="string")return!1;const e=Px(t);if(!/^[a-z0-9]([a-z0-9._-]*[a-z0-9])?@[a-z0-9]([a-z0-9.-]*[a-z0-9])?\.[a-z]{2,}$/.test(e)||e.includes("..")||e.startsWith(".")||e.endsWith(".")||e.split("@").length!==2)return!1;const[i,o]=e.split("@");return!(i.length>64||o.length>253)},Lj=t=>{if(!t||typeof t!="string")return!1;const e=Rx(t).replace(/[\s-]/g,"");return[/^[67][0-9]{8}$/,/^9[0-9]{8}$/,/^\+34[67][0-9]{8}$/,/^\+349[0-9]{8}$/].some(i=>i.test(e))},Tj=t=>{const e={valido:!0,errores:{},datosSanitizados:{}};if(!t.nombre||typeof t.nombre!="string"||!t.nombre.trim())e.valido=!1,e.errores.nombre="El nombre es obligatorio";else{const r=kv(t.nombre);!r||r.length<2?(e.valido=!1,e.errores.nombre="El nombre debe tener al menos 2 caracteres vlidos"):e.datosSanitizados.nombre=r}if(t.apellidos){const r=kv(t.apellidos);e.datosSanitizados.apellidos=r}return!t.telefono||typeof t.telefono!="string"||!t.telefono.trim()?(e.valido=!1,e.errores.telefono="El telfono es obligatorio"):Lj(t.telefono)?e.datosSanitizados.telefono=Rx(t.telefono):(e.valido=!1,e.errores.telefono="El telfono no tiene un formato vlido"),t.nif&&(Ej(t.nif)?e.datosSanitizados.nif=Ox(t.nif):(e.valido=!1,e.errores.nif="El NIF no es vlido")),t.correo&&(Nj(t.correo)?e.datosSanitizados.correo=Px(t.correo):(e.valido=!1,e.errores.correo="El email no tiene un formato vlido")),t.direccion&&(e.datosSanitizados.direccion=Sf(t.direccion)),e},Oj=t=>{const e={valido:!0,errores:{},datosSanitizados:{}};if(!t.nombre||typeof t.nombre!="string"||!t.nombre.trim())e.valido=!1,e.errores.nombre="El nombre del producto es obligatorio";else{const s=Sf(t.nombre);!s||s.length<2?(e.valido=!1,e.errores.nombre="El nombre debe tener al menos 2 caracteres vlidos"):e.datosSanitizados.nombre=s}const r=Ds(t.precio);r<=0?(e.valido=!1,e.errores.precio="El precio debe ser mayor que 0"):e.datosSanitizados.precio=r;const i=Ds(t.cantidad,0);i<=0?(e.valido=!1,e.errores.cantidad="La cantidad debe ser mayor que 0"):e.datosSanitizados.cantidad=i;const o=Ds(t.iva);if(o<0||o>100?(e.valido=!1,e.errores.iva="El IVA debe estar entre 0 y 100"):e.datosSanitizados.iva=o,t.descuento!==void 0&&t.descuento!==null&&t.descuento!==""){const s=Ds(t.descuento);s<0||s>100?(e.valido=!1,e.errores.descuento="El descuento debe estar entre 0 y 100"):e.datosSanitizados.descuento=s}return e},pn=(t,e,r={})=>{console.log(`[SEGURIDAD] ${new Date().toISOString()} - ${t}`,{usuario:(e==null?void 0:e.id)||"anonimo",nombre:(e==null?void 0:e.nombre)||"desconocido",datos:r})},Rj=()=>{const[t,e]=K.useState(null),[r,i]=K.useState(!0),[o,s]=K.useState(null),c=async()=>{try{const{data:{user:b},error:j}=await Xe.auth.getUser();if(j||!b)return e(null),s("No autenticado"),pn("INTENTO_ACCESO_NO_AUTENTICADO",null),!1;const{data:C,error:N}=await Xe.from("usuarios").select("*").eq("uid",b.id).single();return N||!C?(e(null),s("Usuario no encontrado en la base de datos"),pn("USUARIO_NO_ENCONTRADO_DB",null,{uid:b.id}),!1):C.rol?(e(C),s(null),pn("USUARIO_AUTENTICADO_CORRECTAMENTE",C),!0):(e(null),s("Usuario sin rol asignado"),pn("USUARIO_SIN_ROL",C),!1)}catch(b){return s("Error en la verificacin de autenticacin"),pn("ERROR_VERIFICACION_AUTH",null,{error:b.message}),!1}finally{i(!1)}},d=b=>t?Array.isArray(b)?b.includes(t.rol):t.rol===b:!1,f=()=>d("admin"),h=b=>{if(!t)return!1;const C={"usuarios.crear":["admin"],"usuarios.editar":["admin"],"usuarios.eliminar":["admin"],"usuarios.ver":["admin"],"usuarios.editarme":["admin","trabajador"],"clientes.crear":["admin","trabajador"],"clientes.editar":["admin","trabajador"],"clientes.eliminar":["admin"],"clientes.ver":["admin","trabajador"],"reparaciones.crear":["admin","trabajador"],"reparaciones.editar":["admin","trabajador"],"reparaciones.eliminar":["admin"],"reparaciones.ver":["admin","trabajador"],"tpv.usar":["admin","trabajador"],"tpv.productos":["admin","trabajador"],"tpv.ventas":["admin","trabajador"],"tpv.facturacion":["admin","trabajador"],"empresa.configurar":["admin"]}[b];if(!C)return pn("FUNCIONALIDAD_NO_DEFINIDA",t,{funcionalidad:b}),!1;const N=C.includes(t.rol);return N||pn("ACCESO_DENEGADO",t,{funcionalidad:b,rolRequerido:C}),N},g=async()=>{try{const{data:{user:b},error:j}=await Xe.auth.getUser();return j||!b?(e(null),s("Sesin expirada"),pn("SESION_EXPIRADA",t),!1):!0}catch(b){return pn("ERROR_VALIDACION_SESION",t,{error:b.message}),!1}},w=async()=>{try{pn("LOGOUT_INICIADO",t);const{error:b}=await Xe.auth.signOut();b?pn("ERROR_LOGOUT",t,{error:b.message}):pn("LOGOUT_COMPLETADO",t),e(null),s(null)}catch(b){pn("ERROR_LOGOUT_INESPERADO",t,{error:b.message})}},S=async(b,j)=>{try{if(!t)throw new Error("Usuario no autenticado");if(j.length<6)throw new Error("La nueva contrasea debe tener al menos 6 caracteres");const{error:C}=await Xe.auth.signInWithPassword({email:t.email,password:b});if(C)throw pn("CAMBIO_CONTRASENA_FALLIDO",t,{motivo:"contrasea_actual_incorrecta"}),new Error("La contrasea actual no es correcta");const{error:N}=await Xe.auth.updateUser({password:j});if(N)throw pn("ERROR_CAMBIO_CONTRASENA",t,{error:N.message}),N;return pn("CONTRASENA_CAMBIADA_CORRECTAMENTE",t),{success:!0,message:"Contrasea cambiada correctamente"}}catch(C){return pn("ERROR_CAMBIO_CONTRASENA",t,{error:C.message}),{success:!1,error:C.message}}};return K.useEffect(()=>{c();const{data:{subscription:b}}=Xe.auth.onAuthStateChange(async(j,C)=>{j==="SIGNED_OUT"||!C?(e(null),s(null)):j==="SIGNED_IN"&&C&&await c()});return()=>b.unsubscribe()},[]),K.useEffect(()=>{if(t){const b=setInterval(g,3e5);return()=>clearInterval(b)}},[t]),{usuario:t,loading:r,error:o,tieneRol:d,esAdmin:f,puedeAcceder:h,verificarAutenticacion:c,validarSesion:g,logout:w,cambiarContrasena:S}},hm=fe.div`
  margin-top: 1.5rem;
  text-align: center;
  color: #607074;
  font-size: 1.1rem;
`;function Dx({children:t,requiereRol:e=null,funcionalidad:r=null}){const{usuario:i,loading:o,error:s,tieneRol:c,puedeAcceder:d}=Rj();return o?p.jsx(hm,{children:"Verificando autenticacin..."}):s||!i?p.jsx(Xu,{to:"/login",replace:!0}):e&&!c(e)?p.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"#f8f9fa",borderRadius:"8px",margin:"2rem",border:"2px solid #dc3545"},children:[p.jsx("h2",{style:{color:"#dc3545"},children:"Acceso Denegado"}),p.jsx("p",{children:"No tienes permisos para acceder a esta seccin."}),p.jsxs("p",{children:["Rol requerido: ",p.jsx("strong",{children:Array.isArray(e)?e.join(" o "):e})]}),p.jsxs("p",{children:["Tu rol actual: ",p.jsx("strong",{children:i.rol})]}),p.jsx("button",{onClick:()=>window.history.back(),style:{marginTop:"0.8rem",padding:"0.6rem",background:"linear-gradient(90deg, #607074 60%, #404a4c 100%)",color:"#caf0f8",border:"none",fontSize:"0.9rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 2px 8px #404a4c33",letterSpacing:"0.5px",borderRadius:"8px",display:"inline-flex",alignItems:"center",gap:"0.5rem",zIndex:10},children:"Volver"})]}):r&&!d(r)?p.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"#f8f9fa",borderRadius:"8px",margin:"2rem",border:"2px solid #dc3545"},children:[p.jsx("h2",{style:{color:"#dc3545"},children:"Funcionalidad Restringida"}),p.jsx("p",{children:"No tienes permisos para usar esta funcionalidad."}),p.jsxs("p",{children:["Funcionalidad: ",p.jsx("strong",{children:r})]}),p.jsxs("p",{children:["Tu rol actual: ",p.jsx("strong",{children:i.rol})]}),p.jsx("button",{onClick:()=>window.history.back(),style:{marginTop:"0.8rem",padding:"0.6rem",background:"linear-gradient(90deg, #607074 60%, #404a4c 100%)",color:"#caf0f8",border:"none",fontSize:"0.9rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 2px 8px #404a4c33",letterSpacing:"0.5px",borderRadius:"8px",display:"inline-flex",alignItems:"center",gap:"0.5rem",zIndex:10},children:"Volver"})]}):t}function Bu({children:t}){return p.jsx(Dx,{requiereRol:"admin",children:t})}function gi({children:t}){return p.jsx(Dx,{requiereRol:["admin","trabajador","encargado"],children:t})}function Pj({user:t}){return Ia().pathname,p.jsxs(Ly,{children:[p.jsx(br,{path:"/",element:p.jsx(Xu,{to:"/home",replace:!0})}),p.jsx(br,{path:"/register",element:p.jsx(Qw,{})}),p.jsx(br,{path:"/home",element:p.jsx(gi,{children:p.jsx(tN,{})})}),p.jsx(br,{path:"/clientes",element:p.jsx(gi,{children:p.jsx(QE,{user:t})})}),p.jsx(br,{path:"/clientes/eliminar",element:p.jsx(gi,{children:p.jsx(oN,{})})}),p.jsx(br,{path:"/clientes/insertar",element:p.jsx(gi,{children:p.jsx(sN,{})})}),p.jsx(br,{path:"/clientes/modificar",element:p.jsx(gi,{children:p.jsx(lN,{})})}),p.jsx(br,{path:"/clientes/modificar/:id",element:p.jsx(gi,{children:p.jsx(uN,{})})}),p.jsx(br,{path:"/clientes/ver",element:p.jsx(gi,{children:p.jsx(dN,{})})}),p.jsx(br,{path:"/clientes/ver/:id",element:p.jsx(gi,{children:p.jsx(fN,{})})}),p.jsx(br,{path:"/reparaciones",element:p.jsx(gi,{children:p.jsx(nN,{})})}),p.jsx(br,{path:"/reparaciones/add",element:p.jsx(gi,{children:p.jsx(pN,{})})}),p.jsx(br,{path:"/reparaciones/mod/:id",element:p.jsx(gi,{children:p.jsx(gN,{})})}),p.jsx(br,{path:"/reparaciones/ver",element:p.jsx(gi,{children:p.jsx(mN,{})})}),p.jsx(br,{path:"/tpv",element:p.jsx(gi,{children:p.jsx(iN,{})})}),p.jsx(br,{path:"/tpv/caja",element:p.jsx(gi,{children:p.jsx(SN,{})})}),p.jsx(br,{path:"/tpv/productos",element:p.jsx(gi,{children:p.jsx(EN,{})})}),p.jsx(br,{path:"/tpv/facturacion",element:p.jsx(gi,{children:p.jsx(CN,{})})}),p.jsx(br,{path:"/usuarios",element:p.jsx(Bu,{children:p.jsx(aN,{})})}),p.jsx(br,{path:"/usuarios/editar",element:p.jsx(Bu,{children:p.jsx(PN,{})})}),p.jsx(br,{path:"/usuarios/editarme",element:p.jsx(gi,{children:p.jsx(LN,{})})}),p.jsx(br,{path:"/usuarios/lista",element:p.jsx(Bu,{children:p.jsx(NN,{})})}),p.jsx(br,{path:"/usuarios/nuevo",element:p.jsx(Bu,{children:p.jsx(UN,{})})}),p.jsx(br,{path:"/empresa",element:p.jsx(Bu,{children:p.jsx(eN,{})})}),p.jsx(br,{path:"/empresa/configuracion",element:p.jsx(Bu,{children:p.jsx(GN,{})})}),p.jsx(br,{path:"*",element:p.jsx(Xu,{to:"/home",replace:!0})})]})}const Ev=fe.div`
  width: 95%;
  max-width: 900px;
  margin: 2.5rem auto;
  padding: 2rem 1.5rem;
  background: #f8fafb;
  border-radius: 22px;
  box-shadow: 0 2px 18px #404a4c22;
  min-height: 70vh;
  border: 2px solid #a5c4ca;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
`,Dj=fe.button`
  background: #607074;
  color: white;
  border: none;
  border-radius: 8px;
  padding: 0.7rem 1.2rem;
  font-size: 0.9rem;
  cursor: pointer;
  transition: background 0.3s;
  &:hover {
    background: #003459;
  }
  &:disabled {
    background: #a5c4ca;
    cursor: not-allowed;
  }
`,zj=fe.div`
  margin-top: 0.9rem;
  text-align: center;
  color: ${({error:t})=>t?"#d32f2f":"#4caf50"};
  font-size: 1.1rem;
`;fe.button`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: #a5c4ca;
  color: #232728;
  border: none;
  border-radius: 16px;
  padding: 2rem 2.5rem;
  font-size: 1rem;
  font-family: 'Poppins';
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 2px 8px #404a4c22;
  transition: background 0.2s, color 0.2s, box-shadow 0.2s;
  min-width: 120px;
  min-height: 120px;
  max-width: 120px;
  max-height: 120px;
  aspect-ratio: 1 / 1;
  
  &:hover {
    background: #607074;
    color: #caf0f8;
  }
  
  span {
    margin-top: 1rem;
    font-size: 1.1rem;
  }

  @media (max-width: 600px) {
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    text-align: center;
    padding: 1rem 1.5rem;
    width: 100%;
    max-width: 180px;
    min-width: 0;
    min-height: 0;
    max-height: none;
    border-radius: 8px;
    box-shadow: 0 2px 8px #404a4c22; 
    background: #a5c4ca;
    color: #232728;           
    font-size: 1rem;
    margin-bottom: 0.5rem;
    aspect-ratio: unset;
    border: 1px solid #a5c4ca;   
    
    span {
      margin-top: 0;
      font-size: 0.9rem;
    }
    
    svg {
      font-size: 0.9rem !important; 
      min-width: 0.9rem;
      min-height: 0.9rem;
    }
  }
`;fe.div`
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto;

  & > svg {
    width: 36px !important;
    height: 36px !important;
    min-width: 36px !important;
    min-height: 36px !important;
    max-width: 36px !important;
    max-height: 36px !important;
    flex-shrink: 0;
  }
`;const Mj=fe.button`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  background: linear-gradient(90deg, #607074 0%, #a5c4ca 100%);
  color: white;
  border: none;
  border-radius: 8px;
  padding: 0.5rem 1.2rem;
  font-weight: bold;
  font-size: 1rem;
  cursor: pointer;
  box-shadow: 0 2px 8px #0001;
  transition: background 0.3s;
  opacity: ${({disabled:t})=>t?.5:1};
  pointer-events: ${({disabled:t})=>t?"none":"auto"};
  &:hover {
    background: linear-gradient(90deg, #4d5a5d 0%, #8bb3bb 100%);
  }
`,Bj=fe.button`
  position: absolute;
  top: 1.5rem;
  left: 2rem;
  background: #a5c4ca;
  color: #232728;
  border: none;
  border-radius: 8px;
  padding: 0.5rem 1.1rem;
  font-size: 0.9rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
  box-shadow: 0 2px 8px #404a4c22;
  transition: background 0.2s;
  z-index: 10;
  &:hover {
    background: #607074;
    color: #fff;
  }

  @media (max-width: 1120px) {
    padding: 0.3rem 0.8rem;
    font-size: 0.8rem;
  }
`,Ij=fe.div`
  width: 100%;
  max-width: 700px;
  margin: 0 auto 1.2rem auto;
  display: flex;
  align-items: center;
  background: #fff;
  border-radius: 12px;
  border: 1.5px solid #a5c4ca;
  box-shadow: 0 2px 8px #404a4c22;
  .icono-lupa {
    font-size: 1.3rem;
    color: #607074;
    margin-left: 0.7rem;
    margin-right: 0.7rem;
  }
  input {
    width: 100%;
    padding: 0.7rem 0.7rem 0.7rem 0;
    border: none;
    border-radius: 12px;
    font-size: 1rem;
    color: #404a4c;
    background: transparent;
    &:focus {
      outline: none;
    }
  }
  @media (max-width: 1120px) {
    input {
      font-size: 0.8rem;
    }
  }
`,jt="#003459",zf="#007ea7",Q0="#0095d8",Uj=fe.div`
  position: relative;
  width: 100%;
  height: 65vh;
  display: flex;
  flex-direction: column;
  background: transparent;
  padding: 0;
  overflow-y: auto;
  margin-top: 0.5rem;

  @media (max-width: 1200px) {
    height: 70vh;
    overflow-y: auto;
  }

  @media (max-width: 700px) {
    height: 58vh;
    overflow-y: auto;
  }
  
  /* Estilo personalizado del scroll */
  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #f8f9fa;
    border-radius: 4px;
    margin: 2px;
  }

  &::-webkit-scrollbar-thumb {
    background: #a5c4ca;
    border-radius: 4px;
    border: 1px solid #e9ecef;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #607074;
  }
`,Fj=fe.div`
  display: grid;
  grid-template-columns: 3fr 1fr;
  gap: 0.5rem;
  flex: 1;
  min-height: 0;
  overflow: hidden;

  @media (max-width: 1200px) {
    grid-template-columns: 1fr;
    grid-template-rows: 1fr auto;
    height: 100%;
  }

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    gap: 0.3rem;
  }
`,qj=fe.div`
  background: white;
  border-radius: 6px;
  padding: 0.4rem;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  min-height: 0;
  height: 100%;
`,Iu=fe.h3`
  color: ${jt};
  font-size: 1rem;
  margin-bottom: 0.2rem;
  border-bottom: 1px solid ${Q0};
  padding-bottom: 0.15rem;
  flex-shrink: 0;
`,Hj=fe.div`
  flex: 1;
  overflow-y: auto;
  margin-bottom: 0.3rem;
  min-height: 100px;
  max-height: calc(65vh - 200px);
  border: 1px solid #eee;
  border-radius: 4px;
  padding: 0.2rem;
  width: 100%;

  @media (max-width: 1200px) {
    max-height: calc(70vh - 180px);
    min-height: 120px;
  }

  @media (max-width: 700px) {
    max-height: calc(58vh - 150px);
    min-height: 80px;
  }

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #f8f9fa;
    border-radius: 4px;
    margin: 2px;
  }

  &::-webkit-scrollbar-thumb {
    background: ${jt};
    border-radius: 4px;
    border: 1px solid #e9ecef;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: ${zf};
  }

  /* Mostrar siempre el scroll en Firefox */
  scrollbar-width: thin;
  scrollbar-color: ${jt} #f8f9fa;
`,$j=fe.div`
  display: grid;
  grid-template-columns: 80px 1.8fr 0.7fr 0.5fr 0.5fr 0.5fr 0.5fr 60px;
  gap: 0.15rem;
  padding: 0.3rem;
  border: none;
  border-radius: 4px;
  margin-bottom: 0.2rem;
  font-size: 0.8rem;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  transition: all 0.2s;
  align-items: center;

  /* Cuando tiene input-group (para agregar producto) */
  .input-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.2rem;
  }

  .input-header {
    background: #a5c4ca;
    color: #232728;
    font-size: 0.8rem;
    font-weight: 600;
    padding: 0.2rem 0.4rem;
    border-radius: 3px;
    text-align: center;
    width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  &:hover {
    transform: translateY(-1px);
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.12);
  }

  @media (max-width: 900px) {
    grid-template-columns: 2fr 1fr 80px;
    gap: 0.3rem;
    
    .precio, .iva, .descuento {
      display: none;
    }
    
    .input-header {
      font-size: 0.75rem;
      padding: 0.15rem 0.3rem;
    }
  }

  @media (max-width: 600px) {
    grid-template-columns: 1fr;
    
    .input-group {
      align-items: stretch;
    }
    
    .input-header {
      text-align: left;
    }
  }

  /* Cuando tiene input-group (para agregar producto) */
  .input-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.2rem;
  }

  .input-header {
    background: #a5c4ca;
    color: #232728;
    font-size: 0.8rem;
    font-weight: 600;
    padding: 0.2rem 0.4rem;
    border-radius: 3px;
    text-align: center;
    width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  &:hover {
    transform: translateY(-1px);
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.12);
  }

  @media (max-width: 900px) {
    grid-template-columns: 2fr 1fr 80px;
    gap: 0.3rem;
    
    .precio, .iva, .descuento {
      display: none;
    }
    
    .input-header {
      font-size: 0.75rem;
      padding: 0.15rem 0.3rem;
    }
  }

  @media (max-width: 600px) {
    grid-template-columns: 1fr;
    
    .input-group {
      align-items: stretch;
    }
    
    .input-header {
      text-align: left;
    }
  }
`,Yo=fe.input`
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 0.15rem 0.2rem;
  font-size: 0.8rem;
  width: 100%;
  min-height: 28px;
  height: 28px;
  box-sizing: border-box;
  text-align: center;

  &:focus {
    outline: none;
    border-color: ${jt};
  }
`,Wj=fe.div`
  font-weight: 500;
  color: #333;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 0.1rem 0.15rem;
  font-size: 0.8rem;
  width: 100%;
  min-height: 28px;
  height: 28px;
  box-sizing: border-box;
  background: white;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  text-align: left;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`;fe.button`
  background: #dc3545;
  color: white;
  border: none;
  border-radius: 3px;
  padding: 0.15rem;
  cursor: pointer;
  font-size: 1.3rem;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2.2rem;
  height: 2.2rem;
  transition: all 0.2s;

  &:hover {
    background: #c82333;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }
`;const Gj=fe.form`
  display: grid;
  grid-template-columns: 80px 1.8fr 0.7fr 0.5fr 0.5fr 0.5fr 0.5fr 60px;
  gap: 0.15rem;
  padding: 0.4rem;
  border: none;
  border-radius: 6px;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  flex-shrink: 0;
  margin-bottom: 0.4rem;

  & > button {
    align-self: center;
  }

  .input-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.2rem;
  }

  .input-header {
    background: #a5c4ca;
    color: #232728;
    font-size: 0.8rem;
    font-weight: 600;
    padding: 0.2rem 0.4rem;
    border-radius: 3px;
    text-align: center;
    width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  @media (max-width: 900px) {
    grid-template-columns: 1fr 1fr;
    gap: 0.3rem;
    padding: 0.4rem;
    
    .input-header {
      font-size: 0.75rem;
      padding: 0.15rem 0.3rem;
    }
  }

  @media (max-width: 600px) {
    grid-template-columns: 1fr;
    
    .input-group {
      align-items: stretch;
    }
    
    .input-header {
      text-align: left;
      font-size: 0.75rem;
    }
  }

  .input-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.2rem;
  }

  .input-header {
    background: #a5c4ca;
    color: #232728;
    font-size: 0.8rem;
    font-weight: 600;
    padding: 0.2rem 0.4rem;
    border-radius: 3px;
    text-align: center;
    width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  @media (max-width: 900px) {
    grid-template-columns: 1fr 1fr;
    gap: 0.3rem;
    padding: 0.4rem;
    
    .input-header {
      font-size: 0.75rem;
      padding: 0.15rem 0.3rem;
    }
  }

  @media (max-width: 600px) {
    grid-template-columns: 1fr;
    
    .input-group {
      align-items: stretch;
    }
    
    .input-header {
      text-align: left;
      font-size: 0.75rem;
    }
  }
`;fe.button`
  background: ${jt};
  color: white;
  border: none;
  border-radius: 3px;
  padding: 0.15rem;
  cursor: pointer;
  font-size: 1.3rem;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2.2rem;
  height: 2.2rem;
  transition: all 0.2s;

  &:hover {
    background: ${zf};
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  &:disabled {
    background: #ccc;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
  }
`;const Vj=fe.div`
  background: white;
  border-radius: 6px;
  padding: 0.5rem;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  height: 100%;
  overflow: hidden;
`,Nv=fe.div`
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  border-radius: 4px;
  padding: 0.4rem;
  border-left: 2px solid ${jt};
  box-shadow: 0 1px 3px rgba(0, 52, 89, 0.1);
  flex-shrink: 0;
`,Yj=fe.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  padding: 0.5rem 0;
  transition: all 0.2s;

  &:hover {
    color: ${jt};
  }
`,Kj=fe.div`
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, ${jt} 0%, ${zf} 100%);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 1000;
  box-shadow: 0 4px 16px rgba(0, 52, 89, 0.3);
  transition: all 0.3s;

  &:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(0, 52, 89, 0.4);
  }

  svg {
    color: white;
    font-size: 24px;
  }

  /* Mostrar en todas las resoluciones excepto desktop grande */
  @media (min-width: 1201px) {
    display: none;
  }
`,Xj=fe.div`
  position: fixed;
  bottom: 5rem;
  right: 1.5rem;
  background: white;
  border-radius: 6px;
  padding: 0.4rem;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
  z-index: 999;
  width: 190px;
  transform: ${t=>t.open?"scale(1) translateY(0)":"scale(0.8) translateY(20px)"};
  opacity: ${t=>t.open?"1":"0"};
  visibility: ${t=>t.open?"visible":"hidden"};
  transition: all 0.3s;

  @media (min-width: 1201px) {
    display: none;
  }
`,Wh=fe.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.2rem;
  font-size: 0.85rem;

  &.total-final {
    font-size: 1rem;
    font-weight: bold;
    color: ${jt};
    border-top: 1px solid ${jt};
    padding-top: 0.2rem;
    margin-top: 0.2rem;
  }
`,Zj=fe.div`
  display: flex;
  align-items: center;
  gap: 0.2rem;
  margin-bottom: 0.3rem;

  label {
    font-weight: 500;
    color: #333;
    font-size: 0.75rem;
  }

  input {
    border: 1px solid #ddd;
    border-radius: 2px;
    padding: 0.1rem 0.3rem;
    width: 60px;
    text-align: right;
    font-size: 0.75rem;

    &:focus {
      outline: none;
      border-color: ${jt};
    }
  }
`,Lv=fe.div`
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.1rem;
  margin-top: 0.15rem;
  flex-shrink: 0;
`;fe.div`
  grid-column: 1 / -1;
  background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
  color: #ecf0f1;
  padding: 0.2rem 0.3rem;
  border-radius: 3px;
  font-size: 0.7rem;
  font-weight: bold;
  text-align: right;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  min-height: 16px;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
  border: 1px solid ${Q0};
`;const nr=fe.button`
  background: ${t=>t.operator?`linear-gradient(135deg, ${jt} 0%, ${zf} 100%)`:t.equals?"linear-gradient(135deg, #27ae60 0%, #2ecc71 100%)":t.clear?"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)":"linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%)"};
  color: white;
  border: none;
  border-radius: 2px;
  padding: 0.15rem;
  font-size: 0.65rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  min-height: 20px;
  max-height: 20px;

  &:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
    filter: brightness(1.1);
  }

  &:active {
    transform: translateY(0);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
`,Jj=fe.div`
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
  flex-shrink: 0;
`,Gh=fe.button`
  background: ${t=>t.cobrar?"#28a745":t.limpiar?"#dc3545":jt};
  color: white;
  border: none;
  border-radius: 4px;
  padding: 0.4rem;
  font-size: 0.8rem;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    transform: translateY(-1px);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  }

  &:disabled {
    background: #ccc;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
  }
`,Qj=fe.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
`,e7=fe.div`
  background: white;
  border-radius: 12px;
  padding: 2rem;
  max-width: 500px;
  width: 90%;
  text-align: center;

  h3 {
    color: ${jt};
    margin-bottom: 1rem;
  }

  .total {
    font-size: 2rem;
    font-weight: bold;
    color: #28a745;
    margin: 1rem 0;
  }

  .acciones {
    display: flex;
    gap: 1rem;
    justify-content: center;
    margin-top: 2rem;
  }
`,t7=fe.div`
  margin: 1rem 0;

  label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
  }

  select {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;

    &:focus {
      outline: none;
      border-color: ${jt};
    }
  }
`,r7=fe.div`
  display: grid;
  grid-template-columns: 80px 1.8fr 0.7fr 0.5fr 0.5fr 0.5fr 0.5fr 60px;
  gap: 0.15rem;
  padding: 0.3rem;
  background: #a5c4ca;
  color: #232728;
  border-radius: 4px;
  font-weight: 600;
  font-size: 0.8rem;
  margin-bottom: 0.3rem;
  flex-shrink: 0;
  border: 1px solid #9bb8bf;

  &.agregar-headers {
    background: #a5c4ca;
    color: #232728;
    border-radius: 4px;
    margin-bottom: 0.1rem;
    font-size: 0.8rem;
  }

  @media (max-width: 1120px) {
    font-size: 0.75rem;
  }

  @media (max-width: 900px) {
    grid-template-columns: 2fr 1fr 80px;
    
    .precio-header, .iva-header, .descuento-header {
      display: none;
    }
  }

  &.agregar-headers {
    background: #a5c4ca;
    color: #232728;
    border-radius: 4px;
    margin-bottom: 0.1rem;
    font-size: 0.8rem;
  }

  @media (max-width: 1120px) {
    font-size: 0.75rem;
  }

  @media (max-width: 900px) {
    grid-template-columns: 2fr 1fr 80px;
    
    .precio-header, .iva-header, .descuento-header {
      display: none;
    }
  }
`,Tl=fe.div`
  text-align: center;
  border-right: 1px solid rgba(35, 39, 40, 0.2);
  padding-right: 0.3rem;
  
  &:last-child {
    border-right: none;
    padding-right: 0;
  }
  
  &.nombre-header {
    text-align: left;
  }
`,Tv=fe.input`
  width: 18px;
  height: 18px;
  cursor: pointer;
  accent-color: ${jt};
`,Ov=fe.label`
  font-size: 0.7rem;
  color: #333;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.1rem;
  cursor: pointer;
  
  .checkbox-text {
    white-space: nowrap;
  }
`,Zu=fe.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
`,Ju=fe.div`
  background: white;
  border-radius: 12px;
  padding: 2rem;
  max-width: 400px;
  width: 90%;
  text-align: center;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  animation: modalAppear 0.3s ease-out;

  @keyframes modalAppear {
    from {
      opacity: 0;
      transform: scale(0.8) translateY(-20px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }
`,Qu=fe.div`
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1rem;
  
  .icon {
    font-size: 3rem;
    margin-right: 0.5rem;
  }
  
  &.success .icon {
    color: #27ae60;
  }
  
  &.error .icon {
    color: #e74c3c;
  }
`,ed=fe.p`
  font-size: 1rem;
  line-height: 1.5;
  color: #333;
  margin-bottom: 1.5rem;
  white-space: pre-line;
`,Nc=fe.button`
  background: ${t=>t.error?"#e74c3c":"#a5c4ca"};
  color: ${t=>t.error?"white":"#232728"};
  border: none;
  border-radius: 6px;
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    background: ${t=>t.error?"#c0392b":"#607074"};
    color: ${t=>t.error?"white":"#caf0f8"};
    transform: translateY(-1px);
  }

  &:active {
    transform: translateY(0);
  }
`,n7=fe.div`
  background: #f8fcff;
  border-radius: 8px;
  box-shadow: 0 2px 8px #0001;
  padding: 1rem 1.5rem;
  margin-bottom: 1.5rem;
  max-width: 500px;
  margin-left: auto;
  margin-right: auto;
  h2 {
    margin-bottom: 0.3rem;
    font-size: 1.1rem;
    color: #003459;
  }
  p {
    margin: 0.2rem 0;
    font-size: 0.85rem;
  }
`,i7=fe.div`
  color: #e74c3c;
  margin-bottom: 1rem;
  font-weight: 600;
`,a7=fe.div`
  margin-top: 1rem;
  color: #2e7d32;
  font-weight: 600;
  text-align: center;
`,o7=fe.button`
  background: #a5c4ca;
  color: #232728;
  border: none;
  border-radius: 8px;
  padding: 0.6rem 1.5rem;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  &:hover { background: #607074; color: #fff; }
`;fe.div`
  min-height: 100vh;
  width: 100vw;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(
    135deg,
    #caf0f8 0%,
    #a5c4ca 30%,
    #82999e 60%,
    #607074 80%,
    #404a4c 100%
  );
`;const s7=fe.footer`
  width: 100%;
  background: linear-gradient(
    120deg,
    #404a4c 100%,
    rgb(64, 94, 102) 80%,
    #404a4c 100%
  );
  color: #fff;
  text-align: center;
  padding: 0.35rem 0;
  min-height: unset;
  height: unset;
  font-size: 1rem;
  letter-spacing: 1px;
  position: static;
  left: unset;
  bottom: unset;
  z-index: 10;

  @media (max-width: 1120px) {
    font-size: 0.8rem;
  }
`;fe.div`
  display: flex;
  gap: 1rem;
  align-items: flex-start;
  width: 100%;
  max-width: 300px;
  margin: 0 auto;
  flex-wrap: nowrap;

  div {
    display: flex;
    flex-direction: column;
    flex: 1 1 100px;
    min-width: 120px;
    max-width: 160px;
    label {
      font-size: 0.9rem;
      color: #607074;
      margin-bottom: 0.2rem;
    }
    input[type="date"] {
      padding: 0.4rem;
      border-radius: 6px;
      border: 1.5px solid #a5c4ca;
      font-size: 0.9rem;
      width: 100%;
      min-width: 0;
      max-width: 100%;
      height: 36px;
      box-sizing: border-box;
      background: #fff;
      color: #232728;
    }
  }

  @media (max-width: 1120px) {
      font-size: 0.8rem;
    }
    input[type="date"]::placeholder {
      font-size: 0.8rem;
    }
        input,
        textarea,
        select {
          font-family: inherit;
          font-size: 1rem;
          padding: 0.7rem;
          border-radius: 6px;
          border: 1.5px solid #a5c4ca;
          margin-bottom: 0.7rem;
          width: 100%;
          min-width: 0;
          max-width: none; /* Changed to none for full responsiveness */
          box-sizing: border-box;
          background: #fff;
          color: #232728;
          resize: none;
        }
  }
`;fe.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  width: 100%;
  max-width: 300px;
  margin: 0 auto;
  input,
  textarea,
  select {
    font-family: inherit;
    font-size: 1rem;
    padding: 0.7rem;
    border-radius: 6px;
    border: 1.5px solid #a5c4ca;
    margin-bottom: 0.7rem;
    width: 100%;
    min-width: 0;
    max-width: 100%;
    box-sizing: border-box;
    background: #fff;
    color: #232728;
    resize: none;
  }
  textarea {
    padding: 0.4rem;
    border-radius: 6px;
    border: 1.5px solid #a5c4ca;
    font-size: 0.9rem;
    background: #fff;
    color: #232728;
    resize: vertical;
  }
  input[readonly] {
    background: #e9ecef;
    color: #607074;
    cursor: not-allowed;
  }
  textarea {
    min-height: 50px;
    max-height: 120px;
  }

  @media (max-width: 1120px) {
    input::placeholder,
    textarea::placeholder {
      font-size: 0.8rem;
    }
  }
`;fe.button`
  margin-top: 0.8rem;
  padding: 0.6rem;
  background: linear-gradient(90deg, #607074 60%, #404a4c 100%);
  color: #caf0f8;
  border: none;
  font-size: 0.9rem;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 2px 8px #404a4c33;
  letter-spacing: 0.5px;
  border-radius: 8px;
  transition: background 0.2s, box-shadow 0.2s;
  &:hover {
    background: linear-gradient(90deg, #404a4c 60%, #232728 100%);
    box-shadow: 0 4px 16px #404a4c55;
  }
  &:disabled {
    background: #b3c6d1;
    cursor: not-allowed;
    color: #fff;
    border: none;
    box-shadow: none;
  }

  @media (max-width: 1120px) {
    font-size: 0.8rem;
  }
`;const l7=IS`
  html, body, #root {
    height: 100%;
    margin: 0;
    padding: 0;
  }  

  body {
    font-family: 'Poppins';
    color: #003459;
    background: linear-gradient(
      120deg,
      #ffffff 0%,
rgb(217, 243, 248) 40%,
rgb(178, 197, 201) 100%
    );
    margin: 0;
    padding: 0;
  }
`,c7=fe.div`
  height: 100%;
  width: 100%;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  background: linear-gradient(135deg, #e7f7fa 0%, #b3c6d1 100%);
  padding: 0.5rem 1rem;
  box-sizing: border-box;
  overflow-y: auto;
  overflow-x: hidden;

  @media (max-width: 900px) {
    height: 100%;
    max-height: none;
    min-height: 0;
    padding-bottom: 0;
    align-items: flex-start;
  }
`,u7=fe.div`
  background: #fff;
  padding: 2rem;
  border-radius: 18px;
  box-shadow: 0 8px 32px rgba(55, 130, 165, 0.18),
    0 1.5px 8px rgba(0, 0, 0, 0.08);
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 90vw;
  max-width: 800px;
  min-width: 0;

  @media (max-width: 1120px) {
    padding: 1.5rem 1rem;
    width: 95vw;
    max-width: 95vw;
  }
  
  @media (max-width: 768px) {
    padding: 1rem;
    width: 98vw;
    max-width: 98vw;
  }
`,d7=fe.div``,f7=fe.h2`
  font-family: "Poppins", "Montserrat";
  color: #003459;
  margin-bottom: 1.5rem;
  font-weight: 700;
  letter-spacing: 1px;
  text-align: center;
  
  @media (max-width: 1120px) {
    font-size: 1.2rem;
  }
`;fe.div`
  font-family: "Poppins", "Montserrat";
  color: #3782a5;
  font-size: 1.1rem;
  text-align: center;
  margin: 0 1.2rem 1.1rem 1.2rem;
  
  span {
    color: #27618a;
    font-weight: 600;
    font-size: 0.9rem;
  }
  
  @media (max-width: 1120px) {
    font-size: 0.8rem;
  }
`;fe.div`
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
  text-align: left;
  
  p {
    margin: 0.05rem 0;
    font-size: 0.9rem;
  }
  
  span {
    font-size: 1rem;
  }
  
  @media (max-width: 1120px) {
    p {
      font-size: 0.8rem;
    }
    span {
      font-size: 0.8rem;
    }
  }
`;fe.form`
  width: 100%;
  max-width: 380px;
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
`;fe.div`
  display: flex;
  flex-direction: column;
`;fe.label`
  font-weight: 600;
  margin-bottom: 0.2rem;
  color: #003459;
  font-size: 0.9rem;
  span {
    color: #e74c3c;
    font-size: 0.9rem;
    margin-left: 2px;
  }
  @media (max-width: 1120px) {
    font-size: 0.8rem;
  }
`;fe.input`
  padding: 0.4rem 0.6rem;
  border: 1.5px solid ${({$error:t})=>t?"#e74c3c":"#a5c4ca"};
  border-radius: 6px;
  font-size: 0.9rem;
  outline: none;
  transition: border 0.2s;
  &:focus {
    border-color: #607074;
  }
  @media (max-width: 1120px) {
    font-size: 0.8rem;
  }
`;fe.span`
  color: #e74c3c;
  font-size: 0.95rem;
  margin-top: 0.2rem;
`;fe.button`
  width: 50%;
  text-align: center;
  margin-top: 0.8rem;
  margin-left: auto;
  margin-right: auto;
  padding: 0.7rem 0;
  background: linear-gradient(90deg, #607074 0%, #a5c4ca 100%);
  color: #fff;
  border: none;
  border-radius: 8px;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
  &:hover {
    background: linear-gradient(90deg, #a5c4ca 0%, #607074 100%);
  }
  @media (max-width: 1120px) {
    font-size: 0.8rem;
    width: 30%;
  }
`;const h7=fe.div`
  margin-top: 1rem;
  color: #607074;
  font-size: 0.9rem;
  text-align: center;
  span {
    color: #e74c3c;
    font-weight: bold;
  }
  @media (max-width: 1120px) {
    font-size: 0.8rem;
  }
`;fe.div`
  margin-top: 1rem;
  color: #2e7d32;
  font-weight: 600;
  text-align: center;
`;const p7=fe.div`
  min-height: 100vh;
  display: flex;
  flex-direction: column;
`,g7=fe.div`
  font-family: 'Poppins';
  background: rgba(255,255,255,0.92);
  width: 90%;
  max-width: 350px;
  padding: 1.7rem 2.7rem 2.2rem 2.7rem;
  border-radius: 18px;
  box-shadow: 0 8px 32px rgba(64,74,76,0.22), 0 1.5px 8px rgba(0,0,0,0.10);
  border: 1.5px solid #a5c4ca;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: box-shadow 0.2s, border 0.2s;
  
  @media (max-width: 480px) {
    padding: 1.2rem 0.7rem 1.5rem 0.7rem;
    max-width: 80vw;
  }
`,Rv=fe.h3`
  color: #232728;
  margin: 1.2rem 0 1rem 0;
  font-size: 1.7rem;
  font-weight: 700;
  text-align: center;

  &.sub {
    font-size: 1.05rem;
    font-weight: 500;
    margin: 1.2rem 0 1rem 0;
  }
`,Pv=fe.input`
  font-family: 'Poppins';
  width: 100%;
  box-sizing: border-box;
  padding: 0.85rem;
  margin-bottom: 1.2rem;
  border-radius: 8px;
  border: 1.5px solid #82999e;
  font-size: 0.9rem;
  background: #f8fafc;
  color: #232728;
  transition: border 0.2s;
  
  &:focus {
    border: 1.5px solid #607074;
    outline: none;
    background: #fff;
  }
`,m7=fe.div`
  position: relative;
  width: 100%;
  margin-bottom: 1.2rem;
`,v7=fe.button`
  position: absolute;
  right: 1rem;
  top: 55%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: #607074;
  font-size: 1.2rem;
  cursor: pointer;
  padding: 0;
`,Dv=fe.button`
  font-family: 'Poppins';
  width: 100%;
  box-sizing: border-box;
  padding: 0.85rem;
  background: linear-gradient(90deg, #607074 60%, #404a4c 100%);
  color: #caf0f8;
  border: none;
  border-radius: 8px;
  font-size: 0.9rem;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 2px 8px #404a4c33;
  letter-spacing: 0.5px;
  transition: background 0.2s, box-shadow 0.2s;
  
  &:hover {
    background: linear-gradient(90deg, #404a4c 60%, #232728 100%);
    box-shadow: 0 4px 16px #404a4c55;
  }
`,b7=fe.div`
  color: #d32f2f;
  margin-top: 0.7rem;
  text-align: center;
  font-weight: 600;
  letter-spacing: 0.2px;
`,y7=fe.hr`
  width: 100%;
  border: none;
  border-top: 1.5px solid #a5c4ca;
  margin: 2rem 0 1.2rem 0;
`,x7=fe.div`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
`,w7=fe.img`
  width: 80px;
  height: 80px;
  border-radius: 12px;
  box-shadow: 0 2px 8px #a5c4ca33;
  background: #fff;
  object-fit: contain;
  margin-left: 1rem;
  
  @media (max-width: 480px) {
    width: 80px;
    height: 80px;
  }
`,S7=fe.div`
  color: #607074;
  font-size: 0.9rem;
  margin-bottom: 2rem;
  max-width: 600px;
  width: 100%;
  @media (max-width: 1120px) {
    font-size: 0.8rem;
  }
`,_7=fe.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 200;
  margin: 0 0 0 15px;
  width: 70%;
  box-shadow: 0 4px 24px #00345944;
  padding: 1.2rem 2.2rem 1.2rem 2.2rem;
  overflow: hidden;
  background: linear-gradient(
    180deg,
    rgb(144, 180, 189) 0%,
    rgb(117, 156, 163) 30%,
    rgb(92, 124, 131) 60%,
    rgb(64, 94, 102) 80%,
    #404a4c 100%
  );
  display: flex;
  flex-direction: column;
  align-items: stretch;

  @media (max-width: 1120px) {
    width: 98vw;
    min-width: 0;
    margin: 0;
    padding: 2rem 0.5rem 1rem 2.5rem;
    max-width: 98vw;
    font-size: 0.9rem;
  }
`,j7=fe.button`
  background: none;
  border: none;
  color: #003459;
  position: absolute;
  top: 1.2rem;
  right: 3rem;
  cursor: pointer;
  z-index: 201;
`,A7=fe.div`
  display: grid;
  grid-template-columns: minmax(70px, 100px) 1fr;
  gap: 1.2rem;
  align-items: start;
  width: 100%;
`,C7=fe.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  min-width: 70px;

  & > a,
  & > button {
    margin-top: 0.7rem;
  }

  @media (max-width: 1120px) {
    margin-left: 0.5rem;
    margin-bottom: 0.7rem;
    text-align: center;
    align-items: center;
    
    & > a,
    & > button {
      margin-top: 0.5rem;
    }
    
    font-size: 0.9rem;
  }
`,k7=fe.img`
  width: 70px;
  height: auto;
  border-radius: 16px;
  box-shadow: 0 4px 18px #3782a533;
  background: #fff;
  padding: 0.5rem;
  z-index: 202;
`,E7=fe.div`
  display: flex;
  flex-direction: column;
  gap: 0.6rem;
  align-items: flex-start;
  padding-left: 1.5rem;

  @media (max-width: 1120px) {
    margin: 0;
    padding-left: 1.5rem;
    gap: 1rem;
    width: 100%;
    align-items: flex-start;
    font-size: 0.9rem;
  }
`,N7=fe.button`
  background: linear-gradient(
    200deg,
    rgba(85, 25, 25, 0.81) 0%,
    rgb(156, 37, 37) 40%,
    #ff6b6b 100%
  );
  color: #fff;
  border: none;
  border-radius: 6px;
  font-size: 0.9rem;
  font-weight: 700;
  padding: 0.38rem 0.95rem;
  cursor: pointer;
  margin-bottom: 0rem;
  display: flex;
  align-items: center;
  box-shadow: 0 1px 4px #d32f2f22;
  border: 1px solid #fff;
  transition: background 0.2s, box-shadow 0.2s, transform 0.1s;

  &:hover {
    background: linear-gradient(100deg, #8a1616 0%, #d32f2f 50%, #ff5252 100%);
    box-shadow: 0 2px 8px #d32f2f44;
    transform: translateY(-2px) scale(1.04);
  }
  
  @media (max-width: 1120px) {
    font-size: 0.8rem;
  }
`,L7=fe.button`
  background: none;
  border: none;
  color: rgb(14, 41, 61);
  font-family: "Montserrat", sans-serif;
  font-size: 1.1rem;
  font-weight: bold;
  padding: 0.4rem 1.2rem;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.18s, color 0.18s, transform 0.13s;
  text-align: left;
  display: flex;
  align-items: center;

  &:hover {
    background: #e7f7fa;
    color: rgb(123, 168, 189);
    transform: translateX(4px) scale(1.04);
    text-decoration: none;
  }
  
  @media (max-width: 1120px) {
    font-size: 0.9rem;
  }
`,T7=fe.div`
  position: fixed;
  inset: 0;
  background: rgba(30, 44, 54, 0.25);
  z-index: 199;
`,zx=fe.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: #23272855;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
`,Mx=fe.div`
  background: #f8fafb;
  border-radius: 22px;
  box-shadow: 0 2px 18px #404a4c22;
  border: 2px solid #a5c4ca;
  padding: 2.2rem 2rem 1.5rem 2rem;
  min-width: 320px;
  max-width: 90vw;
  display: flex;
  flex-direction: column;
  align-items: center;
`,Bx=fe.p`
  color: #232728;
  font-size: 0.9rem;
  text-align: center;
  margin-bottom: 1.5rem;
`,Ix=fe.div`
  display: flex;
  gap: 1.2rem;
  justify-content: center;
  width: 100%;
  margin-top: 0.5rem;
`,Ux=fe.button`
  background: rgb(184, 64, 64);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 0.7rem 2.2rem;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  &:hover {
    background: rgb(119, 26, 26);
  }
  &:disabled {
    background: #b3c6d1;
    cursor: not-allowed;
  }
`;fe.form`
  width: 100%;
  max-width: 380px;
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
`;fe.div`
  display: flex;
  flex-direction: column;
`;fe.label`
  font-weight: 600;
  margin-bottom: 0.2rem;
  color: #003459;
  font-size: 0.9rem;
  span {
    color: #e74c3c;
    font-size: 1.1em;
    margin-left: 2px;
  }
`;fe.input`
  padding: 0.4rem 0.6rem;
  border: 1.5px solid #a5c4ca;
  border-radius: 6px;
  font-size: 0.9rem;
  outline: none;
  transition: border 0.2s;
  &::placeholder {
    font-size: 0.9rem;
    color: #b0b8ba;
    opacity: 1;
  }
  &:focus {
    border-color: #607074;
  }
`;fe.button`
  width: 40%;
  margin: 0.8rem auto 0 auto; 
  display: block;             
  padding: 0.7rem 0;
  background: linear-gradient(90deg, #607074 0%, #a5c4ca 100%);
  color: #fff;
  border: none;
  border-radius: 8px;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
  &:hover {
    background: linear-gradient(90deg, #a5c4ca 0%, #607074 100%);
  }
`;fe.div`
  margin-top: 0.9rem;
  color: #2e7d32;
  font-weight: 600;
  text-align: center;
`;fe.div`
  color: #e74c3c;
  margin-top: 1rem;
  font-weight: 600;
  text-align: center;
`;fe.div`
  margin-top: 0.5rem;
  color: #607074;
  font-size: 0.9rem;
  text-align: left;
  span {
    color: #e74c3c;
    font-size: 1.1em;
    margin-right: 4px;
    font-weight: bold;
  }
`;fe.button`
  margin-top: 1.5rem;
  background: linear-gradient(90deg, #607074 0%, #a5c4ca 100%);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 0.7rem 2.2rem;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 1px 4px #00345922;
  border: 1px solid #fff;
  transition: background 0.2s, box-shadow 0.2s, transform 0.1s;
  &:hover {
    background: linear-gradient(90deg, #a5c4ca 0%, #607074 100%);
    box-shadow: 0 2px 8px #00345944;
    transform: translateY(-2px) scale(1.04);
  }
  &:disabled {
    background: #b3c6d1;
    cursor: not-allowed;
    color: #fff;
    border: none;
    box-shadow: none;
  }
`;const O7=fe(em)`
  font-size: 1rem;
  color: rgb(220, 227, 233);
  font-weight: 700;
  text-align: center;
  margin: 0;
  letter-spacing: 0.5px;
  text-decoration: none;
  cursor: pointer;
  border-radius: 8px;
  padding: 0.4rem 0.7rem;
  align-self: center;
  transition: background 0.18s, color 0.18s, box-shadow 0.18s, transform 0.13s;

  &:hover {
    background: linear-gradient(90deg, #caf0f8 0%, #a5c4ca 100%);
    color: rgb(113, 160, 161);
    box-shadow: 0 2px 8px #a5c4ca55;
    transform: scale(1.04);
    text-decoration: none;
  }
  @media (max-width: 1120px) {
    font-size: 0.9rem;
  }
`;fe.div`
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 2rem; 
  width: 100%;
  margin: 2rem 0;
  flex-wrap: wrap;
  padding: 0 1rem;
  
  @media (max-width: 768px) {
    gap: 1.5rem;
    margin: 1.5rem 0;
  }
  
  @media (max-width: 600px) {
    flex-direction: column;
    gap: 1rem;
    margin: 1rem 0;
    padding: 0 0.5rem;
  }
  
  @media (max-width: 480px) {
    gap: 0.8rem;
    padding: 0 0.25rem;
  }
`;const R7=fe.div`
  position: relative;
  width: 100%;
  height: 65vh;
  background: transparent;
  padding: 0;
  margin-top: 0.5rem;
`;fe.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 2rem;
  padding: 0 1rem;

  @media (max-width: 700px) {
    flex-direction: column;
    gap: 1rem;
  }
`;fe.div`
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 1rem;
  height: 100%;

  @media (max-width: 1000px) {
    grid-template-columns: 1fr;
    height: auto;
  }
`;fe.div`
  background: white;
  border-radius: 6px;
  padding: 1rem;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  height: fit-content;
  max-height: 100%;
  overflow-y: auto;
`;fe.div`
  background: white;
  border-radius: 6px;
  padding: 1rem;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  display: flex;
  max-height: 100%;
  flex-direction: column;
`;fe.h3`
  color: ${jt};
  font-size: 1rem;
  margin-bottom: 0.75rem;
  border-bottom: 1px solid ${Q0};
  padding-bottom: 0.25rem;
`;const P7=fe.form`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
`,fo=fe.div`
  display: flex;
  flex-direction: column;
  gap: 0.25rem;

  label {
    font-weight: 500;
    color: #333;
    font-size: 0.8rem;
  }
`,Uu=fe.input`
  border: 1px solid #ddd;
  border-radius: 4px;
  padding: 0.5rem;
  font-size: 0.85rem;
  transition: border-color 0.2s;

  &:focus {
    outline: none;
    border-color: ${jt};
    box-shadow: 0 0 0 2px ${jt}20;
  }

  &:invalid {
    border-color: #dc3545;
  }
`,zv=fe.textarea`
  border: 1px solid #ddd;
  border-radius: 4px;
  padding: 0.5rem;
  font-size: 0.85rem;
  min-height: 50px;
  resize: vertical;
  transition: border-color 0.2s;

  &:focus {
    outline: none;
    border-color: ${jt};
    box-shadow: 0 0 0 2px ${jt}20;
  }
`,Vh=fe.select`
  border: 1px solid #ddd;
  border-radius: 4px;
  padding: 0.5rem;
  font-size: 0.85rem;
  background: white;
  transition: border-color 0.2s;

  &:focus {
    outline: none;
    border-color: ${jt};
    box-shadow: 0 0 0 2px ${jt}20;
  }
`,hf=fe.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.5rem;

  @media (max-width: 600px) {
    grid-template-columns: 1fr;
  }
`;fe.button`
  width: 50%;
  text-align: center;
  margin-top: 0.5rem;
  margin-left: auto;
  margin-right: auto;
  padding: 0.5rem 0;
  background: linear-gradient(90deg, #607074 0%, #a5c4ca 100%);
  color: #fff;
  border: none;
  border-radius: 6px;
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
  
  &:hover {
    background: linear-gradient(90deg, #a5c4ca 0%, #607074 100%);
  }
  
  &:disabled {
    background: #ccc;
    cursor: not-allowed;
  }
  
  @media (max-width: 1120px) {
    font-size: 0.75rem;
    width: 40%;
  }
`;fe.div`
  margin-bottom: 0.5rem;
  position: relative;
`;fe.input`
  width: 100%;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 0.75rem 1rem 0.75rem 2.5rem;
  font-size: 1rem;
  background: #f8f9fa;

  &:focus {
    outline: none;
    border-color: ${jt};
    background: white;
  }
`;fe.div`
  position: absolute;
  left: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  color: #666;
  pointer-events: none;
`;fe.div`
  flex: 1;
  overflow-y: auto;
  margin-top: 0.5rem;
  max-height: calc(65vh - 120px);
  min-height: 150px;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: ${jt};
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: ${zf};
  }
`;fe.div`
  background: #f8f9fa;
  border-radius: 6px;
  padding: 0.75rem;
  margin-bottom: 0.5rem;
  border-left: 3px solid ${jt};
  transition: all 0.2s;
  cursor: pointer;

  &:hover {
    background: #e9ecef;
    transform: translateX(2px);
  }
`;fe.div`
  font-weight: 600;
  color: #333;
  font-size: 1.1rem;
  margin-bottom: 0.5rem;
`;fe.div`
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 1rem;
  font-size: 0.9rem;
  color: #666;

  @media (max-width: 600px) {
    grid-template-columns: 1fr;
    gap: 0.25rem;
  }
`;fe.div`
  display: flex;
  justify-content: space-between;
  
  .label {
    font-weight: 500;
  }
  
  .value {
    color: ${jt};
    font-weight: 600;
  }
`;fe.div`
  color: #666;
  font-size: 0.85rem;
  margin-top: 0.5rem;
  font-style: italic;
`;fe.div`
  display: flex;
  gap: 0.5rem;
  margin-top: 1rem;
  justify-content: flex-end;
`;fe.button`
  background: ${Q0};
  color: white;
  border: none;
  border-radius: 4px;
  padding: 0.3rem 0.75rem;
  font-size: 0.75rem;
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    background: #0056b3;
  }
`;fe.button`
  background: #dc3545;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 0.3rem 0.75rem;
  font-size: 0.75rem;
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    background: #c82333;
  }
`;const D7=fe.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 0.5rem;
  margin-bottom: 0.75rem;
`,Yh=fe.div`
  background: white;
  border-radius: 6px;
  padding: 0.5rem;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
  text-align: center;
  border-top: 2px solid ${jt};

  .numero {
    font-size: 1.1rem;
    font-weight: bold;
    color: ${jt};
    margin-bottom: 0.15rem;
  }

  .label {
    color: #666;
    font-size: 0.7rem;
    font-weight: 500;
  }
`;fe.div`
  text-align: center;
  padding: 1.5rem 1rem;
  color: #666;
  font-style: italic;

  .icono {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    opacity: 0.3;
  }
`;fe.span`
  background: ${jt}20;
  color: ${jt};
  padding: 0.25rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
`;const z7=fe.div`
  min-height: 100vh;
  display: flex;
  flex-direction: column;
`,M7=fe.div`
  font-family: 'Poppins';
  background: rgba(255,255,255,0.92);
  width: 100%;
  max-width: 370px;
  padding: 1.7rem 2.7rem 2.2rem 2.7rem;
  border-radius: 18px;
  box-shadow: 0 8px 32px rgba(64,74,76,0.22), 0 1.5px 8px rgba(0,0,0,0.10);
  border: 1.5px solid #a5c4ca;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: box-shadow 0.2s, border 0.2s;
  
  @media (max-width: 480px) {
    padding: 1.2rem 0.7rem 1.5rem 0.7rem;
    max-width: 98vw;
  }
`,N1=fe.input`
  font-family: 'Poppins';
  width: 100%;
  box-sizing: border-box;
  padding: 0.85rem;
  margin-bottom: 1.2rem;
  border-radius: 8px;
  border: 1.5px solid #82999e;
  font-size: 1.07rem;
  background: #f8fafc;
  color: #232728;
  transition: border 0.2s;
  
  &:focus {
    border: 1.5px solid #607074;
    outline: none;
    background: #fff;
  }
`,Mv=fe.button`
  font-family: 'Poppins';
  width: 100%;
  box-sizing: border-box;
  padding: 0.85rem;
  background: linear-gradient(90deg, #607074 60%, #404a4c 100%);
  color: #caf0f8;
  border: none;
  border-radius: 8px;
  font-size: 1.07rem;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 2px 8px #404a4c33;
  letter-spacing: 0.5px;
  transition: background 0.2s, box-shadow 0.2s;
  
  &:hover {
    background: linear-gradient(90deg, #404a4c 60%, #232728 100%);
    box-shadow: 0 4px 16px #404a4c55;
  }
`;fe.div`
  color: #d32f2f;
  margin-top: 0.7rem;
  text-align: center;
  font-weight: 600;
  letter-spacing: 0.2px;
`;const B7=fe.div`
  color: rgb(47, 129, 44);
  margin-top: 0.7rem;
  text-align: center;
  font-weight: 600;
  letter-spacing: 0.2px;
`,I7=fe.div`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
`,U7=fe.div`
  position: relative;
  width: 100%;
  margin-bottom: 1.2rem;
`,F7=fe.button`
  position: absolute;
  right: 1rem;
  top: 55%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: #607074;
  font-size: 1.2rem;
  cursor: pointer;
  padding: 0;
`,q7=fe.nav`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
  padding: 1.5rem 1.5rem 1rem 1.5rem;
  min-width: 250px;
  max-width: 270px;
  box-sizing: border-box;
  background: linear-gradient(
    180deg,
    rgb(144, 180, 189) 0%,
    rgb(117, 156, 163) 30%,
    rgb(92, 124, 131) 60%,
    rgb(64, 94, 102) 80%,
    #404a4c 100%
  );
  position: relative;
  overflow: hidden;
`,H7=fe.img`
  width: 150px;
  height: auto;
  border-radius: 16px;
  box-shadow: 0 4px 18px #3782a533;
  background: #fff;
  padding: 0.5rem;
  margin: 0 0 1.2rem 0;
`,$7=fe.div`
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
  align-items: stretch;
  margin: 1.5rem 0;
  width: 100%;
  flex: 1;
`,L1=fe.button`
  background: none;
  border: none;
  color: rgb(14, 41, 61);
  font-family: "Montserrat", sans-serif;
  font-size: 1rem;
  font-weight: bold;
  padding: 0.7rem 1.2rem;
  border-radius: 6px;
  cursor: pointer;
  transition:
    background 0.18s,
    color 0.18s,
    transform 0.13s;
  text-align: left;
  display: flex;
  align-items: center;
  width: 90%;

  &:hover {
    background: #e7f7fa;
    color: rgb(123, 168, 189);
    transform: translateX(4px) scale(1.04);
    text-decoration: none;
  }

  &.hide-on-mobile {
    @media (max-width: 640px) {
      display: none;
    }
  }
`,W7=fe.button`
  background: linear-gradient(
    200deg,
    rgba(85, 25, 25, 0.81) 0%,
    rgb(156, 37, 37) 40%,
    #ff6b6b 100%
  );
  color: #fff;
  border: none;
  border-radius: 6px;
  font-size: 0.98rem;
  font-weight: 700;
  padding: 0.38rem 0.95rem;
  cursor: pointer;
  margin: 1.2rem auto 0.2rem auto;
  display: flex;
  align-items: center;
  box-shadow: 0 1px 4px #d32f2f22;
  border: 1px solid #fff;
  transition: background 0.2s, box-shadow 0.2s, transform 0.1s;

  &:hover {
    background: linear-gradient(
      100deg,
      #8a1616 0%,
      #d32f2f 50%,
      #ff5252 100%
    );
    box-shadow: 0 2px 8px #d32f2f44;
    transform: translateY(-2px) scale(1.04);
  }
`,Kh=fe.div`
  width: 100%;
  height: 2px;
  background: linear-gradient(180deg, #caf0f8 0%, #a5c4ca 100%);
  margin: 0.2rem 0;
  border-radius: 2px;
`,G7=fe.td`
  min-width: 48px !important;
  max-width: 60px !important;
  width: 1%;
  text-align: center;
`,V7=fe.td`
  min-width: 220px !important;
  max-width: 400px !important;
  width: auto;
  font-weight: 500;
`,Y7=fe.td`
  min-width: 60px !important;
  max-width: 80px !important;
  width: 1%;
  text-align: center;
  font-weight: 500;
  color: #3782a5;
`,D0=fe.button`
  background: none;
  border: none;
  color: ${({eliminar:t})=>t?"#d32f2f":"#607074"};
  font-size: 1.2rem;
  cursor: pointer;
  margin-right: 0.7rem;
  transition: color 0.2s;
  &:hover {
    color: ${({eliminar:t})=>t?"#a31515":"#003459"};
  }
`,Ul=fe.div`
  width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  max-width: 100vw;
`,Fl=fe.table`
  width: 100%;
  min-width: 800px;
  border-collapse: collapse;
  background: white;
  border-radius: 12px;
  overflow: hidden;
  th {
    padding: 0.8rem 0.5rem;
    border-bottom: 1px solid #e0e6ea;
    border-right: 1px solid #f0f4f5;
    text-align: center;
    font-size: 0.75rem;
    vertical-align: middle;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    &:last-child {
      border-right: none;
    }
  }
  td {
    padding: 0.8rem 0.5rem;
    border-bottom: 1px solid #e0e6ea;
    border-right: 1px solid #f0f4f5;
    text-align: left;
    font-size: 0.75rem;
    vertical-align: middle;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    &:last-child {
      border-right: none;
    }
  }

  th:nth-child(2), td:nth-child(2) {
    min-width: 340px;
    max-width: 520px;
    white-space: normal;
    overflow: auto;
    text-overflow: unset;
  }

  th:nth-child(2), td:nth-child(2) { /* Descripcin o Productos */
    min-width: 120px;
    white-space: pre-line;
    overflow: visible;
    text-overflow: unset;
  }

  th:nth-child(6), td:nth-child(6) { /* Observaciones */
    min-width: 100px;
    white-space: pre-line;
    overflow: visible;
    text-overflow: unset;
  }

  th:nth-child(3), td:nth-child(3) {
    min-width: 60px;
    max-width: 80px;
    white-space: nowrap;
    overflow: visible;
    text-overflow: unset;
  }

  th:nth-child(4), td:nth-child(4) { /* Subtotal */
    min-width: 70px;
    text-align: right;
    overflow: visible;
    text-overflow: unset;
  }

  th:nth-child(2), td:nth-child(2) { /* Descripcin o Productos */
    min-width: 220px;
    max-width: 340px;
  }
  th:nth-child(6), td:nth-child(6) { /* Observaciones */
    min-width: 180px;
    max-width: 260px;
  }
  th:nth-child(3), td:nth-child(3) { /* Mtodo de Pago */
    min-width: 120px;
    max-width: 180px;
  }
  th:nth-child(4) {
    min-width: 100px;
    max-width: 140px;
    text-align: center;
  }

  #tabla-ventas td:nth-child(4) {
    text-align: right;
  }

  td:last-child {
    text-align: center;
    vertical-align: middle;
    white-space: normal;
  }

  th {
    background: #a5c4ca;
    color: #232728;
    font-weight: 600;
    font-size: 0.8rem;
    text-align: center;
    border-right: 1px solid rgba(35, 39, 40, 0.1);
    white-space: nowrap;
    padding-right: 1.2rem;
    &:last-child {
      border-right: none;
    }
  }
    
  tr:last-child td {
    border-bottom: none;
  }

  @media (max-width: 900px) {
    min-width: 700px;
    th, td {
      font-size: 0.7rem;
      max-width: 120px;
    }
  }

  @media (max-width: 600px) {
    min-width: 600px;
    th, td {
      font-size: 0.65rem;
      max-width: 90px;
    }
  }
  @media (max-width: 1120px) {
    th {
      font-size: 0.75rem;
    }
    td {
      font-size: 0.7rem;
    }
  }

  &.tabla-pdf {
    width: 100%;
    margin: 0 auto;
    font-size: 10px;
    table-layout: fixed;
    border-collapse: collapse;
    max-width: 900px; /* Opcional, para limitar el ancho mximo */
  }

  &.tabla-pdf th,
  &.tabla-pdf td {
    padding: 3px 4px;
    border: 1px solid #ccc;
    word-break: break-word;
  }

  &.tabla-pdf th {
    text-align: center;
  }

  &.tabla-pdf td:nth-child(3),
  &.tabla-pdf td:nth-child(4) {
    text-align: center; /* Centra las fechas */
    white-space: nowrap;
  }

  &.tabla-pdf th:nth-child(1),
  &.tabla-pdf td:nth-child(1) {
    width: 13%;
  }
  &.tabla-pdf th:nth-child(2),
  &.tabla-pdf td:nth-child(2) {
    width: 17%;
  }
  &.tabla-pdf th:nth-child(3),
  &.tabla-pdf td:nth-child(3) {
    width: 12%;
    white-space: nowrap;
  }
  &.tabla-pdf th:nth-child(4),
  &.tabla-pdf td:nth-child(4) {
    width: 16%;
    white-space: nowrap;
  }
  &.tabla-pdf th:nth-child(5),
  &.tabla-pdf td:nth-child(5) {
    width: 10%;
    text-align: right;
  }
  &.tabla-pdf th:nth-child(6),
  &.tabla-pdf td:nth-child(6) {
    width: 22%;
    white-space: pre-line;
  }
`,K7=fe.h2`
  width: 100%;
  font-size: 1.7rem;
  margin: 2rem 0 1.5rem 0;
  color: #232728;
  text-align: center;
  word-break: break-word;

  @media (max-width: 600px) {
    margin-top: 2.5rem;
    font-size: 1.5rem;
    padding: 0 0.5rem;
    letter-spacing: 0.01em;
  }
`,X7=fe.div`
  margin: 1.5rem auto 0 auto;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1.2rem;
  background: transparent;
  border-radius: 12px;
  font-size: 0.9rem;
  color: #003459;
  flex-wrap: wrap;
  
  @media (max-width: 768px) {
    gap: 0.8rem;
    margin: 1rem auto 0 auto;
  }
  
  @media (max-width: 480px) {
    flex-direction: column;
    gap: 0.6rem;
    width: 100%;
    max-width: 300px;
  }
`;fe.div`
  width: 95%;
  max-width: 800px;
  margin: 0 auto 0.5rem 0;
  padding: 0 1rem;
  box-sizing: border-box;
  position: relative;
  .icono-lupa {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: #607074;
    font-size: 1.2rem;
  }
  input {
    width: 95%;
    padding: 0.7rem 0.7rem 0.7rem 2.5rem;
    border: 1.5px solid #a5c4ca;
    border-radius: 12px;
    font-size: 1rem;
    color: #404a4c;
    box-shadow: 0 2px 8px #404a4c22;
    &:focus {
      outline: none;
      border-color: #607074;
    }
  }
  @media (max-width: 900px) {
    max-width: 100%;
    padding: 0 0.5rem;
    input {
      font-size: 0.9rem;
    }
  }
`;const Z7=fe.div`
  margin: 1.5rem auto 0 auto;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.7rem;
  background: #f8fafc;
  border-radius: 12px;
  box-shadow: 0 2px 8px #404a4c22;
  font-size: 0.9rem;
  color: #003459;
  span {
    margin-left: 0.5rem;
    font-size: 0.9rem;
  }
`,J7=fe.div`
  display: flex;
  flex-direction: column;
  gap: 1rem;
  width: 100%;
`,Q7=fe.div`
  display: flex;
  align-items: center;
  width: 100%;
  max-width: 340px;
  margin: 0 auto 0.5rem auto;
  position: relative;
  input {
    flex: 1;
    padding: 0.6rem 2.2rem 0.6rem 0.8rem;
    border-radius: 6px;
    border: 1.5px solid #a5c4ca;
    font-size: 0.9rem;
  }
  .icono-lupa {
    position: absolute;
    right: 0.7rem;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }
`;fe.div`
  display: flex;
  font-family: inherit;
  flex-direction: column;
  gap: 1rem;
  width: 100%;
  .tecnico {
    font-family: inherit;
    flex: 1;
    padding: 0.6rem;
    border-radius: 6px;
    border: 1.5px solid #a5c4ca;
    font-size: 0.9rem;
    margin-right: 0.5rem;
  }
  .fila-tecnico-precio {
    font-family: inherit;
    display: flex;
    flex-direction: column;
    gap: 0.7rem;
    align-items: stretch;
    width: 100%;
    max-width: 100%;
    margin: 0 auto;
  }
  @media (max-width: 700px) {
    .fila-tecnico-precio {
      flex-direction: column;
      gap: 0.7rem;
      max-width: 100%;
    }
    select, .precio {
      width: 100%;
      min-width: 0;
      max-width: 100%;
    }
  }
  select {
    font-family: inherit;
    flex: 1 1 180px;
    min-width: 0;
    max-width: 100%;
    width: 100%;
    height: 40px;
    box-sizing: border-box;
  }
  .datos {
    font-family: inherit;
  }
  textarea {
    font-family: inherit;
  }
  .precio {
    text-align: right;
    padding: 0.6rem;
    border-radius: 6px;
    border: 1.5px solid #a5c4ca;
    font-size: 0.9rem;
    width: 100%;
    min-width: 0;
    max-width: 100%;
    height: 43px;
    box-sizing: border-box;
    background: #fff;
    color: #232728;
    font-family: inherit;
  }
  @media (max-width: 900px) {
    .fila-tecnico-precio {
      flex-direction: column;
      gap: 0.7rem;
      max-width: 100%;
    }
    select, .precio {
      width: 100%;
      min-width: 0;
      max-width: 100%;
    }
  }
`;const Bv=(t,e=0)=>{let r=0,i=0,o=0;t.forEach(f=>{const h=parseFloat(f.precio)||0,g=parseFloat(f.cantidad)||0,w=parseFloat(f.iva)||0,S=parseFloat(f.descuento)||0,b=f.ivaIncluido!==!1;let j,C,N;if(b){j=h/(1+w/100),N=j*g;const E=N*S/100;C=(N-E)*w/100,r+=N,o+=E,i+=C}else{N=h*g;const E=N*S/100;C=(N-E)*w/100,r+=N,o+=E,i+=C}});const s=r*e/100,d=r-o-s+i;return{subtotal:r,totalDescuentos:o+s,totalIva:i,total:d}},T1=t=>{const e=Tj(t);return{esValido:e.valido,errores:e.errores,datosSanitizados:e.datosSanitizados}},Iv=()=>({nombre:"",apellidos:"",telefono:"",nif:"",direccion:"",correo:""}),eA=()=>{const[t,e]=K.useState("0"),[r,i]=K.useState(""),[o,s]=K.useState(""),[c,d]=K.useState(!1),f=j=>{c?(e(String(j)),d(!1)):e(t==="0"?String(j):t+j)},h=j=>{const C=parseFloat(t);if(r==="")i(C);else if(o){const E=g(r||0,C,o);e(String(E)),i(E)}d(!0),s(j)},g=(j,C,N)=>{switch(N){case"+":return j+C;case"-":return j-C;case"":return j*C;case"":return C!==0?j/C:0;default:return C}};return{calculadora:t,setCalculadora:e,inputDigito:f,inputOperador:h,ejecutarCalculo:()=>{const j=parseFloat(t);if(r!==""&&o){const C=g(r,j,o);e(String(C)),i(""),s(""),d(!0)}},limpiarCalculadora:()=>{e("0"),i(""),s(""),d(!1)},inputDecimal:()=>{c?(e("0."),d(!1)):t.indexOf(".")===-1&&e(t+".")}}},tA=(t=null)=>{const[e,r]=K.useState([]),[i,o]=K.useState({codigo:"",nombre:"",precio:"",cantidad:"1",iva:"21",descuento:"0",ivaIncluido:!0});return{productos:e,nuevoProducto:i,setNuevoProducto:o,agregarProducto:g=>{if(g.preventDefault(),!i.nombre||!i.precio)return;const w={id:i.id||Date.now(),codigo:i.codigo||null,...i,precio:parseFloat(i.precio)||0,cantidad:parseFloat(i.cantidad)||1,iva:parseFloat(i.iva)||21,descuento:parseFloat(i.descuento)||0,ivaIncluido:i.ivaIncluido};r([...e,w]),o({nombre:"",precio:"",cantidad:"1",iva:"21",descuento:"0",ivaIncluido:!0}),t&&t()},agregarProductoBD:g=>{const w={id:g.id,codigo:g.codigo||null,nombre:g.nombre,precio:g.precio,cantidad:1,iva:g.iva||21,descuento:0,ivaIncluido:!0};r([...e,w])},eliminarProducto:g=>{r(e.filter(w=>w.id!==g))},actualizarProducto:(g,w,S)=>{r(e.map(b=>b.id===g?{...b,[w]:S}:b))},limpiarProductos:()=>{r([]),o({codigo:"",nombre:"",precio:"",cantidad:"1",iva:"21",descuento:"0",ivaIncluido:!0})}}},O1={smartphones:"TEL",tablets:"TAB",laptops:"LAP",desktop:"DES",gaming:"GAM",audio:"AUD",cmaras:"CAM",accesorios:"ACC",reparaciones:"REP",componentes:"COM",servicios:"SER",general:"GEN"},Fx=t=>{if(!t)return"GEN";const e=t.toLowerCase();if(O1[e])return O1[e];for(const[r,i]of Object.entries(O1))if(e.includes(r)||r.includes(e))return i;return e.substring(0,3).toUpperCase()},rA=async(t,e,r)=>{try{const i=Fx(r),{data:o,error:s}=await t.from("productos").select("codigo").like("codigo",`${i}%`).order("codigo",{ascending:!1}).limit(1);if(s)return console.error("Error buscando cdigos:",s),`${i}0001`;let c=1;if(o&&o.length>0){const f=o[0].codigo;c=(parseInt(f.slice(-4))||0)+1}const d=c.toString().padStart(4,"0");return`${i}${d}`}catch(i){return console.error("Error generando cdigo:",i),"GEN0001"}},Uv=async(t,e)=>{try{const{data:r,error:i}=await t.from("productos").select("id").eq("codigo",e).limit(1);return i?(console.error("Error verificando cdigo:",i),!1):r.length===0}catch(r){return console.error("Error verificando cdigo:",r),!1}},Fv=async(t,e,r)=>{let i=0;const o=100;for(;i<o;){const c=await rA(t,e,r);if(await Uv(t,c))return c;const f=Fx(r),g=(parseInt(c.slice(-4))+i+1).toString().padStart(4,"0"),w=`${f}${g}`;if(await Uv(t,w))return w;i++}return`GEN${Date.now().toString().slice(-4)}`},nA=()=>{const[t,e]=K.useState([]),[r,i]=K.useState([]),[o,s]=K.useState(null),[c,d]=K.useState(""),[f,h]=K.useState(!0),[g,w]=K.useState(!1),[S,b]=K.useState(!1),[j,C]=K.useState(!1),[N,E]=K.useState(""),[R,B]=K.useState(null),[z,Q]=K.useState({codigo:"",nombre:"",descripcion:"",precio:"",categoria:"",iva:"21",codigoBarras:"",stock:"0",stockMinimo:"5"}),[ue,J]=K.useState({nombre:"",descripcion:"",icono:""});K.useEffect(()=>{se()},[]);const se=async()=>{h(!0);try{await Promise.all([U(),te()])}catch($){console.error("Error cargando datos:",$)}finally{h(!1)}},U=async()=>{const{data:$,error:re}=await Xe.from("productos").select(`
        *,
        categoria:categorias_productos(nombre)
      `).eq("activo",!0).order("codigo");if(re){console.error("Error cargando productos:",re);return}e($||[])},te=async()=>{const{data:$,error:re}=await Xe.from("categorias_productos").select("*").eq("activa",!0).order("nombre");if(re){console.error("Error cargando categoras:",re);return}i($||[])},M=t.filter($=>$.nombre.toLowerCase().includes(c.toLowerCase())||$.descripcion.toLowerCase().includes(c.toLowerCase())||$.categoria.toLowerCase().includes(c.toLowerCase())||$.codigoBarras.toLowerCase().includes(c.toLowerCase())),W=async $=>{var xe;const{name:re,value:ve}=$.target;if(re==="categoria"&&ve&&!((xe=z.codigo)!=null&&xe.trim())&&!o)try{const Ae=r.find(Pe=>Pe.id===parseInt(ve));if(Ae){const Pe=await Fv(Xe,parseInt(ve),Ae.nombre);Q(qe=>({...qe,[re]:ve,codigo:Pe}));return}}catch(Ae){console.error("Error generando cdigo sugerido:",Ae)}Q(Ae=>({...Ae,[re]:ve}))},oe=async $=>{var re;$.preventDefault(),h(!0);try{const ve={nombre:z.nombre,descripcion:z.descripcion,precio:parseFloat(z.precio)||0,iva:parseFloat(z.iva)||21,stock:parseInt(z.stock)||0,stock_minimo:parseInt(z.stockMinimo)||5,categoria_id:parseInt(z.categoria)||null};if(o){const{error:Ae}=await Xe.from("productos").update(ve).eq("id",o.id);if(Ae)throw Ae}else{let Ae=(re=z.codigo)==null?void 0:re.trim();if(!Ae){let qe="general";if(ve.categoria_id){const{data:Ge}=await Xe.from("categorias_productos").select("nombre").eq("id",ve.categoria_id).single();Ge&&(qe=Ge.nombre)}Ae=await Fv(Xe,ve.categoria_id,qe)}ve.codigo=Ae;const{error:Pe}=await Xe.from("productos").insert([ve]);if(Pe)throw Pe}await U();const xe=o!==null;je(),s(null),E(xe?"Producto actualizado correctamente":"Producto creado correctamente"),w(!0)}catch(ve){console.error("Error guardando producto:",ve),E("Error al guardar el producto: "+ve.message),b(!0)}finally{h(!1)}},ae=$=>{s($),Q({codigo:$.codigo||"",nombre:$.nombre||"",descripcion:$.descripcion||"",precio:$.precio?$.precio.toString():"",categoria:$.categoria_id?$.categoria_id.toString():"",iva:$.iva?$.iva.toString():"21",codigoBarras:$.codigo_barras||"",stock:$.stock?$.stock.toString():"0",stockMinimo:$.stock_minimo?$.stock_minimo.toString():"5"})},be=$=>{const re=t.find(ve=>ve.id===$);B(re),E(`Ests seguro de que quieres eliminar el producto "${re==null?void 0:re.nombre}"?`),C(!0)},ne=async()=>{if(R){h(!0),C(!1);try{const{error:$}=await Xe.from("productos").update({activo:!1}).eq("id",R.id);if($)throw $;await U(),E("Producto eliminado correctamente"),w(!0)}catch($){console.error("Error eliminando producto:",$),E("Error al eliminar el producto: "+$.message),b(!0)}finally{h(!1),B(null)}}},he=()=>{C(!1),B(null),E("")},ce=()=>{s(null),je()},je=()=>{Q({codigo:"",nombre:"",descripcion:"",precio:"",categoria:"",iva:"21",codigoBarras:"",stock:"0",stockMinimo:"5"})},O=$=>{const{name:re,value:ve}=$.target;J(xe=>({...xe,[re]:ve}))},ie=async $=>{$.preventDefault(),h(!0);try{const{error:re}=await Xe.from("categorias_productos").insert([{nombre:ue.nombre,descripcion:ue.descripcion,icono:ue.icono,activa:!0}]);if(re)throw re;await te(),J({nombre:"",descripcion:"",icono:""}),E("Categora creada correctamente"),w(!0)}catch(re){console.error("Error guardando categora:",re),E("Error al crear la categora: "+re.message),b(!0)}finally{h(!1)}},L=()=>{w(!1),E("")},H=()=>{b(!1),E("")},Y={totalProductos:t.length,valorInventario:t.reduce(($,re)=>$+re.precio*re.stock,0),stockBajo:t.filter($=>$.stock<=$.stock_minimo).length,categorias:r.length};return{productos:M,categorias:r,productoEditando:o,busqueda:c,setBusqueda:d,formulario:z,formularioCategoria:ue,cargando:f,manejarCambio:W,manejarCambioCategoria:O,guardarProducto:oe,guardarCategoria:ie,editarProducto:ae,eliminarProducto:be,cancelarEdicion:ce,cargarDatos:se,estadisticas:Y,mostrarModalExito:g,mostrarModalError:S,mostrarModalConfirmacion:j,mensajeModal:N,cerrarModalExito:L,cerrarModalError:H,confirmarEliminacion:ne,cancelarEliminacion:he}},iA=(t,e=null)=>{try{const r=Oj(t);return r.valido||pn("VALIDACION_PRODUCTO_FALLIDA",e,{errores:r.errores,producto:t}),r}catch(r){return pn("ERROR_VALIDACION_PRODUCTO",e,{error:r.message}),{valido:!1,errores:{general:"Error en la validacin del producto"},datosSanitizados:{}}}},aA=(t,e=null)=>{const r={valido:!0,errores:{},datosSanitizados:{}};try{if(!t.productos||!Array.isArray(t.productos)||t.productos.length===0)return r.valido=!1,r.errores.productos="Debe incluir al menos un producto",r;const i=[];for(let s=0;s<t.productos.length;s++){const c=t.productos[s],d=iA(c,e);d.valido?i.push(d.datosSanitizados):(r.valido=!1,r.errores[`producto_${s}`]=d.errores)}r.datosSanitizados.productos=i,!t.totales||typeof t.totales!="object"?(r.valido=!1,r.errores.totales="Los totales son requeridos"):(r.datosSanitizados.totales={subtotal:Ds(t.totales.subtotal),totalDescuentos:Ds(t.totales.totalDescuentos),totalIva:Ds(t.totales.totalIva),total:Ds(t.totales.total)},r.datosSanitizados.totales.total<=0&&(r.valido=!1,r.errores.total="El total debe ser mayor que 0"));const o=["efectivo","tarjeta","transferencia","mixto"];if(!t.metodoPago||!o.includes(t.metodoPago)?(r.valido=!1,r.errores.metodoPago="Mtodo de pago no vlido"):r.datosSanitizados.metodoPago=t.metodoPago,t.cliente&&(!t.cliente.id||typeof t.cliente.id!="number"?(r.valido=!1,r.errores.cliente="ID de cliente no vlido"):r.datosSanitizados.cliente={id:parseInt(t.cliente.id),nombre:Sf(t.cliente.nombre||""),nif:Sf(t.cliente.nif||""),telefono:Sf(t.cliente.telefono||"")}),t.descuentoGeneral!==void 0){const s=Ds(t.descuentoGeneral);s<0||s>100?(r.valido=!1,r.errores.descuentoGeneral="El descuento debe estar entre 0 y 100"):r.datosSanitizados.descuentoGeneral=s}return r.valido?pn("VENTA_VALIDADA_CORRECTAMENTE",e,{total:r.datosSanitizados.totales.total,productos:r.datosSanitizados.productos.length}):pn("VALIDACION_VENTA_FALLIDA",e,{errores:r.errores,venta:t}),r}catch(i){return pn("ERROR_VALIDACION_VENTA",e,{error:i.message}),{valido:!1,errores:{general:"Error en la validacin de la venta"},datosSanitizados:{}}}},z0=t=>t?t.codigo&&t.codigo.trim()?t.codigo.trim():t.id?`000${t.id}`:"TEMP":"N/A",R1=t=>t?t.codigo&&t.codigo.trim()?t.codigo.trim():t.id&&typeof t.id=="number"&&t.id<=999999999?`000${t.id}`:"MANUAL":"N/A",oA=()=>{const[t,e]=K.useState(!1),[r,i]=K.useState("efectivo"),[o,s]=K.useState(!1),[c,d]=K.useState(!1),[f,h]=K.useState(!1),[g,w]=K.useState("");return{mostrarVentaModal:t,metodoPago:r,setMetodoPago:i,procesandoVenta:o,procesarVenta:E=>{E.length!==0&&e(!0)},confirmarVenta:async(E,R)=>{var B;s(!0);try{const z=aA({...E,metodoPago:r});if(!z.valido){console.error("Datos de venta no vlidos:",z.errores),w("Error en los datos de la venta: "+Object.values(z.errores).join(", ")),h(!0);return}const Q=z.datosSanitizados,ue={cliente_id:((B=Q.cliente)==null?void 0:B.id)||null,subtotal:Q.totales.subtotal,descuento:Q.totales.totalDescuentos,impuestos:Q.totales.totalIva,total:Q.totales.total,metodo_pago:Q.metodoPago,estado:"completada",notas:Q.cliente?`Venta a ${Q.cliente.nombre}`:"Venta a Cliente General"},{data:J,error:se}=await Xe.from("ventas").insert([ue]).select().single();if(se)throw se;console.log("=== Productos a guardar en detalles_venta ==="),Q.productos.forEach((M,W)=>{console.log(`Producto #${W+1}:`,{id:M.id,codigo:M.codigo,nombre:M.nombre,resultadoCodigo:z0(M)})});const U=Q.productos.map(M=>({venta_id:J.id,cantidad:M.cantidad,precio_unitario:M.precio,iva_porcentaje:M.iva,subtotal:M.cantidad*M.precio,nombre_producto:M.nombre,codigo_producto:z0(M)})),{error:te}=await Xe.from("detalles_venta").insert(U);if(te)throw te;R(),e(!1),w(`Venta procesada correctamente
Total: ${E.totales.total.toFixed(2)}
Mtodo: ${r.charAt(0).toUpperCase()+r.slice(1)}`),d(!0)}catch(z){console.error("Error procesando venta:",z),w("Error al procesar la venta: "+z.message),h(!0)}finally{s(!1)}},cancelarVenta:()=>{e(!1)},mostrarModalExito:c,mostrarModalError:f,mensajeModal:g,cerrarModalExito:()=>{d(!1),w("")},cerrarModalError:()=>{h(!1),w("")}}},sA=(t=null)=>{const[e,r]=K.useState(t||Iv()),[i,o]=K.useState({}),[s,c]=K.useState(!1),[d,f]=K.useState(!1),[h,g]=K.useState(""),w=R=>{r({...e,[R.target.name]:R.target.value})},S=R=>{o({...i,[R.target.name]:!0})},b=()=>{r(Iv()),o({}),c(!1),g("")},j=async()=>{c(!0),g("");const R=T1(e);if(!R.esValido)return{success:!1,errores:R.errores};f(!0);try{const B=R.datosSanitizados,{error:z}=await Xe.from("clientes").insert([{nombre:B.nombre,apellidos:B.apellidos||null,telefono:B.telefono,nif:B.nif||null,direccion:B.direccion||null,correo:B.correo||null}]);return z?(g("Error al insertar el cliente."),{success:!1,error:z.message}):(g("Cliente insertado correctamente."),b(),{success:!0})}catch(B){return g("Error inesperado al guardar."),{success:!1,error:B.message}}finally{f(!1)}},C=async R=>{c(!0),g("");const B=T1(e);if(!B.esValido)return{success:!1,errores:B.errores};f(!0);try{const z=B.datosSanitizados,{error:Q}=await Xe.from("clientes").update({nombre:z.nombre,apellidos:z.apellidos||null,telefono:z.telefono,nif:z.nif||null,direccion:z.direccion||null,correo:z.correo||null}).eq("id",R);return Q?(g("Error al actualizar el cliente."),{success:!1,error:Q.message}):(g("Cliente actualizado correctamente."),{success:!0})}catch(z){return g("Error inesperado al actualizar."),{success:!1,error:z.message}}finally{f(!1)}},N=T1(e),E=s?N.errores:{};return{form:e,setForm:r,touched:i,loading:d,mensaje:h,errores:E,handleChange:w,handleBlur:S,resetForm:b,insertarCliente:j,actualizarCliente:C,submitted:s}},lA=()=>{const[t,e]=K.useState([]),[r,i]=K.useState(!0),[o,s]=K.useState(""),c=async()=>{i(!0);try{const{data:g,error:w}=await Xe.from("usuarios").select("*").order("nombre",{ascending:!0});w?(s("Error al cargar usuarios"),console.error(w)):e(g||[])}catch(g){s("Error inesperado al cargar usuarios"),console.error(g)}finally{i(!1)}},d=async g=>{try{const{error:w}=await Xe.from("usuarios").delete().eq("id",g);return w?(s("Error al eliminar usuario"),{success:!1,error:w.message}):(s("Usuario eliminado correctamente"),await c(),{success:!0})}catch(w){return s("Error inesperado al eliminar usuario"),{success:!1,error:w.message}}},f=async g=>{try{const{data:w,error:S}=await Xe.auth.admin.createUser({email:g.email,password:g.password,email_confirm:!0});if(S)return{success:!1,error:S.message};const{error:b}=await Xe.from("usuarios").insert([{nombre:g.nombre,correo:g.email,rol:g.rol,auth_id:w.user.id}]);return b?{success:!1,error:b.message}:(await c(),{success:!0})}catch(w){return{success:!1,error:w.message}}},h=async(g,w)=>{try{const{error:S}=await Xe.from("usuarios").update(w).eq("id",g);return S?{success:!1,error:S.message}:(await c(),{success:!0})}catch(S){return{success:!1,error:S.message}}};return K.useEffect(()=>{c()},[]),{usuarios:t,loading:r,mensaje:o,fetchUsuarios:c,eliminarUsuario:d,crearUsuario:f,actualizarUsuario:h}},cA=()=>{const{id:t}=Kg(),[e,r]=K.useState(null),[i,o]=K.useState([]),[s,c]=K.useState([]),[d,f]=K.useState(!0);return K.useEffect(()=>{async function h(){try{const{data:g,error:w}=await Xe.from("clientes").select("*").eq("id",t).single();if(w){console.error("Error al obtener cliente:",w);return}r(g);const{data:S,error:b}=await Xe.from("reparaciones").select("*").eq("idcliente",t);b?console.error("Error al obtener reparaciones:",b):o(S||[]);const{data:j,error:C}=await Xe.from("ventas").select("*").eq("cliente_id",t).order("fecha_venta",{ascending:!1});C?console.error("Error al obtener ventas:",C):c(j||[])}catch(g){console.error("Error inesperado:",g)}finally{f(!1)}}t&&h()},[t]),{cliente:e,reparaciones:i,ventas:s,loading:d,clienteId:t}},uA=()=>{const[t,e]=K.useState([]),[r,i]=K.useState(!0),[o,s]=K.useState({fechaInicio:"",fechaFin:"",metodoPago:"",minImporte:"",maxImporte:""}),c=async()=>{i(!0);try{const{data:g,error:w}=await Xe.from("ventas").select(`
          id,
          subtotal,
          descuento,
          impuestos,
          total,
          metodo_pago,
          estado,
          notas,
          created_at,
          cliente_id,
          clientes (
            nombre,
            apellidos,
            nif,
            telefono,
            correo,
            direccion
          ),
          detalles_venta (
            cantidad,
            precio_unitario,
            iva_porcentaje,
            subtotal,
            nombre_producto,
            codigo_producto
          )
        `).order("created_at",{ascending:!1});if(w)throw w;const S=g.map((b,j)=>({id:b.id,numero:"V2024-"+String(b.id).padStart(3,"0"),fecha:b.created_at,cliente_id:b.cliente_id,cliente:b.clientes?b.clientes:"Cliente General",productos:b.detalles_venta.map(C=>({nombre:C.nombre_producto,codigo:C.codigo_producto,cantidad:C.cantidad,precio:C.precio_unitario})),subtotal:b.subtotal,iva:b.impuestos,total:b.total,metodoPago:b.metodo_pago,descuentos:b.descuento}));e(S)}catch(g){console.error("Error cargando ventas:",g)}finally{i(!1)}};K.useEffect(()=>{c()},[]);const d=t.filter(g=>{const w=new Date(g.fecha),S=o.fechaInicio?new Date(o.fechaInicio):null,b=o.fechaFin?new Date(o.fechaFin):null;return!(S&&w<S||b&&w>b||o.metodoPago&&g.metodoPago!==o.metodoPago||o.minImporte&&g.total<parseFloat(o.minImporte)||o.maxImporte&&g.total>parseFloat(o.maxImporte))}),f={totalVentas:d.length,importeTotal:d.reduce((g,w)=>g+w.total,0),ticketPromedio:d.length>0?d.reduce((g,w)=>g+w.total,0)/d.length:0,efectivo:d.filter(g=>g.metodoPago==="efectivo").reduce((g,w)=>g+w.total,0)};return{ventas:d,filtros:o,estadisticas:f,loading:r,actualizarFiltros:g=>{s({...o,...g})},recargarVentas:c}},P1=t=>({bizum:"Bizum",efectivo:"Efectivo",mixto:"Mixto",tarjeta:"Tarjeta",transferencia:"Transferencia"})[t]||t;function dA({columns:t=[],data:e=[],loading:r=!1,onEdit:i,onDelete:o,iconEdit:s,iconDelete:c,emptyMsg:d="No hay registros."}){return p.jsx(Ul,{children:p.jsxs(Fl,{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[t.map(f=>p.jsx("th",{children:f.label},f.key)),(i||o)&&p.jsx("th",{children:"Acciones"})]})}),p.jsxs("tbody",{children:[r&&p.jsx("tr",{children:p.jsx("td",{colSpan:t.length+1,style:{textAlign:"center"},children:"Cargando..."})}),!r&&e.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:t.length+1,style:{textAlign:"center",color:"#607074"},children:d})}),e.map(f=>p.jsxs("tr",{children:[t.map(h=>h.key==="nombre"?p.jsx(V7,{children:f[h.key]},h.key):h.key==="rol"?p.jsx(Y7,{children:f[h.key]},h.key):p.jsx("td",{children:f[h.key]},h.key)),(i||o)&&p.jsx(G7,{children:f.rol!=="admin"&&p.jsxs(p.Fragment,{children:[i&&s&&p.jsx(D0,{title:"Editar",onClick:()=>i(f),children:p.jsx(s,{})}),o&&c&&p.jsx(D0,{title:"Eliminar",eliminar:!0,onClick:()=>o(f),children:p.jsx(c,{})})]})})]},f.id))]})]})})}function ep({busqueda:t,setBusqueda:e,placeholder:r="Buscar por nombre o NIF...",soloInput:i=!1}){return p.jsxs(Ij,{children:[p.jsx(dx,{className:"icono-lupa"}),p.jsx("input",{type:"text",placeholder:r,value:t,onChange:o=>e(o.target.value)})]})}function fA({cliente:t}){return t?p.jsxs(n7,{children:[p.jsxs("h2",{children:[t.nombre," ",t.apellidos]}),p.jsxs("p",{children:[p.jsx("b",{children:"NIF:"})," ",t.nif]}),p.jsxs("p",{children:[p.jsx("b",{children:"Telfono:"})," ",t.telefono]}),p.jsxs("p",{children:[p.jsx("b",{children:"Correo:"})," ",t.correo]}),p.jsxs("p",{children:[p.jsx("b",{children:"Direccin:"})," ",t.direccion]})]}):null}function _r(t){"@babel/helpers - typeof";return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(t)}var vo=Uint8Array,ga=Uint16Array,pm=Int32Array,gm=new vo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mm=new vo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qv=new vo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qx=function(t,e){for(var r=new ga(31),i=0;i<31;++i)r[i]=e+=1<<t[i-1];for(var o=new pm(r[30]),i=1;i<30;++i)for(var s=r[i];s<r[i+1];++s)o[s]=s-r[i]<<5|i;return{b:r,r:o}},Hx=qx(gm,2),hA=Hx.b,Lg=Hx.r;hA[28]=258,Lg[258]=28;var pA=qx(mm,0),Hv=pA.r,Tg=new ga(32768);for(var $r=0;$r<32768;++$r){var Ol=($r&43690)>>1|($r&21845)<<1;Ol=(Ol&52428)>>2|(Ol&13107)<<2,Ol=(Ol&61680)>>4|(Ol&3855)<<4,Tg[$r]=((Ol&65280)>>8|(Ol&255)<<8)>>1}var _f=function(t,e,r){for(var i=t.length,o=0,s=new ga(e);o<i;++o)t[o]&&++s[t[o]-1];var c=new ga(e);for(o=1;o<e;++o)c[o]=c[o-1]+s[o-1]<<1;var d;if(r){d=new ga(1<<e);var f=15-e;for(o=0;o<i;++o)if(t[o])for(var h=o<<4|t[o],g=e-t[o],w=c[t[o]-1]++<<g,S=w|(1<<g)-1;w<=S;++w)d[Tg[w]>>f]=h}else for(d=new ga(i),o=0;o<i;++o)t[o]&&(d[o]=Tg[c[t[o]-1]++]>>15-t[o]);return d},Pc=new vo(288);for(var $r=0;$r<144;++$r)Pc[$r]=8;for(var $r=144;$r<256;++$r)Pc[$r]=9;for(var $r=256;$r<280;++$r)Pc[$r]=7;for(var $r=280;$r<288;++$r)Pc[$r]=8;var M0=new vo(32);for(var $r=0;$r<32;++$r)M0[$r]=5;var gA=_f(Pc,9,0),mA=_f(M0,5,0),$x=function(t){return(t+7)/8|0},vA=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new vo(t.subarray(e,r))},Ls=function(t,e,r){r<<=e&7;var i=e/8|0;t[i]|=r,t[i+1]|=r>>8},pf=function(t,e,r){r<<=e&7;var i=e/8|0;t[i]|=r,t[i+1]|=r>>8,t[i+2]|=r>>16},D1=function(t,e){for(var r=[],i=0;i<t.length;++i)t[i]&&r.push({s:i,f:t[i]});var o=r.length,s=r.slice();if(!o)return{t:Gx,l:0};if(o==1){var c=new vo(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(Q,ue){return Q.f-ue.f}),r.push({s:-1,f:25001});var d=r[0],f=r[1],h=0,g=1,w=2;for(r[0]={s:-1,f:d.f+f.f,l:d,r:f};g!=o-1;)d=r[r[h].f<r[w].f?h++:w++],f=r[h!=g&&r[h].f<r[w].f?h++:w++],r[g++]={s:-1,f:d.f+f.f,l:d,r:f};for(var S=s[0].s,i=1;i<o;++i)s[i].s>S&&(S=s[i].s);var b=new ga(S+1),j=Og(r[g-1],b,0);if(j>e){var i=0,C=0,N=j-e,E=1<<N;for(s.sort(function(ue,J){return b[J.s]-b[ue.s]||ue.f-J.f});i<o;++i){var R=s[i].s;if(b[R]>e)C+=E-(1<<j-b[R]),b[R]=e;else break}for(C>>=N;C>0;){var B=s[i].s;b[B]<e?C-=1<<e-b[B]++-1:++i}for(;i>=0&&C;--i){var z=s[i].s;b[z]==e&&(--b[z],++C)}j=e}return{t:new vo(b),l:j}},Og=function(t,e,r){return t.s==-1?Math.max(Og(t.l,e,r+1),Og(t.r,e,r+1)):e[t.s]=r},$v=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ga(++e),i=0,o=t[0],s=1,c=function(f){r[i++]=f},d=1;d<=e;++d)if(t[d]==o&&d!=e)++s;else{if(!o&&s>2){for(;s>138;s-=138)c(32754);s>2&&(c(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(c(o),--s;s>6;s-=6)c(8304);s>2&&(c(s-3<<5|8208),s=0)}for(;s--;)c(o);s=1,o=t[d]}return{c:r.subarray(0,i),n:e}},gf=function(t,e){for(var r=0,i=0;i<e.length;++i)r+=t[i]*e[i];return r},Wx=function(t,e,r){var i=r.length,o=$x(e+2);t[o]=i&255,t[o+1]=i>>8,t[o+2]=t[o]^255,t[o+3]=t[o+1]^255;for(var s=0;s<i;++s)t[o+s+4]=r[s];return(o+4+i)*8},Wv=function(t,e,r,i,o,s,c,d,f,h,g){Ls(e,g++,r),++o[256];for(var w=D1(o,15),S=w.t,b=w.l,j=D1(s,15),C=j.t,N=j.l,E=$v(S),R=E.c,B=E.n,z=$v(C),Q=z.c,ue=z.n,J=new ga(19),se=0;se<R.length;++se)++J[R[se]&31];for(var se=0;se<Q.length;++se)++J[Q[se]&31];for(var U=D1(J,7),te=U.t,M=U.l,W=19;W>4&&!te[qv[W-1]];--W);var oe=h+5<<3,ae=gf(o,Pc)+gf(s,M0)+c,be=gf(o,S)+gf(s,C)+c+14+3*W+gf(J,te)+2*J[16]+3*J[17]+7*J[18];if(f>=0&&oe<=ae&&oe<=be)return Wx(e,g,t.subarray(f,f+h));var ne,he,ce,je;if(Ls(e,g,1+(be<ae)),g+=2,be<ae){ne=_f(S,b,0),he=S,ce=_f(C,N,0),je=C;var O=_f(te,M,0);Ls(e,g,B-257),Ls(e,g+5,ue-1),Ls(e,g+10,W-4),g+=14;for(var se=0;se<W;++se)Ls(e,g+3*se,te[qv[se]]);g+=3*W;for(var ie=[R,Q],L=0;L<2;++L)for(var H=ie[L],se=0;se<H.length;++se){var Y=H[se]&31;Ls(e,g,O[Y]),g+=te[Y],Y>15&&(Ls(e,g,H[se]>>5&127),g+=H[se]>>12)}}else ne=gA,he=Pc,ce=mA,je=M0;for(var se=0;se<d;++se){var $=i[se];if($>255){var Y=$>>18&31;pf(e,g,ne[Y+257]),g+=he[Y+257],Y>7&&(Ls(e,g,$>>23&31),g+=gm[Y]);var re=$&31;pf(e,g,ce[re]),g+=je[re],re>3&&(pf(e,g,$>>5&8191),g+=mm[re])}else pf(e,g,ne[$]),g+=he[$]}return pf(e,g,ne[256]),g+he[256]},bA=new pm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Gx=new vo(0),yA=function(t,e,r,i,o,s){var c=s.z||t.length,d=new vo(i+c+5*(1+Math.ceil(c/7e3))+o),f=d.subarray(i,d.length-o),h=s.l,g=(s.r||0)&7;if(e){g&&(f[0]=s.r>>3);for(var w=bA[e-1],S=w>>13,b=w&8191,j=(1<<r)-1,C=s.p||new ga(32768),N=s.h||new ga(j+1),E=Math.ceil(r/3),R=2*E,B=function(Re){return(t[Re]^t[Re+1]<<E^t[Re+2]<<R)&j},z=new pm(25e3),Q=new ga(288),ue=new ga(32),J=0,se=0,U=s.i||0,te=0,M=s.w||0,W=0;U+2<c;++U){var oe=B(U),ae=U&32767,be=N[oe];if(C[ae]=be,N[oe]=ae,M<=U){var ne=c-U;if((J>7e3||te>24576)&&(ne>423||!h)){g=Wv(t,f,0,z,Q,ue,se,te,W,U-W,g),te=J=se=0,W=U;for(var he=0;he<286;++he)Q[he]=0;for(var he=0;he<30;++he)ue[he]=0}var ce=2,je=0,O=b,ie=ae-be&32767;if(ne>2&&oe==B(U-ie))for(var L=Math.min(S,ne)-1,H=Math.min(32767,U),Y=Math.min(258,ne);ie<=H&&--O&&ae!=be;){if(t[U+ce]==t[U+ce-ie]){for(var $=0;$<Y&&t[U+$]==t[U+$-ie];++$);if($>ce){if(ce=$,je=ie,$>L)break;for(var re=Math.min(ie,$-2),ve=0,he=0;he<re;++he){var xe=U-ie+he&32767,Ae=C[xe],Pe=xe-Ae&32767;Pe>ve&&(ve=Pe,be=xe)}}}ae=be,be=C[ae],ie+=ae-be&32767}if(je){z[te++]=268435456|Lg[ce]<<18|Hv[je];var qe=Lg[ce]&31,Ge=Hv[je]&31;se+=gm[qe]+mm[Ge],++Q[257+qe],++ue[Ge],M=U+ce,++J}else z[te++]=t[U],++Q[t[U]]}}for(U=Math.max(U,M);U<c;++U)z[te++]=t[U],++Q[t[U]];g=Wv(t,f,h,z,Q,ue,se,te,W,U-W,g),h||(s.r=g&7|f[g/8|0]<<3,g-=7,s.h=N,s.p=C,s.i=U,s.w=M)}else{for(var U=s.w||0;U<c+h;U+=65535){var Ke=U+65535;Ke>=c&&(f[g/8|0]=h,Ke=c),g=Wx(f,g+1,t.subarray(U,Ke))}s.i=c}return vA(d,0,i+$x(g)+o)},Vx=function(){var t=1,e=0;return{p:function(r){for(var i=t,o=e,s=r.length|0,c=0;c!=s;){for(var d=Math.min(c+2655,s);c<d;++c)o+=i+=r[c];i=(i&65535)+15*(i>>16),o=(o&65535)+15*(o>>16)}t=i,e=o},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},xA=function(t,e,r,i,o){if(!o&&(o={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),c=new vo(s.length+t.length);c.set(s),c.set(t,s.length),t=c,o.w=s.length}return yA(t,e.level==null?6:e.level,e.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,i,o)},Yx=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},wA=function(t,e){var r=e.level,i=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var o=Vx();o.p(e.dictionary),Yx(t,2,o.d())}};function Rg(t,e){e||(e={});var r=Vx();r.p(t);var i=xA(t,e,e.dictionary?6:2,4);return wA(i,e),Yx(i,i.length-4,r.d()),i}var SA=typeof TextDecoder<"u"&&new TextDecoder,_A=0;try{SA.decode(Gx,{stream:!0}),_A=1}catch{}function jA(t){if(Array.isArray(t))return t}function AA(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var i,o,s,c,d=[],f=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(f=(i=s.call(r)).done)&&(d.push(i.value),d.length!==e);f=!0);}catch(g){h=!0,o=g}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw o}}return d}}function Gv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}function CA(t,e){if(t){if(typeof t=="string")return Gv(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gv(t,e):void 0}}function kA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vv(t,e){return jA(t)||AA(t,e)||CA(t,e)||kA()}function Yv(t,e="utf8"){return new TextDecoder(e).decode(t)}const EA=new TextEncoder;function NA(t){return EA.encode(t)}const LA=1024*8,TA=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),z1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class vm{constructor(e=LA,r={}){Sr(this,"buffer");Sr(this,"byteLength");Sr(this,"byteOffset");Sr(this,"length");Sr(this,"offset");Sr(this,"lastWrittenByte");Sr(this,"littleEndian");Sr(this,"_data");Sr(this,"_mark");Sr(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const o=r.offset?r.offset>>>0:0,s=e.byteLength-o;let c=o;(ArrayBuffer.isView(e)||e instanceof vm)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+o),e=e.buffer),i?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,o=new Uint8Array(i);o.set(new Uint8Array(this.buffer)),this.buffer=o.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const i=z1[r].BYTES_PER_ELEMENT*e,o=this.byteOffset+this.offset,s=this.buffer.slice(o,o+i);if(this.littleEndian===TA&&r!=="uint8"&&r!=="int8"){const d=new Uint8Array(this.buffer.slice(o,o+i));d.reverse();const f=new z1[r](d.buffer);return this.offset+=i,f.reverse(),f}const c=new z1[r](s);return this.offset+=i,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let i=0;i<e;i++)r+=this.readChar();return r}readUtf8(e=1){return Yv(this.readBytes(e))}decodeText(e=1,r="utf8"){return Yv(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(NA(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function bd(t){let e=t.length;for(;--e>=0;)t[e]=0}const OA=3,RA=258,Kx=29,PA=256,DA=PA+1+Kx,Xx=30,zA=512,MA=new Array((DA+2)*2);bd(MA);const BA=new Array(Xx*2);bd(BA);const IA=new Array(zA);bd(IA);const UA=new Array(RA-OA+1);bd(UA);const FA=new Array(Kx);bd(FA);const qA=new Array(Xx);bd(qA);const HA=(t,e,r,i)=>{let o=t&65535|0,s=t>>>16&65535|0,c=0;for(;r!==0;){c=r>2e3?2e3:r,r-=c;do o=o+e[i++]|0,s=s+o|0;while(--c);o%=65521,s%=65521}return o|s<<16|0};var Pg=HA;const $A=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},WA=new Uint32Array($A()),GA=(t,e,r,i)=>{const o=WA,s=i+r;t^=-1;for(let c=i;c<s;c++)t=t>>>8^o[(t^e[c])&255];return t^-1};var Ko=GA,Dg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zx={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const VA=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var YA=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const i in r)VA(r,i)&&(t[i]=r[i])}}return t},KA=t=>{let e=0;for(let i=0,o=t.length;i<o;i++)e+=t[i].length;const r=new Uint8Array(e);for(let i=0,o=0,s=t.length;i<s;i++){let c=t[i];r.set(c,o),o+=c.length}return r},Jx={assign:YA,flattenChunks:KA};let Qx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Qx=!1}const Lf=new Uint8Array(256);for(let t=0;t<256;t++)Lf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Lf[254]=Lf[254]=1;var XA=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,i,o,s,c=t.length,d=0;for(o=0;o<c;o++)r=t.charCodeAt(o),(r&64512)===55296&&o+1<c&&(i=t.charCodeAt(o+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),o++)),d+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(d),s=0,o=0;s<d;o++)r=t.charCodeAt(o),(r&64512)===55296&&o+1<c&&(i=t.charCodeAt(o+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),o++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const ZA=(t,e)=>{if(e<65534&&t.subarray&&Qx)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let i=0;i<e;i++)r+=String.fromCharCode(t[i]);return r};var JA=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,o;const s=new Array(r*2);for(o=0,i=0;i<r;){let c=t[i++];if(c<128){s[o++]=c;continue}let d=Lf[c];if(d>4){s[o++]=65533,i+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&i<r;)c=c<<6|t[i++]&63,d--;if(d>1){s[o++]=65533;continue}c<65536?s[o++]=c:(c-=65536,s[o++]=55296|c>>10&1023,s[o++]=56320|c&1023)}return ZA(s,o)},QA=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Lf[t[r]]>e?r:e},zg={string2buf:XA,buf2string:JA,utf8border:QA};function eC(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var tC=eC;const Xh=16209,rC=16191;var nC=function(e,r){let i,o,s,c,d,f,h,g,w,S,b,j,C,N,E,R,B,z,Q,ue,J,se,U,te;const M=e.state;i=e.next_in,U=e.input,o=i+(e.avail_in-5),s=e.next_out,te=e.output,c=s-(r-e.avail_out),d=s+(e.avail_out-257),f=M.dmax,h=M.wsize,g=M.whave,w=M.wnext,S=M.window,b=M.hold,j=M.bits,C=M.lencode,N=M.distcode,E=(1<<M.lenbits)-1,R=(1<<M.distbits)-1;e:do{j<15&&(b+=U[i++]<<j,j+=8,b+=U[i++]<<j,j+=8),B=C[b&E];t:for(;;){if(z=B>>>24,b>>>=z,j-=z,z=B>>>16&255,z===0)te[s++]=B&65535;else if(z&16){Q=B&65535,z&=15,z&&(j<z&&(b+=U[i++]<<j,j+=8),Q+=b&(1<<z)-1,b>>>=z,j-=z),j<15&&(b+=U[i++]<<j,j+=8,b+=U[i++]<<j,j+=8),B=N[b&R];r:for(;;){if(z=B>>>24,b>>>=z,j-=z,z=B>>>16&255,z&16){if(ue=B&65535,z&=15,j<z&&(b+=U[i++]<<j,j+=8,j<z&&(b+=U[i++]<<j,j+=8)),ue+=b&(1<<z)-1,ue>f){e.msg="invalid distance too far back",M.mode=Xh;break e}if(b>>>=z,j-=z,z=s-c,ue>z){if(z=ue-z,z>g&&M.sane){e.msg="invalid distance too far back",M.mode=Xh;break e}if(J=0,se=S,w===0){if(J+=h-z,z<Q){Q-=z;do te[s++]=S[J++];while(--z);J=s-ue,se=te}}else if(w<z){if(J+=h+w-z,z-=w,z<Q){Q-=z;do te[s++]=S[J++];while(--z);if(J=0,w<Q){z=w,Q-=z;do te[s++]=S[J++];while(--z);J=s-ue,se=te}}}else if(J+=w-z,z<Q){Q-=z;do te[s++]=S[J++];while(--z);J=s-ue,se=te}for(;Q>2;)te[s++]=se[J++],te[s++]=se[J++],te[s++]=se[J++],Q-=3;Q&&(te[s++]=se[J++],Q>1&&(te[s++]=se[J++]))}else{J=s-ue;do te[s++]=te[J++],te[s++]=te[J++],te[s++]=te[J++],Q-=3;while(Q>2);Q&&(te[s++]=te[J++],Q>1&&(te[s++]=te[J++]))}}else if((z&64)===0){B=N[(B&65535)+(b&(1<<z)-1)];continue r}else{e.msg="invalid distance code",M.mode=Xh;break e}break}}else if((z&64)===0){B=C[(B&65535)+(b&(1<<z)-1)];continue t}else if(z&32){M.mode=rC;break e}else{e.msg="invalid literal/length code",M.mode=Xh;break e}break}}while(i<o&&s<d);Q=j>>3,i-=Q,j-=Q<<3,b&=(1<<j)-1,e.next_in=i,e.next_out=s,e.avail_in=i<o?5+(o-i):5-(i-o),e.avail_out=s<d?257+(d-s):257-(s-d),M.hold=b,M.bits=j};const Fu=15,Kv=852,Xv=592,Zv=0,M1=1,Jv=2,iC=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),aC=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),oC=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sC=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),lC=(t,e,r,i,o,s,c,d)=>{const f=d.bits;let h=0,g=0,w=0,S=0,b=0,j=0,C=0,N=0,E=0,R=0,B,z,Q,ue,J,se=null,U;const te=new Uint16Array(Fu+1),M=new Uint16Array(Fu+1);let W=null,oe,ae,be;for(h=0;h<=Fu;h++)te[h]=0;for(g=0;g<i;g++)te[e[r+g]]++;for(b=f,S=Fu;S>=1&&te[S]===0;S--);if(b>S&&(b=S),S===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,d.bits=1,0;for(w=1;w<S&&te[w]===0;w++);for(b<w&&(b=w),N=1,h=1;h<=Fu;h++)if(N<<=1,N-=te[h],N<0)return-1;if(N>0&&(t===Zv||S!==1))return-1;for(M[1]=0,h=1;h<Fu;h++)M[h+1]=M[h]+te[h];for(g=0;g<i;g++)e[r+g]!==0&&(c[M[e[r+g]]++]=g);if(t===Zv?(se=W=c,U=20):t===M1?(se=iC,W=aC,U=257):(se=oC,W=sC,U=0),R=0,g=0,h=w,J=s,j=b,C=0,Q=-1,E=1<<b,ue=E-1,t===M1&&E>Kv||t===Jv&&E>Xv)return 1;for(;;){oe=h-C,c[g]+1<U?(ae=0,be=c[g]):c[g]>=U?(ae=W[c[g]-U],be=se[c[g]-U]):(ae=96,be=0),B=1<<h-C,z=1<<j,w=z;do z-=B,o[J+(R>>C)+z]=oe<<24|ae<<16|be|0;while(z!==0);for(B=1<<h-1;R&B;)B>>=1;if(B!==0?(R&=B-1,R+=B):R=0,g++,--te[h]===0){if(h===S)break;h=e[r+c[g]]}if(h>b&&(R&ue)!==Q){for(C===0&&(C=b),J+=w,j=h-C,N=1<<j;j+C<S&&(N-=te[j+C],!(N<=0));)j++,N<<=1;if(E+=1<<j,t===M1&&E>Kv||t===Jv&&E>Xv)return 1;Q=R&ue,o[Q]=b<<24|j<<16|J-s|0}}return R!==0&&(o[J+R]=h-C<<24|64<<16|0),d.bits=b,0};var jf=lC;const cC=0,ew=1,tw=2,{Z_FINISH:Qv,Z_BLOCK:uC,Z_TREES:Zh,Z_OK:Dc,Z_STREAM_END:dC,Z_NEED_DICT:fC,Z_STREAM_ERROR:Ba,Z_DATA_ERROR:rw,Z_MEM_ERROR:nw,Z_BUF_ERROR:hC,Z_DEFLATED:eb}=Zx,tp=16180,tb=16181,rb=16182,nb=16183,ib=16184,ab=16185,ob=16186,sb=16187,lb=16188,cb=16189,B0=16190,Ts=16191,B1=16192,ub=16193,I1=16194,db=16195,fb=16196,hb=16197,pb=16198,Jh=16199,Qh=16200,gb=16201,mb=16202,vb=16203,bb=16204,yb=16205,U1=16206,xb=16207,wb=16208,en=16209,iw=16210,aw=16211,pC=852,gC=592,mC=15,vC=mC,Sb=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function bC(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Mc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<tp||e.mode>aw?1:0},ow=t=>{if(Mc(t))return Ba;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=tp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(pC),e.distcode=e.distdyn=new Int32Array(gC),e.sane=1,e.back=-1,Dc},sw=t=>{if(Mc(t))return Ba;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ow(t)},lw=(t,e)=>{let r;if(Mc(t))return Ba;const i=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ba:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,sw(t))},cw=(t,e)=>{if(!t)return Ba;const r=new bC;t.state=r,r.strm=t,r.window=null,r.mode=tp;const i=lw(t,e);return i!==Dc&&(t.state=null),i},yC=t=>cw(t,vC);let _b=!0,F1,q1;const xC=t=>{if(_b){F1=new Int32Array(512),q1=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(jf(ew,t.lens,0,288,F1,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;jf(tw,t.lens,0,32,q1,0,t.work,{bits:5}),_b=!1}t.lencode=F1,t.lenbits=9,t.distcode=q1,t.distbits=5},uw=(t,e,r,i)=>{let o;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(o=s.wsize-s.wnext,o>i&&(o=i),s.window.set(e.subarray(r-i,r-i+o),s.wnext),i-=o,i?(s.window.set(e.subarray(r-i,r),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0},wC=(t,e)=>{let r,i,o,s,c,d,f,h,g,w,S,b,j,C,N=0,E,R,B,z,Q,ue,J,se;const U=new Uint8Array(4);let te,M;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Mc(t)||!t.output||!t.input&&t.avail_in!==0)return Ba;r=t.state,r.mode===Ts&&(r.mode=B1),c=t.next_out,o=t.output,f=t.avail_out,s=t.next_in,i=t.input,d=t.avail_in,h=r.hold,g=r.bits,w=d,S=f,se=Dc;e:for(;;)switch(r.mode){case tp:if(r.wrap===0){r.mode=B1;break}for(;g<16;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,U[0]=h&255,U[1]=h>>>8&255,r.check=Ko(r.check,U,2,0),h=0,g=0,r.mode=tb;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=en;break}if((h&15)!==eb){t.msg="unknown compression method",r.mode=en;break}if(h>>>=4,g-=4,J=(h&15)+8,r.wbits===0&&(r.wbits=J),J>15||J>r.wbits){t.msg="invalid window size",r.mode=en;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=h&512?cb:Ts,h=0,g=0;break;case tb:for(;g<16;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}if(r.flags=h,(r.flags&255)!==eb){t.msg="unknown compression method",r.mode=en;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=en;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&(U[0]=h&255,U[1]=h>>>8&255,r.check=Ko(r.check,U,2,0)),h=0,g=0,r.mode=rb;case rb:for(;g<32;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&(U[0]=h&255,U[1]=h>>>8&255,U[2]=h>>>16&255,U[3]=h>>>24&255,r.check=Ko(r.check,U,4,0)),h=0,g=0,r.mode=nb;case nb:for(;g<16;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&(U[0]=h&255,U[1]=h>>>8&255,r.check=Ko(r.check,U,2,0)),h=0,g=0,r.mode=ib;case ib:if(r.flags&1024){for(;g<16;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&(U[0]=h&255,U[1]=h>>>8&255,r.check=Ko(r.check,U,2,0)),h=0,g=0}else r.head&&(r.head.extra=null);r.mode=ab;case ab:if(r.flags&1024&&(b=r.length,b>d&&(b=d),b&&(r.head&&(J=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(i.subarray(s,s+b),J)),r.flags&512&&r.wrap&4&&(r.check=Ko(r.check,i,b,s)),d-=b,s+=b,r.length-=b),r.length))break e;r.length=0,r.mode=ob;case ob:if(r.flags&2048){if(d===0)break e;b=0;do J=i[s+b++],r.head&&J&&r.length<65536&&(r.head.name+=String.fromCharCode(J));while(J&&b<d);if(r.flags&512&&r.wrap&4&&(r.check=Ko(r.check,i,b,s)),d-=b,s+=b,J)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=sb;case sb:if(r.flags&4096){if(d===0)break e;b=0;do J=i[s+b++],r.head&&J&&r.length<65536&&(r.head.comment+=String.fromCharCode(J));while(J&&b<d);if(r.flags&512&&r.wrap&4&&(r.check=Ko(r.check,i,b,s)),d-=b,s+=b,J)break e}else r.head&&(r.head.comment=null);r.mode=lb;case lb:if(r.flags&512){for(;g<16;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}if(r.wrap&4&&h!==(r.check&65535)){t.msg="header crc mismatch",r.mode=en;break}h=0,g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Ts;break;case cb:for(;g<32;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}t.adler=r.check=Sb(h),h=0,g=0,r.mode=B0;case B0:if(r.havedict===0)return t.next_out=c,t.avail_out=f,t.next_in=s,t.avail_in=d,r.hold=h,r.bits=g,fC;t.adler=r.check=1,r.mode=Ts;case Ts:if(e===uC||e===Zh)break e;case B1:if(r.last){h>>>=g&7,g-=g&7,r.mode=U1;break}for(;g<3;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}switch(r.last=h&1,h>>>=1,g-=1,h&3){case 0:r.mode=ub;break;case 1:if(xC(r),r.mode=Jh,e===Zh){h>>>=2,g-=2;break e}break;case 2:r.mode=fb;break;case 3:t.msg="invalid block type",r.mode=en}h>>>=2,g-=2;break;case ub:for(h>>>=g&7,g-=g&7;g<32;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=en;break}if(r.length=h&65535,h=0,g=0,r.mode=I1,e===Zh)break e;case I1:r.mode=db;case db:if(b=r.length,b){if(b>d&&(b=d),b>f&&(b=f),b===0)break e;o.set(i.subarray(s,s+b),c),d-=b,s+=b,f-=b,c+=b,r.length-=b;break}r.mode=Ts;break;case fb:for(;g<14;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}if(r.nlen=(h&31)+257,h>>>=5,g-=5,r.ndist=(h&31)+1,h>>>=5,g-=5,r.ncode=(h&15)+4,h>>>=4,g-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=en;break}r.have=0,r.mode=hb;case hb:for(;r.have<r.ncode;){for(;g<3;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}r.lens[W[r.have++]]=h&7,h>>>=3,g-=3}for(;r.have<19;)r.lens[W[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,te={bits:r.lenbits},se=jf(cC,r.lens,0,19,r.lencode,0,r.work,te),r.lenbits=te.bits,se){t.msg="invalid code lengths set",r.mode=en;break}r.have=0,r.mode=pb;case pb:for(;r.have<r.nlen+r.ndist;){for(;N=r.lencode[h&(1<<r.lenbits)-1],E=N>>>24,R=N>>>16&255,B=N&65535,!(E<=g);){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}if(B<16)h>>>=E,g-=E,r.lens[r.have++]=B;else{if(B===16){for(M=E+2;g<M;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}if(h>>>=E,g-=E,r.have===0){t.msg="invalid bit length repeat",r.mode=en;break}J=r.lens[r.have-1],b=3+(h&3),h>>>=2,g-=2}else if(B===17){for(M=E+3;g<M;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}h>>>=E,g-=E,J=0,b=3+(h&7),h>>>=3,g-=3}else{for(M=E+7;g<M;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}h>>>=E,g-=E,J=0,b=11+(h&127),h>>>=7,g-=7}if(r.have+b>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=en;break}for(;b--;)r.lens[r.have++]=J}}if(r.mode===en)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=en;break}if(r.lenbits=9,te={bits:r.lenbits},se=jf(ew,r.lens,0,r.nlen,r.lencode,0,r.work,te),r.lenbits=te.bits,se){t.msg="invalid literal/lengths set",r.mode=en;break}if(r.distbits=6,r.distcode=r.distdyn,te={bits:r.distbits},se=jf(tw,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,te),r.distbits=te.bits,se){t.msg="invalid distances set",r.mode=en;break}if(r.mode=Jh,e===Zh)break e;case Jh:r.mode=Qh;case Qh:if(d>=6&&f>=258){t.next_out=c,t.avail_out=f,t.next_in=s,t.avail_in=d,r.hold=h,r.bits=g,nC(t,S),c=t.next_out,o=t.output,f=t.avail_out,s=t.next_in,i=t.input,d=t.avail_in,h=r.hold,g=r.bits,r.mode===Ts&&(r.back=-1);break}for(r.back=0;N=r.lencode[h&(1<<r.lenbits)-1],E=N>>>24,R=N>>>16&255,B=N&65535,!(E<=g);){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}if(R&&(R&240)===0){for(z=E,Q=R,ue=B;N=r.lencode[ue+((h&(1<<z+Q)-1)>>z)],E=N>>>24,R=N>>>16&255,B=N&65535,!(z+E<=g);){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}h>>>=z,g-=z,r.back+=z}if(h>>>=E,g-=E,r.back+=E,r.length=B,R===0){r.mode=yb;break}if(R&32){r.back=-1,r.mode=Ts;break}if(R&64){t.msg="invalid literal/length code",r.mode=en;break}r.extra=R&15,r.mode=gb;case gb:if(r.extra){for(M=r.extra;g<M;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=mb;case mb:for(;N=r.distcode[h&(1<<r.distbits)-1],E=N>>>24,R=N>>>16&255,B=N&65535,!(E<=g);){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}if((R&240)===0){for(z=E,Q=R,ue=B;N=r.distcode[ue+((h&(1<<z+Q)-1)>>z)],E=N>>>24,R=N>>>16&255,B=N&65535,!(z+E<=g);){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}h>>>=z,g-=z,r.back+=z}if(h>>>=E,g-=E,r.back+=E,R&64){t.msg="invalid distance code",r.mode=en;break}r.offset=B,r.extra=R&15,r.mode=vb;case vb:if(r.extra){for(M=r.extra;g<M;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=en;break}r.mode=bb;case bb:if(f===0)break e;if(b=S-f,r.offset>b){if(b=r.offset-b,b>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=en;break}b>r.wnext?(b-=r.wnext,j=r.wsize-b):j=r.wnext-b,b>r.length&&(b=r.length),C=r.window}else C=o,j=c-r.offset,b=r.length;b>f&&(b=f),f-=b,r.length-=b;do o[c++]=C[j++];while(--b);r.length===0&&(r.mode=Qh);break;case yb:if(f===0)break e;o[c++]=r.length,f--,r.mode=Qh;break;case U1:if(r.wrap){for(;g<32;){if(d===0)break e;d--,h|=i[s++]<<g,g+=8}if(S-=f,t.total_out+=S,r.total+=S,r.wrap&4&&S&&(t.adler=r.check=r.flags?Ko(r.check,o,S,c-S):Pg(r.check,o,S,c-S)),S=f,r.wrap&4&&(r.flags?h:Sb(h))!==r.check){t.msg="incorrect data check",r.mode=en;break}h=0,g=0}r.mode=xb;case xb:if(r.wrap&&r.flags){for(;g<32;){if(d===0)break e;d--,h+=i[s++]<<g,g+=8}if(r.wrap&4&&h!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=en;break}h=0,g=0}r.mode=wb;case wb:se=dC;break e;case en:se=rw;break e;case iw:return nw;case aw:default:return Ba}return t.next_out=c,t.avail_out=f,t.next_in=s,t.avail_in=d,r.hold=h,r.bits=g,(r.wsize||S!==t.avail_out&&r.mode<en&&(r.mode<U1||e!==Qv))&&uw(t,t.output,t.next_out,S-t.avail_out),w-=t.avail_in,S-=t.avail_out,t.total_in+=w,t.total_out+=S,r.total+=S,r.wrap&4&&S&&(t.adler=r.check=r.flags?Ko(r.check,o,S,t.next_out-S):Pg(r.check,o,S,t.next_out-S)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Ts?128:0)+(r.mode===Jh||r.mode===I1?256:0),(w===0&&S===0||e===Qv)&&se===Dc&&(se=hC),se},SC=t=>{if(Mc(t))return Ba;let e=t.state;return e.window&&(e.window=null),t.state=null,Dc},_C=(t,e)=>{if(Mc(t))return Ba;const r=t.state;return(r.wrap&2)===0?Ba:(r.head=e,e.done=!1,Dc)},jC=(t,e)=>{const r=e.length;let i,o,s;return Mc(t)||(i=t.state,i.wrap!==0&&i.mode!==B0)?Ba:i.mode===B0&&(o=1,o=Pg(o,e,r,0),o!==i.check)?rw:(s=uw(t,e,r,r),s?(i.mode=iw,nw):(i.havedict=1,Dc))};var AC=sw,CC=lw,kC=ow,EC=yC,NC=cw,LC=wC,TC=SC,OC=_C,RC=jC,PC="pako inflate (from Nodeca project)",Ps={inflateReset:AC,inflateReset2:CC,inflateResetKeep:kC,inflateInit:EC,inflateInit2:NC,inflate:LC,inflateEnd:TC,inflateGetHeader:OC,inflateSetDictionary:RC,inflateInfo:PC};function DC(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var zC=DC;const dw=Object.prototype.toString,{Z_NO_FLUSH:MC,Z_FINISH:BC,Z_OK:Tf,Z_STREAM_END:H1,Z_NEED_DICT:$1,Z_STREAM_ERROR:IC,Z_DATA_ERROR:jb,Z_MEM_ERROR:UC}=Zx;function Mf(t){this.options=Jx.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tC,this.strm.avail_out=0;let r=Ps.inflateInit2(this.strm,e.windowBits);if(r!==Tf)throw new Error(Dg[r]);if(this.header=new zC,Ps.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=zg.string2buf(e.dictionary):dw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Ps.inflateSetDictionary(this.strm,e.dictionary),r!==Tf)))throw new Error(Dg[r])}Mf.prototype.push=function(t,e){const r=this.strm,i=this.options.chunkSize,o=this.options.dictionary;let s,c,d;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?BC:MC,dw.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),s=Ps.inflate(r,c),s===$1&&o&&(s=Ps.inflateSetDictionary(r,o),s===Tf?s=Ps.inflate(r,c):s===jb&&(s=$1));r.avail_in>0&&s===H1&&r.state.wrap>0&&t[r.next_in]!==0;)Ps.inflateReset(r),s=Ps.inflate(r,c);switch(s){case IC:case jb:case $1:case UC:return this.onEnd(s),this.ended=!0,!1}if(d=r.avail_out,r.next_out&&(r.avail_out===0||s===H1))if(this.options.to==="string"){let f=zg.utf8border(r.output,r.next_out),h=r.next_out-f,g=zg.buf2string(r.output,f);r.next_out=h,r.avail_out=i-h,h&&r.output.set(r.output.subarray(f,f+h),0),this.onData(g)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Tf&&d===0)){if(s===H1)return s=Ps.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Mf.prototype.onData=function(t){this.chunks.push(t)};Mf.prototype.onEnd=function(t){t===Tf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Jx.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function FC(t,e){const r=new Mf(e);if(r.push(t),r.err)throw r.msg||Dg[r.err];return r.result}var qC=Mf,HC=FC,$C={Inflate:qC,inflate:HC};const{Inflate:WC,inflate:GC}=$C;var Ab=WC,VC=GC;const fw=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;fw[t]=e}const Cb=4294967295;function YC(t,e,r){let i=t;for(let o=0;o<r;o++)i=fw[(i^e[o])&255]^i>>>8;return i}function KC(t,e){return(YC(Cb,t,e)^Cb)>>>0}function kb(t,e,r){const i=t.readUint32(),o=KC(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(o!==i)throw new Error(`CRC mismatch for chunk ${r}. Expected ${i}, found ${o}`)}function hw(t,e,r){for(let i=0;i<r;i++)e[i]=t[i]}function pw(t,e,r,i){let o=0;for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+e[o-i]&255}function gw(t,e,r,i){let o=0;if(r.length===0)for(;o<i;o++)e[o]=t[o];else for(;o<i;o++)e[o]=t[o]+r[o]&255}function mw(t,e,r,i,o){let s=0;if(r.length===0){for(;s<o;s++)e[s]=t[s];for(;s<i;s++)e[s]=t[s]+(e[s-o]>>1)&255}else{for(;s<o;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<i;s++)e[s]=t[s]+(e[s-o]+r[s]>>1)&255}}function vw(t,e,r,i,o){let s=0;if(r.length===0){for(;s<o;s++)e[s]=t[s];for(;s<i;s++)e[s]=t[s]+e[s-o]&255}else{for(;s<o;s++)e[s]=t[s]+r[s]&255;for(;s<i;s++)e[s]=t[s]+XC(e[s-o],r[s],r[s-o])&255}}function XC(t,e,r){const i=t+e-r,o=Math.abs(i-t),s=Math.abs(i-e),c=Math.abs(i-r);return o<=s&&o<=c?t:s<=c?e:r}function ZC(t,e,r,i,o,s){switch(t){case 0:hw(e,r,o);break;case 1:pw(e,r,o,s);break;case 2:gw(e,r,i,o);break;case 3:mw(e,r,i,o,s);break;case 4:vw(e,r,i,o,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const JC=new Uint16Array([255]),QC=new Uint8Array(JC.buffer),ek=QC[0]===255;function tk(t){const{data:e,width:r,height:i,channels:o,depth:s}=t,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(s/8)*o,f=new Uint8Array(i*r*d);let h=0;for(let g=0;g<7;g++){const w=c[g],S=Math.ceil((r-w.x)/w.xStep),b=Math.ceil((i-w.y)/w.yStep);if(S<=0||b<=0)continue;const j=S*d,C=new Uint8Array(j);for(let N=0;N<b;N++){const E=e[h++],R=e.subarray(h,h+j);h+=j;const B=new Uint8Array(j);ZC(E,R,B,C,j,d),C.set(B);for(let z=0;z<S;z++){const Q=w.x+z*w.xStep,ue=w.y+N*w.yStep;if(!(Q>=r||ue>=i))for(let J=0;J<d;J++)f[(ue*r+Q)*d+J]=B[z*d+J]}}}if(s===16){const g=new Uint16Array(f.buffer);if(ek)for(let w=0;w<g.length;w++)g[w]=rk(g[w]);return g}else return f}function rk(t){return(t&255)<<8|t>>8&255}const nk=new Uint16Array([255]),ik=new Uint8Array(nk.buffer),ak=ik[0]===255,ok=new Uint8Array(0);function Eb(t){const{data:e,width:r,height:i,channels:o,depth:s}=t,c=Math.ceil(s/8)*o,d=Math.ceil(s/8*o*r),f=new Uint8Array(i*d);let h=ok,g=0,w,S;for(let b=0;b<i;b++){switch(w=e.subarray(g+1,g+1+d),S=f.subarray(b*d,(b+1)*d),e[g]){case 0:hw(w,S,d);break;case 1:pw(w,S,d,c);break;case 2:gw(w,S,h,d);break;case 3:mw(w,S,h,d,c);break;case 4:vw(w,S,h,d,c);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}h=S,g+=d+1}if(s===16){const b=new Uint16Array(f.buffer);if(ak)for(let j=0;j<b.length;j++)b[j]=sk(b[j]);return b}else return f}function sk(t){return(t&255)<<8|t>>8&255}const m0=Uint8Array.of(137,80,78,71,13,10,26,10);function Nb(t){if(!lk(t.readBytes(m0.length)))throw new Error("wrong PNG signature")}function lk(t){if(t.length<m0.length)return!1;for(let e=0;e<m0.length;e++)if(t[e]!==m0[e])return!1;return!0}const ck="tEXt",uk=0,bw=new TextDecoder("latin1");function dk(t){if(hk(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const fk=/^[\u0000-\u00FF]*$/;function hk(t){if(!fk.test(t))throw new Error("invalid latin1 text")}function pk(t,e,r){const i=yw(e);t[i]=gk(e,r-i.length-1)}function yw(t){for(t.mark();t.readByte()!==uk;);const e=t.offset;t.reset();const r=bw.decode(t.readBytes(e-t.offset-1));return t.skip(1),dk(r),r}function gk(t,e){return bw.decode(t.readBytes(e))}const ha={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},W1={UNKNOWN:-1,DEFLATE:0},Lb={UNKNOWN:-1,ADAPTIVE:0},G1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},e0={NONE:0,BACKGROUND:1,PREVIOUS:2},V1={SOURCE:0,OVER:1};class mk extends vm{constructor(r,i={}){super(r);Sr(this,"_checkCrc");Sr(this,"_inflator");Sr(this,"_png");Sr(this,"_apng");Sr(this,"_end");Sr(this,"_hasPalette");Sr(this,"_palette");Sr(this,"_hasTransparency");Sr(this,"_transparency");Sr(this,"_compressionMethod");Sr(this,"_filterMethod");Sr(this,"_interlaceMethod");Sr(this,"_colorType");Sr(this,"_isAnimated");Sr(this,"_numberOfFrames");Sr(this,"_numberOfPlays");Sr(this,"_frames");Sr(this,"_writingDataChunks");const{checkCrc:o=!1}=i;this._checkCrc=o,this._inflator=new Ab,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=W1.UNKNOWN,this._filterMethod=Lb.UNKNOWN,this._interlaceMethod=G1.UNKNOWN,this._colorType=ha.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Nb(this);!this._end;){const r=this.readUint32(),i=this.readChars(4);this.decodeChunk(r,i)}return this.decodeImage(),this._png}decodeApng(){for(Nb(this);!this._end;){const r=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(r,i)}return this.decodeApngImage(),this._apng}decodeChunk(r,i){const o=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case ck:pk(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-o!==r)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?kb(this,r+4,i):this.skip(4)}decodeApngChunk(r,i){const o=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,i),this.offset=o+r;break}if(this.offset-o!==r)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?kb(this,r+4,i):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=vk(this.readUint8());const i=this.readUint8();this._colorType=i;let o;switch(i){case ha.GREYSCALE:o=1;break;case ha.TRUECOLOUR:o=3;break;case ha.INDEXED_COLOUR:o=1;break;case ha.GREYSCALE_ALPHA:o=2;break;case ha.TRUECOLOUR_ALPHA:o=4;break;case ha.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=o,this._compressionMethod=this.readUint8(),this._compressionMethod!==W1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const i=r/3;this._hasPalette=!0;const o=[];this._palette=o;for(let s=0;s<i;s++)o.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const i=r,o=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,o,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let i=r,o=this.offset+this.byteOffset;if(o+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,o,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ha.GREYSCALE:case ha.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let i=0;i<r/2;i++)this._transparency[i]=this.readUint16();break}case ha.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let i=0;for(;i<r;i++){const o=this.readByte();this._palette[i].push(o)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case ha.UNKNOWN:case ha.GREYSCALE_ALPHA:case ha.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const i=yw(this),o=this.readUint8();if(o!==W1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${o}`);const s=this.readBytes(r-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:VC(s)}}decodepHYs(){const r=this.readUint32(),i=this.readUint32(),o=this.readByte();this._png.resolution={x:r,y:i,unit:o}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const i={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},o=this._frames.at(r);if(o){if(o.data=Eb({data:o.data,width:o.width,height:o.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||o.xOffset===0&&o.yOffset===0&&o.width===this._png.width&&o.height===this._png.height)i.data=o.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(o,s,i),this.addFrameDataToCanvas(i,o)}this._apng.frames.push(i)}}return this._apng}disposeFrame(r,i,o){switch(r.disposeOp){case e0.NONE:break;case e0.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let c=0;c<this._png.width;c++){const d=(s*r.width+c)*this._png.channels;for(let f=0;f<this._png.channels;f++)o.data[d+f]=0}break;case e0.PREVIOUS:o.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,i){const o=1<<this._png.depth,s=(c,d)=>{const f=((c+i.yOffset)*this._png.width+i.xOffset+d)*this._png.channels,h=(c*i.width+d)*this._png.channels;return{index:f,frameIndex:h}};switch(i.blendOp){case V1.SOURCE:for(let c=0;c<i.height;c++)for(let d=0;d<i.width;d++){const{index:f,frameIndex:h}=s(c,d);for(let g=0;g<this._png.channels;g++)r.data[f+g]=i.data[h+g]}break;case V1.OVER:for(let c=0;c<i.height;c++)for(let d=0;d<i.width;d++){const{index:f,frameIndex:h}=s(c,d);for(let g=0;g<this._png.channels;g++){const w=i.data[h+this._png.channels-1]/o,S=g%(this._png.channels-1)===0?1:i.data[h+g],b=Math.floor(w*S+(1-w)*r.data[f+g]);r.data[f+g]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==Lb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===G1.NO_INTERLACE)this._png.data=Eb({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===G1.ADAM7)this._png.data=tk({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,i=this._frames.at(-1);i?i.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:e0.NONE,blendOp:V1.SOURCE,data:r}),this._inflator=new Ab,this._writingDataChunks=!1}}function vk(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Tb;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Tb||(Tb={}));function bk(t,e){return new mk(t,e).decode()}var Ot=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Y1(){Ot.console&&typeof Ot.console.log=="function"&&Ot.console.log.apply(Ot.console,arguments)}var Pr={log:Y1,warn:function(t){Ot.console&&(typeof Ot.console.warn=="function"?Ot.console.warn.apply(Ot.console,arguments):Y1.call(null,arguments))},error:function(t){Ot.console&&(typeof Ot.console.error=="function"?Ot.console.error.apply(Ot.console,arguments):Y1(t))}};function K1(t,e,r){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){Ac(i.response,e,r)},i.onerror=function(){Pr.error("could not download file")},i.send()}function Ob(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function t0(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ac=Ot.saveAs||((typeof window>"u"?"undefined":_r(window))!=="object"||window!==Ot?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var i=Ot.URL||Ot.webkitURL,o=document.createElement("a");e=e||t.name||"download",o.download=e,o.rel="noopener",typeof t=="string"?(o.href=t,o.origin!==location.origin?Ob(o.href)?K1(t,e,r):t0(o,o.target="_blank"):t0(o)):(o.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(o.href)},4e4),setTimeout(function(){t0(o)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Ob(t))K1(t,e,r);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){t0(i)})}else navigator.msSaveOrOpenBlob(function(o,s){return s===void 0?s={autoBom:!1}:_r(s)!=="object"&&(Pr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}(t,r),e)}:function(t,e,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return K1(t,e,r);var o=t.type==="application/octet-stream",s=/constructor/i.test(Ot.HTMLElement)||Ot.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&s)&&(typeof FileReader>"u"?"undefined":_r(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var g=d.result;g=c?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=g:location=g,i=null},d.readAsDataURL(t)}else{var f=Ot.URL||Ot.webkitURL,h=f.createObjectURL(t);i?i.location=h:location.href=h,i=null,setTimeout(function(){f.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function xw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],i=0;i<r.length;i++){var o=r[i].re,s=r[i].process,c=o.exec(t);c&&(e=s(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),f=this.g.toString(16),h=this.b.toString(16);return d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),h.length==1&&(h="0"+h),"#"+d+f+h}}var v0=Ot.atob.bind(Ot),Rb=Ot.btoa.bind(Ot);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function X1(t,e){var r=t[0],i=t[1],o=t[2],s=t[3];r=wi(r,i,o,s,e[0],7,-680876936),s=wi(s,r,i,o,e[1],12,-389564586),o=wi(o,s,r,i,e[2],17,606105819),i=wi(i,o,s,r,e[3],22,-1044525330),r=wi(r,i,o,s,e[4],7,-176418897),s=wi(s,r,i,o,e[5],12,1200080426),o=wi(o,s,r,i,e[6],17,-1473231341),i=wi(i,o,s,r,e[7],22,-45705983),r=wi(r,i,o,s,e[8],7,1770035416),s=wi(s,r,i,o,e[9],12,-1958414417),o=wi(o,s,r,i,e[10],17,-42063),i=wi(i,o,s,r,e[11],22,-1990404162),r=wi(r,i,o,s,e[12],7,1804603682),s=wi(s,r,i,o,e[13],12,-40341101),o=wi(o,s,r,i,e[14],17,-1502002290),r=Si(r,i=wi(i,o,s,r,e[15],22,1236535329),o,s,e[1],5,-165796510),s=Si(s,r,i,o,e[6],9,-1069501632),o=Si(o,s,r,i,e[11],14,643717713),i=Si(i,o,s,r,e[0],20,-373897302),r=Si(r,i,o,s,e[5],5,-701558691),s=Si(s,r,i,o,e[10],9,38016083),o=Si(o,s,r,i,e[15],14,-660478335),i=Si(i,o,s,r,e[4],20,-405537848),r=Si(r,i,o,s,e[9],5,568446438),s=Si(s,r,i,o,e[14],9,-1019803690),o=Si(o,s,r,i,e[3],14,-187363961),i=Si(i,o,s,r,e[8],20,1163531501),r=Si(r,i,o,s,e[13],5,-1444681467),s=Si(s,r,i,o,e[2],9,-51403784),o=Si(o,s,r,i,e[7],14,1735328473),r=_i(r,i=Si(i,o,s,r,e[12],20,-1926607734),o,s,e[5],4,-378558),s=_i(s,r,i,o,e[8],11,-2022574463),o=_i(o,s,r,i,e[11],16,1839030562),i=_i(i,o,s,r,e[14],23,-35309556),r=_i(r,i,o,s,e[1],4,-1530992060),s=_i(s,r,i,o,e[4],11,1272893353),o=_i(o,s,r,i,e[7],16,-155497632),i=_i(i,o,s,r,e[10],23,-1094730640),r=_i(r,i,o,s,e[13],4,681279174),s=_i(s,r,i,o,e[0],11,-358537222),o=_i(o,s,r,i,e[3],16,-722521979),i=_i(i,o,s,r,e[6],23,76029189),r=_i(r,i,o,s,e[9],4,-640364487),s=_i(s,r,i,o,e[12],11,-421815835),o=_i(o,s,r,i,e[15],16,530742520),r=ji(r,i=_i(i,o,s,r,e[2],23,-995338651),o,s,e[0],6,-198630844),s=ji(s,r,i,o,e[7],10,1126891415),o=ji(o,s,r,i,e[14],15,-1416354905),i=ji(i,o,s,r,e[5],21,-57434055),r=ji(r,i,o,s,e[12],6,1700485571),s=ji(s,r,i,o,e[3],10,-1894986606),o=ji(o,s,r,i,e[10],15,-1051523),i=ji(i,o,s,r,e[1],21,-2054922799),r=ji(r,i,o,s,e[8],6,1873313359),s=ji(s,r,i,o,e[15],10,-30611744),o=ji(o,s,r,i,e[6],15,-1560198380),i=ji(i,o,s,r,e[13],21,1309151649),r=ji(r,i,o,s,e[4],6,-145523070),s=ji(s,r,i,o,e[11],10,-1120210379),o=ji(o,s,r,i,e[2],15,718787259),i=ji(i,o,s,r,e[9],21,-343485551),t[0]=Ml(r,t[0]),t[1]=Ml(i,t[1]),t[2]=Ml(o,t[2]),t[3]=Ml(s,t[3])}function rp(t,e,r,i,o,s){return e=Ml(Ml(e,t),Ml(i,s)),Ml(e<<o|e>>>32-o,r)}function wi(t,e,r,i,o,s,c){return rp(e&r|~e&i,t,e,o,s,c)}function Si(t,e,r,i,o,s,c){return rp(e&i|r&~i,t,e,o,s,c)}function _i(t,e,r,i,o,s,c){return rp(e^r^i,t,e,o,s,c)}function ji(t,e,r,i,o,s,c){return rp(r^(e|~i),t,e,o,s,c)}function ww(t){var e,r=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)X1(i,yk(t.substring(e-64,e)));t=t.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(X1(i,o),e=0;e<16;e++)o[e]=0;return o[14]=8*r,X1(i,o),i}function yk(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var Pb="0123456789abcdef".split("");function xk(t){for(var e="",r=0;r<4;r++)e+=Pb[t>>8*r+4&15]+Pb[t>>8*r&15];return e}function wk(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Mg(t){return ww(t).map(wk).join("")}var Sk=function(t){for(var e=0;e<t.length;e++)t[e]=xk(t[e]);return t.join("")}(ww("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ml(t,e){if(Sk){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Bg(t,e){var r,i,o,s;if(t!==r){for(var c=(o=t,s=1+(256/t.length|0),new Array(s+1).join(o)),d=[],f=0;f<256;f++)d[f]=f;var h=0;for(f=0;f<256;f++){var g=d[f];h=(h+g+c.charCodeAt(f))%256,d[f]=d[h],d[h]=g}r=t,i=d}else d=i;var w=e.length,S=0,b=0,j="";for(f=0;f<w;f++)b=(b+(g=d[S=(S+1)%256]))%256,d[S]=d[b],d[b]=g,c=d[(d[S]+d[b])%256],j+=String.fromCharCode(e.charCodeAt(f)^c);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Db={print:4,modify:8,copy:16,"annot-forms":32};function Gu(t,e,r,i){this.v=1,this.r=2;var o=192;t.forEach(function(d){if(Db.perm!==void 0)throw new Error("Invalid permission: "+d);o+=Db[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,c),this.P=-(1+(255^o)),this.encryptionKey=Mg(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Bg(this.encryptionKey,this.padding)}function Vu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,i=0;i<r;i++){var o=t.charCodeAt(i);e+=o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?"#"+("0"+o.toString(16)).slice(-2):t[i]}return e}function zb(t){if(_r(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,i,o){if(o=o||!1,typeof r!="string"||typeof i!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[i,!!o],s},this.unsubscribe=function(r){for(var i in e)if(e[i][r])return delete e[i][r],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var s in e[r]){var c=e[r][s];try{c[0].apply(t,i)}catch(d){Ot.console&&Pr.error("jsPDF PubSub Error",d.message,d)}c[1]&&o.push(s)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function I0(t){if(!(this instanceof I0))return new I0(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Sw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function kc(t,e,r,i,o){if(!(this instanceof kc))return new kc(t,e,r,i,o);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Sw.call(this,i,o)}function Ku(t,e,r,i,o){if(!(this instanceof Ku))return new Ku(t,e,r,i,o);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Sw.call(this,i,o)}function ct(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],o=arguments[2],s=arguments[3],c=[],d=1,f=16,h="S",g=null;_r(t=t||{})==="object"&&(r=t.orientation,i=t.unit||i,o=t.format||o,s=t.compress||t.compressPdf||s,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),d=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(f=t.floatPrecision),h=t.defaultPathOperation||"S"),c=t.filters||(s===!0?["FlateEncode"]:c),i=i||"mm",r=(""+(r||"P")).toLowerCase();var w=t.putOnlyUsedFonts||!1,S={},b={internal:{},__private__:{}};b.__private__.PubSub=zb;var j="1.3",C=b.__private__.getPdfVersion=function(){return j};b.__private__.setPdfVersion=function(_){j=_};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return N};var E=b.__private__.getPageFormat=function(_){return N[_]};o=o||"a4";var R="compat",B="advanced",z=R;function Q(){this.saveGraphicsState(),le(new mt(_t,0,0,-_t,0,cs()*_t).toString()+" cm"),this.setFontSize(this.getFontSize()/_t),h="n",z=B}function ue(){this.restoreGraphicsState(),h="S",z=R}var J=b.__private__.combineFontStyleAndFontWeight=function(_,P){if(_=="bold"&&P=="normal"||_=="bold"&&P==400||_=="normal"&&P=="italic"||_=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(_=P==400||P==="normal"?_==="italic"?"italic":"normal":P!=700&&P!=="bold"||_!=="normal"?(P==700?"bold":P)+""+_:"bold"),_};b.advancedAPI=function(_){var P=z===R;return P&&Q.call(this),typeof _!="function"||(_(this),P&&ue.call(this)),this},b.compatAPI=function(_){var P=z===B;return P&&ue.call(this),typeof _!="function"||(_(this),P&&Q.call(this)),this},b.isAdvancedAPI=function(){return z===B};var se,U=function(_){if(z!==B)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},te=b.roundToPrecision=b.__private__.roundToPrecision=function(_,P){var ee=e||P;if(isNaN(_)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(ee).replace(/0+$/,"")};se=b.hpf=b.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return te(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return te(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return te(_,16)};var M=b.f2=b.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return te(_,2)},W=b.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return te(_,3)},oe=b.scale=b.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return z===R?_*_t:z===B?_:void 0},ae=function(_){return oe(function(P){return z===R?cs()-P:z===B?P:void 0}(_))};b.__private__.setPrecision=b.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var be,ne="00000000000000000000000000000000",he=b.__private__.getFileId=function(){return ne},ce=b.__private__.setFileId=function(_){return ne=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(ir=new Gu(g.userPermissions,g.userPassword,g.ownerPassword,ne)),ne};b.setFileId=function(_){return ce(_),this},b.getFileId=function(){return he()};var je=b.__private__.convertDateToPDFDate=function(_){var P=_.getTimezoneOffset(),ee=P<0?"+":"-",pe=Math.floor(Math.abs(P/60)),Se=Math.abs(P%60),Me=[ee,Y(pe),"'",Y(Se),"'"].join("");return["D:",_.getFullYear(),Y(_.getMonth()+1),Y(_.getDate()),Y(_.getHours()),Y(_.getMinutes()),Y(_.getSeconds()),Me].join("")},O=b.__private__.convertPDFDateToDate=function(_){var P=parseInt(_.substr(2,4),10),ee=parseInt(_.substr(6,2),10)-1,pe=parseInt(_.substr(8,2),10),Se=parseInt(_.substr(10,2),10),Me=parseInt(_.substr(12,2),10),He=parseInt(_.substr(14,2),10);return new Date(P,ee,pe,Se,Me,He,0)},ie=b.__private__.setCreationDate=function(_){var P;if(_===void 0&&(_=new Date),_ instanceof Date)P=je(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=_}return be=P},L=b.__private__.getCreationDate=function(_){var P=be;return _==="jsDate"&&(P=O(be)),P};b.setCreationDate=function(_){return ie(_),this},b.getCreationDate=function(_){return L(_)};var H,Y=b.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},$=b.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},re=0,ve=[],xe=[],Ae=0,Pe=[],qe=[],Ge=!1,Ke=xe;b.__private__.setCustomOutputDestination=function(_){Ge=!0,Ke=_};var Re=function(_){Ge||(Ke=_)};b.__private__.resetCustomOutputDestination=function(){Ge=!1,Ke=xe};var le=b.__private__.out=function(_){return _=_.toString(),Ae+=_.length+1,Ke.push(_),Ke},Gt=b.__private__.write=function(_){return le(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},gt=b.__private__.getArrayBuffer=function(_){for(var P=_.length,ee=new ArrayBuffer(P),pe=new Uint8Array(ee);P--;)pe[P]=_.charCodeAt(P);return ee},pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return pt};var We=t.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(_){return We=z===B?_/_t:_,this};var lt,Ye=b.__private__.getFontSize=b.getFontSize=function(){return z===R?We:We*_t},Mt=t.R2L||!1;b.__private__.setR2L=b.setR2L=function(_){return Mt=_,this},b.__private__.getR2L=b.getR2L=function(){return Mt};var ut,lr=b.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))lt=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');lt=_}else lt=parseInt(_,10)};b.__private__.getZoomMode=function(){return lt};var zt,St=b.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');ut=_};b.__private__.getPageMode=function(){return ut};var Ft=b.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');zt=_};b.__private__.getLayoutMode=function(){return zt},b.__private__.setDisplayMode=b.setDisplayMode=function(_,P,ee){return lr(_),Ft(P),St(ee),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(_){if(Object.keys(vt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[_]},b.__private__.getDocumentProperties=function(){return vt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(_){for(var P in vt)vt.hasOwnProperty(P)&&_[P]&&(vt[P]=_[P]);return this},b.__private__.setDocumentProperty=function(_,P){if(Object.keys(vt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[_]=P};var Ze,_t,dt,jr,er,at={},bt={},hr=[],ht={},Xt={},Rt={},Wr={},rn=null,cr=0,Nt=[],ur=new zb(b),So=t.hotfixes||[],kn={},Xi={},Zi=[],mt=function _(P,ee,pe,Se,Me,He){if(!(this instanceof _))return new _(P,ee,pe,Se,Me,He);isNaN(P)&&(P=1),isNaN(ee)&&(ee=0),isNaN(pe)&&(pe=0),isNaN(Se)&&(Se=1),isNaN(Me)&&(Me=0),isNaN(He)&&(He=0),this._matrix=[P,ee,pe,Se,Me,He]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(se).join(_)},mt.prototype.multiply=function(_){var P=_.sx*this.sx+_.shy*this.shx,ee=_.sx*this.shy+_.shy*this.sy,pe=_.shx*this.sx+_.sy*this.shx,Se=_.shx*this.shy+_.sy*this.sy,Me=_.tx*this.sx+_.ty*this.shx+this.tx,He=_.tx*this.shy+_.ty*this.sy+this.ty;return new mt(P,ee,pe,Se,Me,He)},mt.prototype.decompose=function(){var _=this.sx,P=this.shy,ee=this.shx,pe=this.sy,Se=this.tx,Me=this.ty,He=Math.sqrt(_*_+P*P),Qe=(_/=He)*ee+(P/=He)*pe;ee-=_*Qe,pe-=P*Qe;var st=Math.sqrt(ee*ee+pe*pe);return Qe/=st,_*(pe/=st)<P*(ee/=st)&&(_=-_,P=-P,Qe=-Qe,He=-He),{scale:new mt(He,0,0,st,0,0),translate:new mt(1,0,0,1,Se,Me),rotate:new mt(_,P,-P,_,0,0),skew:new mt(1,0,Qe,1,0,0)}},mt.prototype.toString=function(_){return this.join(" ")},mt.prototype.inversed=function(){var _=this.sx,P=this.shy,ee=this.shx,pe=this.sy,Se=this.tx,Me=this.ty,He=1/(_*pe-P*ee),Qe=pe*He,st=-P*He,Ct=-ee*He,Pt=_*He;return new mt(Qe,st,Ct,Pt,-Qe*Se-Ct*Me,-st*Se-Pt*Me)},mt.prototype.applyToPoint=function(_){var P=_.x*this.sx+_.y*this.shx+this.tx,ee=_.x*this.shy+_.y*this.sy+this.ty;return new ss(P,ee)},mt.prototype.applyToRectangle=function(_){var P=this.applyToPoint(_),ee=this.applyToPoint(new ss(_.x+_.w,_.y+_.h));return new ls(P.x,P.y,ee.x-P.x,ee.y-P.y)},mt.prototype.clone=function(){var _=this.sx,P=this.shy,ee=this.shx,pe=this.sy,Se=this.tx,Me=this.ty;return new mt(_,P,ee,pe,Se,Me)},b.Matrix=mt;var Wn=b.matrixMult=function(_,P){return P.multiply(_)},zr=new mt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=zr;var Lr=function(_,P){if(!Xt[_]){var ee=(P instanceof kc?"Sh":"P")+(Object.keys(ht).length+1).toString(10);P.id=ee,Xt[_]=ee,ht[ee]=P,ur.publish("addPattern",P)}};b.ShadingPattern=kc,b.TilingPattern=Ku,b.addShadingPattern=function(_,P){return U("addShadingPattern()"),Lr(_,P),this},b.beginTilingPattern=function(_){U("beginTilingPattern()"),$a(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},b.endTilingPattern=function(_,P){U("endTilingPattern()"),P.stream=qe[H].join(`
`),Lr(_,P),ur.publish("endTilingPattern",P),Zi.pop().restore()};var Dn,Mr=b.__private__.newObject=function(){var _=En();return zn(_,!0),_},En=b.__private__.newObjectDeferred=function(){return re++,ve[re]=function(){return Ae},re},zn=function(_,P){return P=typeof P=="boolean"&&P,ve[_]=Ae,P&&le(_+" 0 obj"),_},_o=b.__private__.newAdditionalObject=function(){var _={objId:En(),content:""};return Pe.push(_),_},zi=En(),Ci=En(),ii=b.__private__.decodeColorString=function(_){var P=_.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var ee=parseFloat(P[0]);P=[ee,ee,ee,"r"]}for(var pe="#",Se=0;Se<3;Se++)pe+=("0"+Math.floor(255*parseFloat(P[Se])).toString(16)).slice(-2);return pe},Gn=b.__private__.encodeColorString=function(_){var P;typeof _=="string"&&(_={ch1:_});var ee=_.ch1,pe=_.ch2,Se=_.ch3,Me=_.ch4,He=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var Qe=new xw(ee);if(Qe.ok)ee=Qe.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var st=parseInt(ee.substr(1),16);ee=st>>16&255,pe=st>>8&255,Se=255&st}if(pe===void 0||Me===void 0&&ee===pe&&pe===Se)P=typeof ee=="string"?ee+" "+He[0]:_.precision===2?M(ee/255)+" "+He[0]:W(ee/255)+" "+He[0];else if(Me===void 0||_r(Me)==="object"){if(Me&&!isNaN(Me.a)&&Me.a===0)return["1.","1.","1.",He[1]].join(" ");P=typeof ee=="string"?[ee,pe,Se,He[1]].join(" "):_.precision===2?[M(ee/255),M(pe/255),M(Se/255),He[1]].join(" "):[W(ee/255),W(pe/255),W(Se/255),He[1]].join(" ")}else P=typeof ee=="string"?[ee,pe,Se,Me,He[2]].join(" "):_.precision===2?[M(ee),M(pe),M(Se),M(Me),He[2]].join(" "):[W(ee),W(pe),W(Se),W(Me),He[2]].join(" ");return P},ai=b.__private__.getFilters=function(){return c},Mn=b.__private__.putStream=function(_){var P=(_=_||{}).data||"",ee=_.filters||ai(),pe=_.alreadyAppliedFilters||[],Se=_.addLength1||!1,Me=P.length,He=_.objectId,Qe=function(mn){return mn};if(g!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(Qe=ir.encryptor(He,0));var st={};ee===!0&&(ee=["FlateEncode"]);var Ct=_.additionalKeyValues||[],Pt=(st=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(P,ee):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(st.data.length!==0&&(Ct.push({key:"Length",value:st.data.length}),Se===!0&&Ct.push({key:"Length1",value:Me})),Pt.length!=0)if(Pt.split("/").length-1==1)Ct.push({key:"Filter",value:Pt});else{Ct.push({key:"Filter",value:"["+Pt+"]"});for(var ar=0;ar<Ct.length;ar+=1)if(Ct[ar].key==="DecodeParms"){for(var Fr=[],un=0;un<st.reverseChain.split("/").length-1;un+=1)Fr.push("null");Fr.push(Ct[ar].value),Ct[ar].value="["+Fr.join(" ")+"]"}}le("<<");for(var Ar=0;Ar<Ct.length;Ar++)le("/"+Ct[Ar].key+" "+Ct[Ar].value);le(">>"),st.data.length!==0&&(le("stream"),le(Qe(st.data)),le("endstream"))},Br=b.__private__.putPage=function(_){var P=_.number,ee=_.data,pe=_.objId,Se=_.contentsObjId;zn(pe,!0),le("<</Type /Page"),le("/Parent "+_.rootDictionaryObjId+" 0 R"),le("/Resources "+_.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(se(_.mediaBox.bottomLeftX))+" "+parseFloat(se(_.mediaBox.bottomLeftY))+" "+se(_.mediaBox.topRightX)+" "+se(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&le("/CropBox ["+se(_.cropBox.bottomLeftX)+" "+se(_.cropBox.bottomLeftY)+" "+se(_.cropBox.topRightX)+" "+se(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&le("/BleedBox ["+se(_.bleedBox.bottomLeftX)+" "+se(_.bleedBox.bottomLeftY)+" "+se(_.bleedBox.topRightX)+" "+se(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&le("/TrimBox ["+se(_.trimBox.bottomLeftX)+" "+se(_.trimBox.bottomLeftY)+" "+se(_.trimBox.topRightX)+" "+se(_.trimBox.topRightY)+"]"),_.artBox!==null&&le("/ArtBox ["+se(_.artBox.bottomLeftX)+" "+se(_.artBox.bottomLeftY)+" "+se(_.artBox.topRightX)+" "+se(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&le("/UserUnit "+_.userUnit),ur.publish("putPage",{objId:pe,pageContext:Nt[P],pageNumber:P,page:ee}),le("/Contents "+Se+" 0 R"),le(">>"),le("endobj");var Me=ee.join(`
`);return z===B&&(Me+=`
Q`),zn(Se,!0),Mn({data:Me,filters:ai(),objectId:Se}),le("endobj"),pe},Ji=b.__private__.putPages=function(){var _,P,ee=[];for(_=1;_<=cr;_++)Nt[_].objId=En(),Nt[_].contentsObjId=En();for(_=1;_<=cr;_++)ee.push(Br({number:_,data:qe[_],objId:Nt[_].objId,contentsObjId:Nt[_].contentsObjId,mediaBox:Nt[_].mediaBox,cropBox:Nt[_].cropBox,bleedBox:Nt[_].bleedBox,trimBox:Nt[_].trimBox,artBox:Nt[_].artBox,userUnit:Nt[_].userUnit,rootDictionaryObjId:zi,resourceDictionaryObjId:Ci}));zn(zi,!0),le("<</Type /Pages");var pe="/Kids [";for(P=0;P<cr;P++)pe+=ee[P]+" 0 R ";le(pe+"]"),le("/Count "+cr),le(">>"),le("endobj"),ur.publish("postPutPages")},jo=function(_){ur.publish("putFont",{font:_,out:le,newObject:Mr,putStream:Mn}),_.isAlreadyPutted!==!0&&(_.objectNumber=Mr(),le("<<"),le("/Type /Font"),le("/BaseFont /"+Vu(_.postScriptName)),le("/Subtype /Type1"),typeof _.encoding=="string"&&le("/Encoding /"+_.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},Mi=function(_){_.objectNumber=Mr();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[se(_.x),se(_.y),se(_.x+_.width),se(_.y+_.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var ee=_.pages[1].join(`
`);Mn({data:ee,additionalKeyValues:P,objectId:_.objectNumber}),le("endobj")},Qi=function(_,P){P||(P=21);var ee=Mr(),pe=function(He,Qe){var st,Ct=[],Pt=1/(Qe-1);for(st=0;st<1;st+=Pt)Ct.push(st);if(Ct.push(1),He[0].offset!=0){var ar={offset:0,color:He[0].color};He.unshift(ar)}if(He[He.length-1].offset!=1){var Fr={offset:1,color:He[He.length-1].color};He.push(Fr)}for(var un="",Ar=0,mn=0;mn<Ct.length;mn++){for(st=Ct[mn];st>He[Ar+1].offset;)Ar++;var dn=He[Ar].offset,Bn=(st-dn)/(He[Ar+1].offset-dn),Ui=He[Ar].color,vi=He[Ar+1].color;un+=$(Math.round((1-Bn)*Ui[0]+Bn*vi[0]).toString(16))+$(Math.round((1-Bn)*Ui[1]+Bn*vi[1]).toString(16))+$(Math.round((1-Bn)*Ui[2]+Bn*vi[2]).toString(16))}return un.trim()}(_.colors,P),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+P+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mn({data:pe,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),le("endobj"),_.objectNumber=Mr(),le("<< /ShadingType "+_.type),le("/ColorSpace /DeviceRGB");var Me="/Coords ["+se(parseFloat(_.coords[0]))+" "+se(parseFloat(_.coords[1]))+" ";_.type===2?Me+=se(parseFloat(_.coords[2]))+" "+se(parseFloat(_.coords[3])):Me+=se(parseFloat(_.coords[2]))+" "+se(parseFloat(_.coords[3]))+" "+se(parseFloat(_.coords[4]))+" "+se(parseFloat(_.coords[5])),le(Me+="]"),_.matrix&&le("/Matrix ["+_.matrix.toString()+"]"),le("/Function "+ee+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},qs=function(_,P){var ee=En(),pe=Mr();P.push({resourcesOid:ee,objectOid:pe}),_.objectNumber=pe;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+_.boundingBox.map(se).join(" ")+"]"}),Se.push({key:"XStep",value:se(_.xStep)}),Se.push({key:"YStep",value:se(_.yStep)}),Se.push({key:"Resources",value:ee+" 0 R"}),_.matrix&&Se.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Mn({data:_.stream,additionalKeyValues:Se,objectId:_.objectNumber}),le("endobj")},Ic=function(_){for(var P in _.objectNumber=Mr(),le("<<"),_)switch(P){case"opacity":le("/ca "+M(_[P]));break;case"stroke-opacity":le("/CA "+M(_[P]))}le(">>"),le("endobj")},Hs=function(_){zn(_.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var P in le("/Font <<"),at)at.hasOwnProperty(P)&&(w===!1||w===!0&&S.hasOwnProperty(P))&&le("/"+P+" "+at[P].objectNumber+" 0 R");le(">>")}(),function(){if(Object.keys(ht).length>0){for(var P in le("/Shading <<"),ht)ht.hasOwnProperty(P)&&ht[P]instanceof kc&&ht[P].objectNumber>=0&&le("/"+P+" "+ht[P].objectNumber+" 0 R");ur.publish("putShadingPatternDict"),le(">>")}}(),function(P){if(Object.keys(ht).length>0){for(var ee in le("/Pattern <<"),ht)ht.hasOwnProperty(ee)&&ht[ee]instanceof b.TilingPattern&&ht[ee].objectNumber>=0&&ht[ee].objectNumber<P&&le("/"+ee+" "+ht[ee].objectNumber+" 0 R");ur.publish("putTilingPatternDict"),le(">>")}}(_.objectOid),function(){if(Object.keys(Rt).length>0){var P;for(P in le("/ExtGState <<"),Rt)Rt.hasOwnProperty(P)&&Rt[P].objectNumber>=0&&le("/"+P+" "+Rt[P].objectNumber+" 0 R");ur.publish("putGStateDict"),le(">>")}}(),function(){for(var P in le("/XObject <<"),kn)kn.hasOwnProperty(P)&&kn[P].objectNumber>=0&&le("/"+P+" "+kn[P].objectNumber+" 0 R");ur.publish("putXobjectDict"),le(">>")}(),le(">>"),le("endobj")},Uc=function(_){bt[_.fontName]=bt[_.fontName]||{},bt[_.fontName][_.fontStyle]=_.id},rs=function(_,P,ee,pe,Se){var Me={id:"F"+(Object.keys(at).length+1).toString(10),postScriptName:_,fontName:P,fontStyle:ee,encoding:pe,isStandardFont:Se||!1,metadata:{}};return ur.publish("addFont",{font:Me,instance:this}),at[Me.id]=Me,Uc(Me),Me.id},oi=b.__private__.pdfEscape=b.pdfEscape=function(_,P){return function(ee,pe){var Se,Me,He,Qe,st,Ct,Pt,ar,Fr;if(He=(pe=pe||{}).sourceEncoding||"Unicode",st=pe.outputEncoding,(pe.autoencode||st)&&at[Ze].metadata&&at[Ze].metadata[He]&&at[Ze].metadata[He].encoding&&(Qe=at[Ze].metadata[He].encoding,!st&&at[Ze].encoding&&(st=at[Ze].encoding),!st&&Qe.codePages&&(st=Qe.codePages[0]),typeof st=="string"&&(st=Qe[st]),st)){for(Pt=!1,Ct=[],Se=0,Me=ee.length;Se<Me;Se++)(ar=st[ee.charCodeAt(Se)])?Ct.push(String.fromCharCode(ar)):Ct.push(ee[Se]),Ct[Se].charCodeAt(0)>>8&&(Pt=!0);ee=Ct.join("")}for(Se=ee.length;Pt===void 0&&Se!==0;)ee.charCodeAt(Se-1)>>8&&(Pt=!0),Se--;if(!Pt)return ee;for(Ct=pe.noBOM?[]:[254,255],Se=0,Me=ee.length;Se<Me;Se++){if((Fr=(ar=ee.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ct.push(Fr),Ct.push(ar-(Fr<<8))}return String.fromCharCode.apply(void 0,Ct)}(_,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ki=b.__private__.beginPage=function(_){qe[++cr]=[],Nt[cr]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Ua(cr),Re(qe[H])},$s=function(_,P){var ee,pe,Se;switch(r=P||r,typeof _=="string"&&(ee=E(_.toLowerCase()),Array.isArray(ee)&&(pe=ee[0],Se=ee[1])),Array.isArray(_)&&(pe=_[0]*_t,Se=_[1]*_t),isNaN(pe)&&(pe=o[0],Se=o[1]),(pe>14400||Se>14400)&&(Pr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),Se=Math.min(14400,Se)),o=[pe,Se],r.substr(0,1)){case"l":Se>pe&&(o=[Se,pe]);break;case"p":pe>Se&&(o=[Se,pe])}ki(o),Xl(ba),le(qa),na!==0&&le(na+" J"),Eo!==0&&le(Eo+" j"),ur.publish("addPage",{pageNumber:cr})},Ws=function(_){_>0&&_<=cr&&(qe.splice(_,1),Nt.splice(_,1),cr--,H>cr&&(H=cr),this.setPage(H))},Ua=function(_){_>0&&_<=cr&&(H=_)},Gs=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return qe.length-1},Vs=function(_,P,ee){var pe,Se=void 0;return ee=ee||{},_=_!==void 0?_:at[Ze].fontName,P=P!==void 0?P:at[Ze].fontStyle,pe=_.toLowerCase(),bt[pe]!==void 0&&bt[pe][P]!==void 0?Se=bt[pe][P]:bt[_]!==void 0&&bt[_][P]!==void 0?Se=bt[_][P]:ee.disableWarning===!1&&Pr.warn("Unable to look up font label for font '"+_+"', '"+P+"'. Refer to getFontList() for available fonts."),Se||ee.noFallback||(Se=bt.times[P])==null&&(Se=bt.times.normal),Se},Ys=b.__private__.putInfo=function(){var _=Mr(),P=function(pe){return pe};for(var ee in g!==null&&(P=ir.encryptor(_,0)),le("<<"),le("/Producer ("+oi(P("jsPDF "+ct.version))+")"),vt)vt.hasOwnProperty(ee)&&vt[ee]&&le("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+oi(P(vt[ee]))+")");le("/CreationDate ("+oi(P(be))+")"),le(">>"),le("endobj")},Fc=b.__private__.putCatalog=function(_){var P=(_=_||{}).rootDictionaryObjId||zi;switch(Mr(),le("<<"),le("/Type /Catalog"),le("/Pages "+P+" 0 R"),lt||(lt="fullwidth"),lt){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+lt;ee.substr(ee.length-1)==="%"&&(lt=parseInt(lt)/100),typeof lt=="number"&&le("/OpenAction [3 0 R /XYZ null null "+M(lt)+"]")}switch(zt||(zt="continuous"),zt){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}ut&&le("/PageMode /"+ut),ur.publish("putCatalog"),le(">>"),le("endobj")},dr=b.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(re+1)),le("/Root "+re+" 0 R"),le("/Info "+(re-1)+" 0 R"),g!==null&&le("/Encrypt "+ir.oid+" 0 R"),le("/ID [ <"+ne+"> <"+ne+"> ]"),le(">>")},$l=b.__private__.putHeader=function(){le("%PDF-"+j),le("%")},qc=b.__private__.putXRef=function(){var _="0000000000";le("xref"),le("0 "+(re+1)),le("0000000000 65535 f ");for(var P=1;P<=re;P++)typeof ve[P]=="function"?le((_+ve[P]()).slice(-10)+" 00000 n "):ve[P]!==void 0?le((_+ve[P]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Bi=b.__private__.buildDocument=function(){var _;re=0,Ae=0,xe=[],ve=[],Pe=[],zi=En(),Ci=En(),Re(xe),ur.publish("buildDocument"),$l(),Ji(),function(){ur.publish("putAdditionalObjects");for(var ee=0;ee<Pe.length;ee++){var pe=Pe[ee];zn(pe.objId,!0),le(pe.content),le("endobj")}ur.publish("postPutAdditionalObjects")}(),_=[],function(){for(var ee in at)at.hasOwnProperty(ee)&&(w===!1||w===!0&&S.hasOwnProperty(ee))&&jo(at[ee])}(),function(){var ee;for(ee in Rt)Rt.hasOwnProperty(ee)&&Ic(Rt[ee])}(),function(){for(var ee in kn)kn.hasOwnProperty(ee)&&Mi(kn[ee])}(),function(ee){var pe;for(pe in ht)ht.hasOwnProperty(pe)&&(ht[pe]instanceof kc?Qi(ht[pe]):ht[pe]instanceof Ku&&qs(ht[pe],ee))}(_),ur.publish("putResources"),_.forEach(Hs),Hs({resourcesOid:Ci,objectOid:Number.MAX_SAFE_INTEGER}),ur.publish("postPutResources"),g!==null&&(ir.oid=Mr(),le("<<"),le("/Filter /Standard"),le("/V "+ir.v),le("/R "+ir.r),le("/U <"+ir.toHexString(ir.U)+">"),le("/O <"+ir.toHexString(ir.O)+">"),le("/P "+ir.P),le(">>"),le("endobj")),Ys(),Fc();var P=Ae;return qc(),dr(),le("startxref"),le(""+P),le("%%EOF"),Re(qe[H]),xe.join(`
`)},Ao=b.__private__.getBlob=function(_){return new Blob([gt(_)],{type:"application/pdf"})},mi=b.output=b.__private__.output=(Dn=function(_,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",_){case void 0:return Bi();case"save":b.save(P.filename);break;case"arraybuffer":return gt(Bi());case"blob":return Ao(Bi());case"bloburi":case"bloburl":if(Ot.URL!==void 0&&typeof Ot.URL.createObjectURL=="function")return Ot.URL&&Ot.URL.createObjectURL(Ao(Bi()))||void 0;Pr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",pe=Bi();try{ee=Rb(pe)}catch{ee=Rb(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+P.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ot)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(Se=P.pdfObjectUrl,Me="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Qe=Ot.open();return Qe!==null&&Qe.document.write(He),Qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ot)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Ct=Ot.open();if(Ct!==null){Ct.document.write(st);var Pt=this;Ct.document.documentElement.querySelector("#pdfViewer").onload=function(){Ct.document.title=P.filename,Ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return Ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ot)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ar='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',Fr=Ot.open();if(Fr!==null&&(Fr.document.write(ar),Fr.document.title=P.filename),Fr||typeof safari>"u")return Fr;break;case"datauri":case"dataurl":return Ot.document.location.href=this.output("datauristring",P);default:return null}},Dn.foo=function(){try{return Dn.apply(this,arguments)}catch(ee){var _=ee.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var P="Error in function "+_.split(`
`)[0].split("<")[0]+": "+ee.message;if(!Ot.console)throw new Error(P);Ot.console.error(P,ee),Ot.alert&&alert(P)}},Dn.foo.bar=Dn,Dn.foo),ns=function(_){return Array.isArray(So)===!0&&So.indexOf(_)>-1};switch(i){case"pt":_t=1;break;case"mm":_t=72/25.4;break;case"cm":_t=72/2.54;break;case"in":_t=72;break;case"px":_t=ns("px_scaling")==1?.75:96/72;break;case"pc":case"em":_t=12;break;case"ex":_t=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);_t=i}var ir=null;ie(),ce();var is=b.__private__.getPageInfo=b.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[_].objId,pageNumber:_,pageContext:Nt[_]}},Hc=b.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in Nt)if(Nt[P].objId===_)break;return is(P)},Wl=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Nt[H].objId,pageNumber:H,pageContext:Nt[H]}};b.addPage=function(){return $s.apply(this,arguments),this},b.setPage=function(){return Ua.apply(this,arguments),Re.call(this,qe[H]),this},b.insertPage=function(_){return this.addPage(),this.movePage(H,_),this},b.movePage=function(_,P){var ee,pe;if(_>P){ee=qe[_],pe=Nt[_];for(var Se=_;Se>P;Se--)qe[Se]=qe[Se-1],Nt[Se]=Nt[Se-1];qe[P]=ee,Nt[P]=pe,this.setPage(P)}else if(_<P){ee=qe[_],pe=Nt[_];for(var Me=_;Me<P;Me++)qe[Me]=qe[Me+1],Nt[Me]=Nt[Me+1];qe[P]=ee,Nt[P]=pe,this.setPage(P)}return this},b.deletePage=function(){return Ws.apply(this,arguments),this},b.__private__.text=b.text=function(_,P,ee,pe,Se){var Me,He,Qe,st,Ct,Pt,ar,Fr,un,Ar=(pe=pe||{}).scope||this;if(typeof _=="number"&&typeof P=="number"&&(typeof ee=="string"||Array.isArray(ee))){var mn=ee;ee=P,P=_,_=mn}if(arguments[3]instanceof mt==0?(Qe=arguments[4],st=arguments[5],_r(ar=arguments[3])==="object"&&ar!==null||(typeof Qe=="string"&&(st=Qe,Qe=null),typeof ar=="string"&&(st=ar,ar=null),typeof ar=="number"&&(Qe=ar,ar=null),pe={flags:ar,angle:Qe,align:st})):(U("The transform parameter of text() with a Matrix value"),un=Se),isNaN(P)||isNaN(ee)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Ar;var dn,Bn="",Ui=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:Ii,vi=Ar.internal.scaleFactor;function Kc(Zt){return Zt=Zt.split("	").join(Array(pe.TabLen||9).join(" ")),oi(Zt,ar)}function Lo(Zt){for(var gr,Yr=Zt.concat(),Tr=[],Aa=Yr.length;Aa--;)typeof(gr=Yr.shift())=="string"?Tr.push(gr):Array.isArray(Zt)&&(gr.length===1||gr[1]===void 0&&gr[2]===void 0)?Tr.push(gr[0]):Tr.push([gr[0],gr[1],gr[2]]);return Tr}function aa(Zt,gr){var Yr;if(typeof Zt=="string")Yr=gr(Zt)[0];else if(Array.isArray(Zt)){for(var Tr,Aa,il=Zt.concat(),fs=[],Zc=il.length;Zc--;)typeof(Tr=il.shift())=="string"?fs.push(gr(Tr)[0]):Array.isArray(Tr)&&typeof Tr[0]=="string"&&(Aa=gr(Tr[0],Tr[1],Tr[2]),fs.push([Aa[0],Aa[1],Aa[2]]));Yr=fs}return Yr}var To=!1,Oo=!0;if(typeof _=="string")To=!0;else if(Array.isArray(_)){var Ro=_.concat();He=[];for(var Po,In=Ro.length;In--;)(typeof(Po=Ro.shift())!="string"||Array.isArray(Po)&&typeof Po[0]!="string")&&(Oo=!1);To=Oo}if(To===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Do=We/Ar.internal.scaleFactor,Fi=Do*(Ui-1);switch(pe.baseline){case"bottom":ee-=Fi;break;case"top":ee+=Do-Fi;break;case"hanging":ee+=Do-2*Fi;break;case"middle":ee+=Do/2-Fi}if((Pt=pe.maxWidth||0)>0&&(typeof _=="string"?_=Ar.splitTextToSize(_,Pt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Zt,gr){return Zt.concat(Ar.splitTextToSize(gr,Pt))},[]))),Me={text:_,x:P,y:ee,options:pe,mutex:{pdfEscape:oi,activeFontKey:Ze,fonts:at,activeFontSize:We}},ur.publish("preProcessText",Me),_=Me.text,Qe=(pe=Me.options).angle,un instanceof mt==0&&Qe&&typeof Qe=="number"){Qe*=Math.PI/180,pe.rotationDirection===0&&(Qe=-Qe),z===B&&(Qe=-Qe);var Ql=Math.cos(Qe),ec=Math.sin(Qe);un=new mt(Ql,ec,-ec,Ql,0,0)}else Qe&&Qe instanceof mt&&(un=Qe);z!==B||un||(un=zr),(Ct=pe.charSpace||os)!==void 0&&(Bn+=se(oe(Ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fr=pe.horizontalScale)!==void 0&&(Bn+=se(100*Fr)+` Tz
`),pe.lang;var Gr=-1,Sa=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,us=Ar.internal.getCurrentPageInfo().pageContext;switch(Sa){case 0:case!1:case"fill":Gr=0;break;case 1:case!0:case"stroke":Gr=1;break;case 2:case"fillThenStroke":Gr=2;break;case 3:case"invisible":Gr=3;break;case 4:case"fillAndAddForClipping":Gr=4;break;case 5:case"strokeAndAddPathForClipping":Gr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gr=6;break;case 7:case"addToPathForClipping":Gr=7}var zo=us.usedRenderingMode!==void 0?us.usedRenderingMode:-1;Gr!==-1?Bn+=Gr+` Tr
`:zo!==-1&&(Bn+=`0 Tr
`),Gr!==-1&&(us.usedRenderingMode=Gr),st=pe.align||"left";var Yn,ds=We*Ui,Mo=Ar.internal.pageSize.getWidth(),Js=at[Ze];Ct=pe.charSpace||os,Pt=pe.maxWidth||0,ar=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var Va=[],Ya=function(Zt){return Ar.getStringUnitWidth(Zt,{font:Js,charSpace:Ct,fontSize:We,doKerning:!1})*We/vi};if(Object.prototype.toString.call(_)==="[object Array]"){var si;He=Lo(_),st!=="left"&&(Yn=He.map(Ya));var bi,Ka=0;if(st==="right"){P-=Yn[0],_=[],In=He.length;for(var _a=0;_a<In;_a++)_a===0?(bi=ra(P),si=Ei(ee)):(bi=oe(Ka-Yn[_a]),si=-ds),_.push([He[_a],bi,si]),Ka=Yn[_a]}else if(st==="center"){P-=Yn[0]/2,_=[],In=He.length;for(var Bo=0;Bo<In;Bo++)Bo===0?(bi=ra(P),si=Ei(ee)):(bi=oe((Ka-Yn[Bo])/2),si=-ds),_.push([He[Bo],bi,si]),Ka=Yn[Bo]}else if(st==="left"){_=[],In=He.length;for(var tc=0;tc<In;tc++)_.push(He[tc])}else if(st==="justify"&&Js.encoding==="Identity-H"){_=[],In=He.length,Pt=Pt!==0?Pt:Mo;for(var Qs=0,nn=0;nn<In;nn++)if(si=nn===0?Ei(ee):-ds,bi=nn===0?ra(P):Qs,nn<In-1){var Xc=oe((Pt-Yn[nn])/(He[nn].split(" ").length-1)),Vr=He[nn].split(" ");_.push([Vr[0]+" ",bi,si]),Qs=0;for(var yi=1;yi<Vr.length;yi++){var el=(Ya(Vr[yi-1]+" "+Vr[yi])-Ya(Vr[yi]))*vi+Xc;yi==Vr.length-1?_.push([Vr[yi],el,0]):_.push([Vr[yi]+" ",el,0]),Qs-=el}}else _.push([He[nn],bi,si]);_.push(["",Qs,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],In=He.length,Pt=Pt!==0?Pt:Mo,nn=0;nn<In;nn++){si=nn===0?Ei(ee):-ds,bi=nn===0?ra(P):0;var tl=He[nn].split(" ").length-1,rl=tl>0?(Pt-Yn[nn])/tl:0;nn<In-1?Va.push(se(oe(rl))):Va.push(0),_.push([He[nn],bi,si])}}}(typeof pe.R2L=="boolean"?pe.R2L:Mt)===!0&&(_=aa(_,function(Zt,gr,Yr){return[Zt.split("").reverse().join(""),gr,Yr]})),Me={text:_,x:P,y:ee,options:pe,mutex:{pdfEscape:oi,activeFontKey:Ze,fonts:at,activeFontSize:We}},ur.publish("postProcessText",Me),_=Me.text,dn=Me.mutex.isHex||!1;var nl=at[Ze].encoding;nl!=="WinAnsiEncoding"&&nl!=="StandardEncoding"||(_=aa(_,function(Zt,gr,Yr){return[Kc(Zt),gr,Yr]})),He=Lo(_),_=[];for(var ja,Io,Ni,Xa=Array.isArray(He[0])?1:0,qi="",Za=function(Zt,gr,Yr){var Tr="";return Yr instanceof mt?(Yr=typeof pe.angle=="number"?Wn(Yr,new mt(1,0,0,1,Zt,gr)):Wn(new mt(1,0,0,1,Zt,gr),Yr),z===B&&(Yr=Wn(new mt(1,0,0,-1,0,0),Yr)),Tr=Yr.join(" ")+` Tm
`):Tr=se(Zt)+" "+se(gr)+` Td
`,Tr},Li=0;Li<He.length;Li++){switch(qi="",Xa){case 1:Ni=(dn?"<":"(")+He[Li][0]+(dn?">":")"),ja=parseFloat(He[Li][1]),Io=parseFloat(He[Li][2]);break;case 0:Ni=(dn?"<":"(")+He[Li]+(dn?">":")"),ja=ra(P),Io=Ei(ee)}Va!==void 0&&Va[Li]!==void 0&&(qi=Va[Li]+` Tw
`),Li===0?_.push(qi+Za(ja,Io,un)+Ni):Xa===0?_.push(qi+Ni):Xa===1&&_.push(qi+Za(ja,Io,un)+Ni)}_=Xa===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Kn=`BT
/`;return Kn+=Ze+" "+We+` Tf
`,Kn+=se(We*Ui)+` TL
`,Kn+=xa+`
`,Kn+=Bn,Kn+=_,le(Kn+="ET"),S[Ze]=!0,Ar};var Co=b.__private__.clip=b.clip=function(_){return le(_==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Co("evenodd")},b.__private__.discardPath=b.discardPath=function(){return le("n"),this};var ea=b.__private__.isValidStyle=function(_){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(P=!0),P};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(_){return ea(_)&&(h=_),this};var Gl=b.__private__.getStyle=b.getStyle=function(_){var P=h;switch(_){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=_}return P},Fa=b.close=function(){return le("h"),this};b.stroke=function(){return le("S"),this},b.fill=function(_){return ko("f",_),this},b.fillEvenOdd=function(_){return ko("f*",_),this},b.fillStroke=function(_){return ko("B",_),this},b.fillStrokeEvenOdd=function(_){return ko("B*",_),this};var ko=function(_,P){_r(P)==="object"?Vl(P,_):le(_)},Ks=function(_){_===null||z===B&&_===void 0||(_=Gl(_),le(_))};function $c(_,P,ee,pe,Se){var Me=new Ku(P||this.boundingBox,ee||this.xStep,pe||this.yStep,this.gState,Se||this.matrix);Me.stream=this.stream;var He=_+"$$"+this.cloneIndex+++"$$";return Lr(He,Me),Me}var Vl=function(_,P){var ee=Xt[_.key],pe=ht[ee];if(pe instanceof kc)le("q"),le(wd(P)),pe.gState&&b.setGState(pe.gState),le(_.matrix.toString()+" cm"),le("/"+ee+" sh"),le("Q");else if(pe instanceof Ku){var Se=new mt(1,0,0,-1,0,cs());_.matrix&&(Se=Se.multiply(_.matrix||zr),ee=$c.call(pe,_.key,_.boundingBox,_.xStep,_.yStep,Se).id),le("q"),le("/Pattern cs"),le("/"+ee+" scn"),pe.gState&&b.setGState(pe.gState),le(P),le("Q")}},wd=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Yl=b.moveTo=function(_,P){return le(se(oe(_))+" "+se(ae(P))+" m"),this},ma=b.lineTo=function(_,P){return le(se(oe(_))+" "+se(ae(P))+" l"),this},va=b.curveTo=function(_,P,ee,pe,Se,Me){return le([se(oe(_)),se(ae(P)),se(oe(ee)),se(ae(pe)),se(oe(Se)),se(ae(Me)),"c"].join(" ")),this};b.__private__.line=b.line=function(_,P,ee,pe,Se){if(isNaN(_)||isNaN(P)||isNaN(ee)||isNaN(pe)||!ea(Se))throw new Error("Invalid arguments passed to jsPDF.line");return z===R?this.lines([[ee-_,pe-P]],_,P,[1,1],Se||"S"):this.lines([[ee-_,pe-P]],_,P,[1,1]).stroke()},b.__private__.lines=b.lines=function(_,P,ee,pe,Se,Me){var He,Qe,st,Ct,Pt,ar,Fr,un,Ar,mn,dn,Bn;if(typeof _=="number"&&(Bn=ee,ee=P,P=_,_=Bn),pe=pe||[1,1],Me=Me||!1,isNaN(P)||isNaN(ee)||!Array.isArray(_)||!Array.isArray(pe)||!ea(Se)||typeof Me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Yl(P,ee),He=pe[0],Qe=pe[1],Ct=_.length,mn=P,dn=ee,st=0;st<Ct;st++)(Pt=_[st]).length===2?(mn=Pt[0]*He+mn,dn=Pt[1]*Qe+dn,ma(mn,dn)):(ar=Pt[0]*He+mn,Fr=Pt[1]*Qe+dn,un=Pt[2]*He+mn,Ar=Pt[3]*Qe+dn,mn=Pt[4]*He+mn,dn=Pt[5]*Qe+dn,va(ar,Fr,un,Ar,mn,dn));return Me&&Fa(),Ks(Se),this},b.path=function(_){for(var P=0;P<_.length;P++){var ee=_[P],pe=ee.c;switch(ee.op){case"m":Yl(pe[0],pe[1]);break;case"l":ma(pe[0],pe[1]);break;case"c":va.apply(this,pe);break;case"h":Fa()}}return this},b.__private__.rect=b.rect=function(_,P,ee,pe,Se){if(isNaN(_)||isNaN(P)||isNaN(ee)||isNaN(pe)||!ea(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return z===R&&(pe=-pe),le([se(oe(_)),se(ae(P)),se(oe(ee)),se(oe(pe)),"re"].join(" ")),Ks(Se),this},b.__private__.triangle=b.triangle=function(_,P,ee,pe,Se,Me,He){if(isNaN(_)||isNaN(P)||isNaN(ee)||isNaN(pe)||isNaN(Se)||isNaN(Me)||!ea(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-_,pe-P],[Se-ee,Me-pe],[_-Se,P-Me]],_,P,[1,1],He,!0),this},b.__private__.roundedRect=b.roundedRect=function(_,P,ee,pe,Se,Me,He){if(isNaN(_)||isNaN(P)||isNaN(ee)||isNaN(pe)||isNaN(Se)||isNaN(Me)||!ea(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qe=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*ee),Me=Math.min(Me,.5*pe),this.lines([[ee-2*Se,0],[Se*Qe,0,Se,Me-Me*Qe,Se,Me],[0,pe-2*Me],[0,Me*Qe,-Se*Qe,Me,-Se,Me],[2*Se-ee,0],[-Se*Qe,0,-Se,-Me*Qe,-Se,-Me],[0,2*Me-pe],[0,-Me*Qe,Se*Qe,-Me,Se,-Me]],_+Se,P,[1,1],He,!0),this},b.__private__.ellipse=b.ellipse=function(_,P,ee,pe,Se){if(isNaN(_)||isNaN(P)||isNaN(ee)||isNaN(pe)||!ea(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Me=4/3*(Math.SQRT2-1)*ee,He=4/3*(Math.SQRT2-1)*pe;return Yl(_+ee,P),va(_+ee,P-He,_+Me,P-pe,_,P-pe),va(_-Me,P-pe,_-ee,P-He,_-ee,P),va(_-ee,P+He,_-Me,P+pe,_,P+pe),va(_+Me,P+pe,_+ee,P+He,_+ee,P),Ks(Se),this},b.__private__.circle=b.circle=function(_,P,ee,pe){if(isNaN(_)||isNaN(P)||isNaN(ee)||!ea(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,P,ee,ee,pe)},b.setFont=function(_,P,ee){return ee&&(P=J(P,ee)),Ze=Vs(_,P,{disableWarning:!1}),this};var Kl=b.__private__.getFont=b.getFont=function(){return at[Vs.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var _,P,ee={};for(_ in bt)if(bt.hasOwnProperty(_))for(P in ee[_]=[],bt[_])bt[_].hasOwnProperty(P)&&ee[_].push(P);return ee},b.addFont=function(_,P,ee,pe,Se){var Me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Me.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Me.indexOf(arguments[3])==-1&&(ee=J(ee,pe)),rs.call(this,_,P,ee,Se=Se||"Identity-H")};var Ii,ba=t.lineWidth||.200025,At=b.__private__.getLineWidth=b.getLineWidth=function(){return ba},Xl=b.__private__.setLineWidth=b.setLineWidth=function(_){return ba=_,le(se(oe(_))+" w"),this};b.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(_,P){if(_=_||[],P=P||0,isNaN(P)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(ee){return se(oe(ee))}).join(" "),P=se(oe(P)),le("["+_+"] "+P+" d"),this};var Wc=b.__private__.getLineHeight=b.getLineHeight=function(){return We*Ii};b.__private__.getLineHeight=b.getLineHeight=function(){return We*Ii};var as=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(Ii=_),this},ta=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Ii};as(t.lineHeight);var ra=b.__private__.getHorizontalCoordinate=function(_){return oe(_)},Ei=b.__private__.getVerticalCoordinate=function(_){return z===B?_:Nt[H].mediaBox.topRightY-Nt[H].mediaBox.bottomLeftY-oe(_)},ya=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(_){return se(ra(_))},Zl=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(_){return se(Ei(_))},qa=t.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return ii(qa)},b.__private__.setStrokeColor=b.setDrawColor=function(_,P,ee,pe){return qa=Gn({ch1:_,ch2:P,ch3:ee,ch4:pe,pdfColorType:"draw",precision:2}),le(qa),this};var Xs=t.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return ii(Xs)},b.__private__.setFillColor=b.setFillColor=function(_,P,ee,pe){return Xs=Gn({ch1:_,ch2:P,ch3:ee,ch4:pe,pdfColorType:"fill",precision:2}),le(Xs),this};var xa=t.textColor||"0 g",Ha=b.__private__.getTextColor=b.getTextColor=function(){return ii(xa)};b.__private__.setTextColor=b.setTextColor=function(_,P,ee,pe){return xa=Gn({ch1:_,ch2:P,ch3:ee,ch4:pe,pdfColorType:"text",precision:3}),this};var os=t.charSpace,Vn=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(os||0)};b.__private__.setCharSpace=b.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return os=_,this};var na=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(_){var P=b.CapJoinStyles[_];if(P===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return na=P,le(P+" J"),this};var Eo=0;b.__private__.setLineJoin=b.setLineJoin=function(_){var P=b.CapJoinStyles[_];if(P===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Eo=P,le(P+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(se(oe(_))+" M"),this},b.GState=I0,b.setGState=function(_){(_=typeof _=="string"?Rt[Wr[_]]:ia(null,_)).equals(rn)||(le("/"+_.id+" gs"),rn=_)};var ia=function(_,P){if(!_||!Wr[_]){var ee=!1;for(var pe in Rt)if(Rt.hasOwnProperty(pe)&&Rt[pe].equals(P)){ee=!0;break}if(ee)P=Rt[pe];else{var Se="GS"+(Object.keys(Rt).length+1).toString(10);Rt[Se]=P,P.id=Se}return _&&(Wr[_]=P.id),ur.publish("addGState",P),P}};b.addGState=function(_,P){return ia(_,P),this},b.saveGraphicsState=function(){return le("q"),hr.push({key:Ze,size:We,color:xa}),this},b.restoreGraphicsState=function(){le("Q");var _=hr.pop();return Ze=_.key,We=_.size,xa=_.color,rn=null,this},b.setCurrentTransformationMatrix=function(_){return le(_.toString()+" cm"),this},b.comment=function(_){return le("#"+_),this};var ss=function(_,P){var ee=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(Me){isNaN(Me)||(ee=parseFloat(Me))}});var pe=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Me){isNaN(Me)||(pe=parseFloat(Me))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Me){Se=Me.toString()}}),this},ls=function(_,P,ee,pe){ss.call(this,_,P),this.type="rect";var Se=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(He){isNaN(He)||(Se=parseFloat(He))}});var Me=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Me},set:function(He){isNaN(He)||(Me=parseFloat(He))}}),this},No=function(){this.page=cr,this.currentPage=H,this.pages=qe.slice(0),this.pagesContext=Nt.slice(0),this.x=dt,this.y=jr,this.matrix=er,this.width=Jl(H),this.height=Wa(H),this.outputDestination=Ke,this.id="",this.objectNumber=-1};No.prototype.restore=function(){cr=this.page,H=this.currentPage,Nt=this.pagesContext,qe=this.pages,dt=this.x,jr=this.y,er=this.matrix,Gc(H,this.width),Ga(H,this.height),Ke=this.outputDestination};var $a=function(_,P,ee,pe,Se){Zi.push(new No),cr=H=0,qe=[],dt=_,jr=P,er=Se,ki([ee,pe])};for(var wa in b.beginFormObject=function(_,P,ee,pe,Se){return $a(_,P,ee,pe,Se),this},b.endFormObject=function(_){return function(P){if(Xi[P])Zi.pop().restore();else{var ee=new No,pe="Xo"+(Object.keys(kn).length+1).toString(10);ee.id=pe,Xi[P]=pe,kn[pe]=ee,ur.publish("addFormObject",ee),Zi.pop().restore()}}(_),this},b.doFormObject=function(_,P){var ee=kn[Xi[_]];return le("q"),le(P.toString()+" cm"),le("/"+ee.id+" Do"),le("Q"),this},b.getFormObject=function(_){var P=kn[Xi[_]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},b.save=function(_,P){return _=_||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Ac(Ao(Bi()),_),typeof Ac.unload=="function"&&Ot.setTimeout&&setTimeout(Ac.unload,911),this):new Promise(function(ee,pe){try{var Se=Ac(Ao(Bi()),_);typeof Ac.unload=="function"&&Ot.setTimeout&&setTimeout(Ac.unload,911),ee(Se)}catch(Me){pe(Me.message)}})},ct.API)ct.API.hasOwnProperty(wa)&&(wa==="events"&&ct.API.events.length?function(_,P){var ee,pe,Se;for(Se=P.length-1;Se!==-1;Se--)ee=P[Se][0],pe=P[Se][1],_.subscribe.apply(_,[ee].concat(typeof pe=="function"?[pe]:pe))}(ur,ct.API.events):b[wa]=ct.API[wa]);function Jl(_){return Nt[_].mediaBox.topRightX-Nt[_].mediaBox.bottomLeftX}function Gc(_,P){Nt[_].mediaBox.topRightX=P+Nt[_].mediaBox.bottomLeftX}function Wa(_){return Nt[_].mediaBox.topRightY-Nt[_].mediaBox.bottomLeftY}function Ga(_,P){Nt[_].mediaBox.topRightY=P+Nt[_].mediaBox.bottomLeftY}var Zs=b.getPageWidth=function(_){return Jl(_=_||H)/_t},Vc=b.setPageWidth=function(_,P){Gc(_,P*_t)},cs=b.getPageHeight=function(_){return Wa(_=_||H)/_t},Yc=b.setPageHeight=function(_,P){Ga(_,P*_t)};return b.internal={pdfEscape:oi,getStyle:Gl,getFont:Kl,getFontSize:Ye,getCharSpace:Vn,getTextColor:Ha,getLineHeight:Wc,getLineHeightFactor:ta,getLineWidth:At,write:Gt,getHorizontalCoordinate:ra,getVerticalCoordinate:Ei,getCoordinateString:ya,getVerticalCoordinateString:Zl,collections:{},newObject:Mr,newAdditionalObject:_o,newObjectDeferred:En,newObjectDeferredBegin:zn,getFilters:ai,putStream:Mn,events:ur,scaleFactor:_t,pageSize:{getWidth:function(){return Zs(H)},setWidth:function(_){Vc(H,_)},getHeight:function(){return cs(H)},setHeight:function(_){Yc(H,_)}},encryptionOptions:g,encryption:ir,getEncryptor:function(_){return g!==null?ir.encryptor(_,0):function(P){return P}},output:mi,getNumberOfPages:Gs,pages:qe,out:le,f2:M,f3:W,getPageInfo:is,getPageInfoByObjId:Hc,getCurrentPageInfo:Wl,getPDFVersion:C,Point:ss,Rectangle:ls,Matrix:mt,hasHotfix:ns},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Zs(H)},set:function(_){Vc(H,_)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return cs(H)},set:function(_){Yc(H,_)},enumerable:!0,configurable:!0}),(function(_){for(var P=0,ee=pt.length;P<ee;P++){var pe=rs.call(this,_[P][0],_[P][1],_[P][2],pt[P][3],!0);w===!1&&(S[pe]=!0);var Se=_[P][0].split("-");Uc({id:pe,fontName:Se[0],fontStyle:Se[1]||""})}ur.publish("addFonts",{fonts:at,dictionary:bt})}).call(b,pt),Ze="F1",$s(o,r),ur.publish("initialized"),b}Gu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Gu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Gu.prototype.processOwnerPassword=function(t,e){return Bg(Mg(e).substr(0,5),t)},Gu.prototype.encryptor=function(t,e){var r=Mg(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return Bg(r,i)}},I0.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||_r(t)!==_r(this))return!1;var i=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&i--;return i===0},ct.API={events:[]},ct.version="3.0.3";var gn=ct.API,bm=1,Bc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bt=function(t){return t.toFixed(2)},Rl=function(t){return t.toFixed(5)};gn.__acroform__={};var Ki=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Mb=function(t){return t*bm},Zo=function(t){var e=new jw,r=it.internal.getHeight(t)||0,i=it.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Bt(i)),Number(Bt(r))],e},_k=gn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},jk=gn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Ak=gn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},jn=gn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ak(t,e-1)},An=gn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _k(t,e-1)},Cn=gn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return jk(t,e-1)},Ck=gn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,o=t[0],s=t[1],c=t[2],d=t[3],f={};return f.lowerLeft_X=r(o)||0,f.lowerLeft_Y=i(s+d)||0,f.upperRight_X=r(o+c)||0,f.upperRight_Y=i(s)||0,[Number(Bt(f.lowerLeft_X)),Number(Bt(f.lowerLeft_Y)),Number(Bt(f.upperRight_X)),Number(Bt(f.upperRight_Y))]},kk=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,i=Ig(t,r),o=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+o+" "+Bt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Zo(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Ig=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},o=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");o=t.multiline?o.map(function(M){return M.split(`
`)}):o.map(function(M){return[M]});var s=r,c=it.internal.getHeight(t)||0;c=c<0?-c:c;var d=it.internal.getWidth(t)||0;d=d<0?-d:d;var f=function(M,W,oe){if(M+1<o.length){var ae=W+" "+o[M+1][0];return r0(ae,t,oe).width<=d-4}return!1};s++;e:for(;s>0;){e="",s--;var h,g,w=r0("3",t,s).height,S=t.multiline?c-s:(c-w)/2,b=S+=2,j=0,C=0,N=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+r0(e,t,s=12).width+", FieldWidth:"+d+`
`;break}for(var E="",R=0,B=0;B<o.length;B++)if(o.hasOwnProperty(B)){var z=!1;if(o[B].length!==1&&N!==o[B].length-1){if((w+2)*(R+2)+2>c)continue e;E+=o[B][N],z=!0,C=B,B--}else{E=(E+=o[B][N]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var Q=parseInt(B),ue=f(Q,E,s),J=B>=o.length-1;if(ue&&!J){E+=" ",N=0;continue}if(ue||J){if(J)C=Q;else if(t.multiline&&(w+2)*(R+2)+2>c)continue e}else{if(!t.multiline||(w+2)*(R+2)+2>c)continue e;C=Q}}for(var se="",U=j;U<=C;U++){var te=o[U];if(t.multiline){if(U===C){se+=te[N]+" ",N=(N+1)%te.length;continue}if(U===j){se+=te[te.length-1]+" ";continue}}se+=te[0]+" "}switch(se=se.substr(se.length-1)==" "?se.substr(0,se.length-1):se,g=r0(se,t,s).width,t.textAlign){case"right":h=d-g-2;break;case"center":h=(d-g)/2;break;default:h=2}e+=Bt(h)+" "+Bt(b)+` Td
`,e+="("+Bc(se)+`) Tj
`,e+=-Bt(h)+` 0 Td
`,b=-(s+2),g=0,j=z?C:C+1,R++,E=""}break}return i.text=e,i.fontSize=s,i},r0=function(t,e,r){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:o}},Ek={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Nk=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===r.type&&i.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Lk=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Ek)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");bm=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Aw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s.objId=void 0,s.hasAnnotation&&Nk(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(i,o){var s=!i;for(var c in i||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(c)){var d=i[c],f=[],h=d.Rect;if(d.Rect&&(d.Rect=Ck(d.Rect,o)),o.internal.newObjectDeferredBegin(d.objId,!0),d.DA=it.createDefaultAppearanceStream(d),_r(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(f=d.getKeyValueListForStream()),d.Rect=h,d.hasAppearanceStream&&!d.appearanceStreamContent){var g=kk(d);f.push({key:"AP",value:"<</N "+g+">>"}),o.internal.acroformPlugin.xForms.push(g)}if(d.appearanceStreamContent){var w="";for(var S in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(S)){var b=d.appearanceStreamContent[S];if(w+="/"+S+" ",w+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var c in b)if(b.hasOwnProperty(c)){var j=b[c];typeof j=="function"&&(j=j.call(o,d)),w+="/"+c+" "+j+" ",o.internal.acroformPlugin.xForms.indexOf(j)>=0||o.internal.acroformPlugin.xForms.push(j)}}else typeof(j=b)=="function"&&(j=j.call(o,d)),w+="/"+c+" "+j,o.internal.acroformPlugin.xForms.indexOf(j)>=0||o.internal.acroformPlugin.xForms.push(j);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}o.internal.putStream({additionalKeyValues:f,objectId:d.objId}),o.internal.out("endobj")}s&&function(C,N){for(var E in C)if(C.hasOwnProperty(E)){var R=E,B=C[E];N.internal.newObjectDeferredBegin(B.objId,!0),_r(B)==="object"&&typeof B.putStream=="function"&&B.putStream(),delete C[R]}}(o.internal.acroformPlugin.xForms,o)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},_w=gn.__acroform__.arrayToPdfArray=function(t,e,r){var i=function(c){return c};if(Array.isArray(t)){for(var o="[",s=0;s<t.length;s++)switch(s!==0&&(o+=" "),_r(t[s])){case"boolean":case"number":case"object":o+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(i=r.internal.getEncryptor(e)),o+="("+Bc(i(t[s].toString()))+")"):o+=t[s].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Z1=function(t,e,r){var i=function(o){return o};return e!==void 0&&r&&(i=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Bc(i(t))+")"},es=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};es.prototype.toString=function(){return this.objId+" 0 R"},es.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},es.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var i=e[r],o=this[i];o&&(Array.isArray(o)?t.push({key:i,value:_w(o,this.objId,this.scope)}):o instanceof es?(o.scope=this.scope,t.push({key:i,value:o.objId+" 0 R"})):typeof o!="function"&&t.push({key:i,value:o}))}return t};var jw=function(){es.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ki(jw,es);var Aw=function(){es.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(i){return i};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Bc(r(t))+")"}},set:function(r){t=r}})};Ki(Aw,es);var xo=function t(){es.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!jn(e,3)},set:function(E){E?this.F=An(e,3):this.F=Cn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');r=E}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(E){i=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(E){i[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(E){i[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(E){i[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(E){i[3]=E}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof U0)return;s="FieldObject"+t.FieldNum++}var E=function(R){return R};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Bc(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(E){f=E}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/bm:h},set:function(E){h=E}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(E){g=E}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof U0||this instanceof Oc))return Z1(w,this.objId,this.scope)},set:function(E){E=E.toString(),w=E}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof ni==0?Z1(S,this.objId,this.scope):S},set:function(E){E=E.toString(),S=this instanceof ni==0?E.substr(0,1)==="("?qu(E.substr(1,E.length-2)):qu(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ni==1?qu(S.substr(1,S.length-1)):S},set:function(E){E=E.toString(),S=this instanceof ni==1?"/"+E:E}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof ni==0?Z1(b,this.objId,this.scope):b},set:function(E){E=E.toString(),b=this instanceof ni==0?E.substr(0,1)==="("?qu(E.substr(1,E.length-2)):qu(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ni==1?qu(b.substr(1,b.length-1)):b},set:function(E){E=E.toString(),b=this instanceof ni==1?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(E){E=!!E,C=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(E){j=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,1)},set:function(E){E?this.Ff=An(this.Ff,1):this.Ff=Cn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,2)},set:function(E){E?this.Ff=An(this.Ff,2):this.Ff=Cn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,3)},set:function(E){E?this.Ff=An(this.Ff,3):this.Ff=Cn(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');N=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(N){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Ki(xo,es);var td=function(){xo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _w(e,this.objId,this.scope)},set:function(r){var i,o;o=[],typeof(i=r)=="string"&&(o=function(s,c,d){d||(d=1);for(var f,h=[];f=c.exec(s);)h.push(f[d]);return h}(i,/\((.*?)\)/g)),e=o}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,i){for(i=i||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,18)},set:function(r){r?this.Ff=An(this.Ff,18):this.Ff=Cn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=An(this.Ff,19):this.Ff=Cn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,20)},set:function(r){r?(this.Ff=An(this.Ff,20),e.sort()):this.Ff=Cn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,22)},set:function(r){r?this.Ff=An(this.Ff,22):this.Ff=Cn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,23)},set:function(r){r?this.Ff=An(this.Ff,23):this.Ff=Cn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,27)},set:function(r){r?this.Ff=An(this.Ff,27):this.Ff=Cn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ki(td,xo);var rd=function(){td.call(this),this.fontName="helvetica",this.combo=!1};Ki(rd,td);var nd=function(){rd.call(this),this.combo=!0};Ki(nd,rd);var b0=function(){nd.call(this),this.edit=!0};Ki(b0,nd);var ni=function(){xo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,15)},set:function(r){r?this.Ff=An(this.Ff,15):this.Ff=Cn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,16)},set:function(r){r?this.Ff=An(this.Ff,16):this.Ff=Cn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,17)},set:function(r){r?this.Ff=An(this.Ff,17):this.Ff=Cn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,26)},set:function(r){r?this.Ff=An(this.Ff,26):this.Ff=Cn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,o=[];for(i in o.push("<<"),e)o.push("/"+i+" ("+Bc(r(e[i]))+")");return o.push(">>"),o.join(`
`)}},set:function(r){_r(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ki(ni,xo);var y0=function(){ni.call(this),this.pushButton=!0};Ki(y0,ni);var id=function(){ni.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ki(id,ni);var U0=function(){var t,e;xo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(o){t=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(o){e=o}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(d){return d};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var s,c=[];for(s in c.push("<<"),i)c.push("/"+s+" ("+Bc(o(i[s]))+")");return c.push(">>"),c.join(`
`)},set:function(o){_r(o)==="object"&&(i=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(o){typeof o=="string"&&(i.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(o){r=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(o){r="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=it.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ki(U0,xo),id.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},id.prototype.createOption=function(t){var e=new U0;return e.Parent=this,e.optionName=t,this.Kids.push(e),Tk.call(this.scope,e),e};var x0=function(){ni.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=it.CheckBox.createAppearanceStream()};Ki(x0,ni);var Oc=function(){xo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,13)},set:function(e){e?this.Ff=An(this.Ff,13):this.Ff=Cn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,21)},set:function(e){e?this.Ff=An(this.Ff,21):this.Ff=Cn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,23)},set:function(e){e?this.Ff=An(this.Ff,23):this.Ff=Cn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,24)},set:function(e){e?this.Ff=An(this.Ff,24):this.Ff=Cn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,25)},set:function(e){e?this.Ff=An(this.Ff,25):this.Ff=Cn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,26)},set:function(e){e?this.Ff=An(this.Ff,26):this.Ff=Cn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ki(Oc,xo);var w0=function(){Oc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,14)},set:function(t){t?this.Ff=An(this.Ff,14):this.Ff=Cn(this.Ff,14)}}),this.password=!0};Ki(w0,Oc);var it={CheckBox:{createAppearanceStream:function(){return{N:{On:it.CheckBox.YesNormal},D:{On:it.CheckBox.YesPushDown,Off:it.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Zo(t);e.scope=t.scope;var r=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),s=Ig(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Bt(it.internal.getWidth(t))+" "+Bt(it.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+i+" "+Bt(s.fontSize)+" Tf "+o),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Zo(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=[],s=it.internal.getHeight(t),c=it.internal.getWidth(t),d=Ig(t,t.caption);return o.push("1 g"),o.push("0 0 "+Bt(c)+" "+Bt(s)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Bt(c-1)+" "+Bt(s-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+r+" "+Bt(d.fontSize)+" Tf "+i),o.push(d.text),o.push("ET"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(t){var e=Zo(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Bt(it.internal.getWidth(t))+" "+Bt(it.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Circle.YesNormal,e.D[t]=it.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Zo(t);e.scope=t.scope;var r=[],i=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var o=it.internal.Bezier_C,s=Number((i*o).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Rl(it.internal.getWidth(t)/2)+" "+Rl(it.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Zo(t);e.scope=t.scope;var r=[],i=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),s=Number((o*it.internal.Bezier_C).toFixed(5)),c=Number((i*it.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Rl(it.internal.getWidth(t)/2)+" "+Rl(it.internal.getHeight(t)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),r.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),r.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),r.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Rl(it.internal.getWidth(t)/2)+" "+Rl(it.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+c+" "+c+" "+i+" 0 "+i+" c"),r.push("-"+c+" "+i+" -"+i+" "+c+" -"+i+" 0 c"),r.push("-"+i+" -"+c+" -"+c+" -"+i+" 0 -"+i+" c"),r.push(c+" -"+i+" "+i+" -"+c+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Zo(t);e.scope=t.scope;var r=[],i=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),s=Number((o*it.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Rl(it.internal.getWidth(t)/2)+" "+Rl(it.internal.getHeight(t)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),r.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),r.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),r.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Cross.YesNormal,e.D[t]=it.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Zo(t);e.scope=t.scope;var r=[],i=it.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Bt(it.internal.getWidth(t)-2)+" "+Bt(it.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Bt(i.x1.x)+" "+Bt(i.x1.y)+" m"),r.push(Bt(i.x2.x)+" "+Bt(i.x2.y)+" l"),r.push(Bt(i.x4.x)+" "+Bt(i.x4.y)+" m"),r.push(Bt(i.x3.x)+" "+Bt(i.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Zo(t);e.scope=t.scope;var r=it.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Bt(it.internal.getWidth(t))+" "+Bt(it.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Bt(it.internal.getWidth(t)-2)+" "+Bt(it.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Bt(r.x1.x)+" "+Bt(r.x1.y)+" m"),i.push(Bt(r.x2.x)+" "+Bt(r.x2.y)+" l"),i.push(Bt(r.x4.x)+" "+Bt(r.x4.y)+" m"),i.push(Bt(r.x3.x)+" "+Bt(r.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Zo(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Bt(it.internal.getWidth(t))+" "+Bt(it.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};it.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=it.internal.getWidth(t),r=it.internal.getHeight(t),i=Math.min(e,r);return{x1:{x:(e-i)/2,y:(r-i)/2+i},x2:{x:(e-i)/2+i,y:(r-i)/2},x3:{x:(e-i)/2,y:(r-i)/2},x4:{x:(e-i)/2+i,y:(r-i)/2+i}}}},it.internal.getWidth=function(t){var e=0;return _r(t)==="object"&&(e=Mb(t.Rect[2])),e},it.internal.getHeight=function(t){var e=0;return _r(t)==="object"&&(e=Mb(t.Rect[3])),e};var Tk=gn.addField=function(t){if(Lk(this,t),!(t instanceof xo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};gn.AcroFormChoiceField=td,gn.AcroFormListBox=rd,gn.AcroFormComboBox=nd,gn.AcroFormEditBox=b0,gn.AcroFormButton=ni,gn.AcroFormPushButton=y0,gn.AcroFormRadioButton=id,gn.AcroFormCheckBox=x0,gn.AcroFormTextField=Oc,gn.AcroFormPasswordField=w0,gn.AcroFormAppearance=it,gn.AcroForm={ChoiceField:td,ListBox:rd,ComboBox:nd,EditBox:b0,Button:ni,PushButton:y0,RadioButton:id,CheckBox:x0,TextField:Oc,PasswordField:w0,Appearance:it},ct.AcroForm={ChoiceField:td,ListBox:rd,ComboBox:nd,EditBox:b0,Button:ni,PushButton:y0,RadioButton:id,CheckBox:x0,TextField:Oc,PasswordField:w0,Appearance:it};ct.AcroForm;function Cw(t){return t.reduce(function(e,r,i){return e[r]=i,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=t.__addimage__.getImageFileTypeByImageData=function(M,W){var oe,ae,be,ne,he,ce=r;if((W=W||r)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(ue(M))for(he in i)for(be=i[he],oe=0;oe<be.length;oe+=1){for(ne=!0,ae=0;ae<be[oe].length;ae+=1)if(be[oe][ae]!==void 0&&be[oe][ae]!==M[ae]){ne=!1;break}if(ne===!0){ce=he;break}}else for(he in i)for(be=i[he],oe=0;oe<be.length;oe+=1){for(ne=!0,ae=0;ae<be[oe].length;ae+=1)if(be[oe][ae]!==void 0&&be[oe][ae]!==M.charCodeAt(ae)){ne=!1;break}if(ne===!0){ce=he;break}}return ce===r&&W!==r&&(ce=W),ce},s=function M(W){for(var oe=this.internal.write,ae=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:W.width}),ne.push({key:"Height",value:W.height}),W.colorSpace===E.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===E.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)&&W.transparency.length>0){for(var he="",ce=0,je=W.transparency.length;ce<je;ce++)he+=W.transparency[ce]+" "+W.transparency[ce]+" ";ne.push({key:"Mask",value:"["+he+"]"})}W.sMask!==void 0&&ne.push({key:"SMask",value:W.objectId+1+" 0 R"});var O=W.filter!==void 0?["/"+W.filter]:void 0;if(ae({data:W.data,additionalKeyValues:ne,alreadyAppliedFilters:O,objectId:W.objectId}),oe("endobj"),"sMask"in W&&W.sMask!==void 0){var ie,L=(ie=W.sMaskBitsPerComponent)!==null&&ie!==void 0?ie:W.bitsPerComponent,H={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:W.sMask};"filter"in W&&(H.decodeParameters="/Predictor ".concat(W.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(W.width),H.filter=W.filter),M.call(this,H)}if(W.colorSpace===E.INDEXED){var Y=this.internal.newObject();ae({data:se(new Uint8Array(W.palette)),objectId:Y}),oe("endobj")}},c=function(){var M=this.internal.collections[e+"images"];for(var W in M)s.call(this,M[W])},d=function(){var M,W=this.internal.collections[e+"images"],oe=this.internal.write;for(var ae in W)oe("/I"+(M=W[ae]).index,M.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},h=function(){var M=this.internal.collections[e+"images"];return f.call(this),M},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(M){return typeof t["process"+M.toUpperCase()]=="function"},S=function(M){return _r(M)==="object"&&M.nodeType===1},b=function(M,W){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var oe=""+M.getAttribute("src");if(oe.indexOf("data:image/")===0)return v0(unescape(oe).split("base64,").pop());var ae=t.loadFile(oe,!0);if(ae!==void 0)return ae}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var be;switch(W){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;default:be="image/jpeg"}return v0(M.toDataURL(be,1).split("base64,").pop())}},j=function(M){var W=this.internal.collections[e+"images"];if(W){for(var oe in W)if(M===W[oe].alias)return W[oe]}},C=function(M,W,oe){return M||W||(M=-96,W=-96),M<0&&(M=-1*oe.width*72/M/this.internal.scaleFactor),W<0&&(W=-1*oe.height*72/W/this.internal.scaleFactor),M===0&&(M=W*oe.width/oe.height),W===0&&(W=M*oe.height/oe.width),[M,W]},N=function(M,W,oe,ae,be,ne){var he=C.call(this,oe,ae,be),ce=this.internal.getCoordinateString,je=this.internal.getVerticalCoordinateString,O=h.call(this);if(oe=he[0],ae=he[1],O[be.index]=be,ne){ne*=Math.PI/180;var ie=Math.cos(ne),L=Math.sin(ne),H=function($){return $.toFixed(4)},Y=[H(ie),H(L),H(-1*L),H(ie),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,ce(M),je(W+ae),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([ce(oe),"0","0",ce(ae),"0","0","cm"].join(" "))):this.internal.write([ce(oe),"0","0",ce(ae),ce(M),je(W+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=t.__addimage__.sHashCode=function(M){var W,oe,ae=0;if(typeof M=="string")for(oe=M.length,W=0;W<oe;W++)ae=(ae<<5)-ae+M.charCodeAt(W),ae|=0;else if(ue(M))for(oe=M.byteLength/2,W=0;W<oe;W++)ae=(ae<<5)-ae+M[W],ae|=0;return ae},z=t.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var W=!0;return M.length===0&&(W=!1),M.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(W=!1),W},Q=t.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var W=M.indexOf(",");return W<0?null:M.substring(0,W).trim().endsWith("base64")?M.substring(W+1):null};t.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var ue=t.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},J=t.__addimage__.binaryStringToUint8Array=function(M){for(var W=M.length,oe=new Uint8Array(W),ae=0;ae<W;ae++)oe[ae]=M.charCodeAt(ae);return oe},se=t.__addimage__.arrayBufferToBinaryString=function(M){for(var W="",oe=ue(M)?M:new Uint8Array(M),ae=0;ae<oe.length;ae+=8192)W+=String.fromCharCode.apply(null,oe.subarray(ae,ae+8192));return W};t.addImage=function(){var M,W,oe,ae,be,ne,he,ce,je;if(typeof arguments[1]=="number"?(W=r,oe=arguments[1],ae=arguments[2],be=arguments[3],ne=arguments[4],he=arguments[5],ce=arguments[6],je=arguments[7]):(W=arguments[1],oe=arguments[2],ae=arguments[3],be=arguments[4],ne=arguments[5],he=arguments[6],ce=arguments[7],je=arguments[8]),_r(M=arguments[0])==="object"&&!S(M)&&"imageData"in M){var O=M;M=O.imageData,W=O.format||W||r,oe=O.x||oe||0,ae=O.y||ae||0,be=O.w||O.width||be,ne=O.h||O.height||ne,he=O.alias||he,ce=O.compression||ce,je=O.rotation||O.angle||je}var ie=this.internal.getFilters();if(ce===void 0&&ie.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(oe)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var L=U.call(this,M,W,he,ce);return N.call(this,oe,ae,be,ne,L,je),this};var U=function(M,W,oe,ae){var be,ne,he;if(typeof M=="string"&&o(M)===r){M=unescape(M);var ce=te(M,!1);(ce!==""||(ce=t.loadFile(M,!0))!==void 0)&&(M=ce)}if(S(M)&&(M=b(M,W)),W=o(M,W),!w(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((he=oe)==null||he.length===0)&&(oe=function(je){return typeof je=="string"||ue(je)?B(je):ue(je.data)?B(je.data):null}(M)),(be=j.call(this,oe))||(M instanceof Uint8Array||W==="RGBA"||(ne=M,M=J(M)),be=this["process"+W.toUpperCase()](M,g.call(this),oe,function(je){return je&&typeof je=="string"&&(je=je.toUpperCase()),je in t.image_compression?je:R.NONE}(ae),ne)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},te=t.__addimage__.convertBase64ToBinaryString=function(M,W){W=typeof W!="boolean"||W;var oe,ae="";if(typeof M=="string"){var be;oe=(be=Q(M))!==null&&be!==void 0?be:M;try{ae=v0(oe)}catch(ne){if(W)throw z(oe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};t.getImageProperties=function(M){var W,oe,ae="";if(S(M)&&(M=b(M)),typeof M=="string"&&o(M)===r&&((ae=te(M,!1))===""&&(ae=t.loadFile(M)||""),M=ae),oe=o(M),!w(oe))throw new Error("addImage does not support files of type '"+oe+"', please ensure that a plugin for '"+oe+"' support is added.");if(M instanceof Uint8Array||(M=J(M)),!(W=this["process"+oe.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=oe,W}})(ct.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var i,o,s,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,g=!1,w=0;w<h.length&&!g;w++)switch((i=h[w]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var S=0;S<h.length;S++){i=h[S];var b=this.internal.pdfEscape,j=this.internal.getEncryptor(r.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(C.objId),R=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(o="/Rect ["+c(i.bounds.x)+" "+d(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y)+"] ")+"/Contents ("+b(E(i.contents))+")",s+=" /Popup "+N.objId+" 0 R",s+=" /P "+f.objId+" 0 R",s+=" /T ("+b(E(R))+") >>",C.content=s;var B=C.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+c(i.bounds.x+30)+" "+d(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w+30)+" "+d(i.bounds.y)+"] ")+" /Parent "+B,i.open&&(s+=" /Open true"),s+=" >>",N.content=s,this.internal.write(C.objId,"0 R",N.objId,"0 R");break;case"freetext":o="/Rect ["+c(i.bounds.x)+" "+d(i.bounds.y)+" "+c(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y+i.bounds.h)+"] ";var z=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+b(j(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var Q=this.annotations._nameMap[i.options.name];i.options.pageNumber=Q.page,i.options.top=Q.y}else i.options.top||(i.options.top=0);if(o="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+b(j(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var ue=d(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+ue+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var i=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":i.pageContext.annotations.push(r)}},t.link=function(r,i,o,s,c){var d=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:f(r),y:h(i),w:f(r+o),h:h(i+s)},options:c,type:"link"})},t.textWithLink=function(r,i,o,s){var c,d,f=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){d=s.maxWidth;var g=this.splitTextToSize(r,d).length;c=Math.ceil(h*g)}else d=f,c=h;return this.text(r,i,o,s),o+=.2*h,s.align==="center"&&(i-=f/2),s.align==="right"&&(i-=f),this.link(i,o-h,d,c,s),f},t.getTextWidth=function(r){var i=this.internal.getFontSize();return this.getStringUnitWidth(r)*i/this.internal.scaleFactor}}(ct.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(C){return e[C.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},d=t.__arabicParser__.isArabicEndLetter=function(C){return c(C)&&s(C)&&e[C.charCodeAt(0)].length<=2},f=t.__arabicParser__.isArabicAlfLetter=function(C){return c(C)&&o.indexOf(C.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return c(C)&&s(C)&&e[C.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(C){return c(C)&&s(C)&&e[C.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(C){return c(C)&&s(C)&&e[C.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(C){return c(C)&&s(C)&&e[C.charCodeAt(0)].length==4},w=t.__arabicParser__.resolveLigatures=function(C){var N=0,E=r,R="",B=0;for(N=0;N<C.length;N+=1)E[C.charCodeAt(N)]!==void 0?(B++,typeof(E=E[C.charCodeAt(N)])=="number"&&(R+=String.fromCharCode(E),E=r,B=0),N===C.length-1&&(E=r,R+=C.charAt(N-(B-1)),N-=B-1,B=0)):(E=r,R+=C.charAt(N-B),N-=B,B=0);return R};t.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&i[C.charCodeAt(0)]!==void 0};var S=t.__arabicParser__.getCorrectForm=function(C,N,E){return c(C)?s(C)===!1?-1:!h(C)||!c(N)&&!c(E)||!c(E)&&d(N)||d(C)&&!c(N)||d(C)&&f(N)||d(C)&&d(N)?0:g(C)&&c(N)&&!d(N)&&c(E)&&h(E)?3:d(C)||!c(E)?1:2:-1},b=function(C){var N=0,E=0,R=0,B="",z="",Q="",ue=(C=C||"").split("\\s+"),J=[];for(N=0;N<ue.length;N+=1){for(J.push(""),E=0;E<ue[N].length;E+=1)B=ue[N][E],z=ue[N][E-1],Q=ue[N][E+1],c(B)?(R=S(B,z,Q),J[N]+=R!==-1?String.fromCharCode(e[B.charCodeAt(0)][R]):B):J[N]+=B;J[N]=w(J[N])}return J.join(" ")},j=t.__arabicParser__.processArabic=t.processArabic=function(){var C,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(N)){var R=0;for(E=[],R=0;R<N.length;R+=1)Array.isArray(N[R])?E.push([b(N[R][0]),N[R][1],N[R][2]]):E.push([b(N[R])]);C=E}else C=b(N);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};t.events.push(["preProcessText",j])}(ct.API),ct.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(d){r=d}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(d){i=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(d){o=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(d){s=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,i){var o;if((r=r||"2d")!=="2d")return null;for(o in i)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=i[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(C){h=C}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(C){w=C}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(C){S=C}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(C){b=C}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(C){j=C}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},t.getTextDimensions=function(f,h){i.call(this);var g=(h=h||{}).fontSize||this.getFontSize(),w=h.font||this.getFont(),S=h.scaleFactor||this.internal.scaleFactor,b=0,j=0,C=0,N=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var E=h.maxWidth;E>0?typeof f=="string"?f=this.splitTextToSize(f,E):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(B,z){return B.concat(N.splitTextToSize(z,E))},[])):f=Array.isArray(f)?f:[f];for(var R=0;R<f.length;R++)b<(C=this.getStringUnitWidth(f[R],{font:w})*g)&&(b=C);return b!==0&&(j=f.length),{w:b/=S,h:Math.max((j*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/S,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var f;f=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var h=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,S=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===f.lineNumber?(f.x=(h.x||0)+(h.width||0),f.y=h.y||0):h.y+h.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,b&&S&&(this.printHeaderRow(f.lineNumber,!0),f.y+=S[0].height)):f.y=h.y+h.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,r===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};t.table=function(f,h,g,w,S){if(i.call(this),!g)throw new Error("No data for PDF table.");var b,j,C,N,E=[],R=[],B=[],z={},Q={},ue=[],J=[],se=(S=S||{}).autoSize||!1,U=S.printHeaders!==!1,te=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,M=S.margins||Object.assign({width:this.getPageWidth()},e),W=typeof S.padding=="number"?S.padding:3,oe=S.headerBackgroundColor||"#c8c8c8",ae=S.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=te,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=oe,this.internal.__cell__.headerTextColor=ae,this.setFontSize(te),w==null)R=E=Object.keys(g[0]),B=E.map(function(){return"left"});else if(Array.isArray(w)&&_r(w[0])==="object")for(E=w.map(function(O){return O.name}),R=w.map(function(O){return O.prompt||O.name||""}),B=w.map(function(O){return O.align||"left"}),b=0;b<w.length;b+=1)Q[w[b].name]=.7499990551181103*w[b].width;else Array.isArray(w)&&typeof w[0]=="string"&&(R=E=w,B=E.map(function(){return"left"}));if(se||Array.isArray(w)&&typeof w[0]=="string")for(b=0;b<E.length;b+=1){for(z[N=E[b]]=g.map(function(O){return O[N]}),this.setFont(void 0,"bold"),ue.push(this.getTextDimensions(R[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=z[N],this.setFont(void 0,"normal"),C=0;C<j.length;C+=1)ue.push(this.getTextDimensions(j[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Q[N]=Math.max.apply(null,ue)+W+W,ue=[]}if(U){var be={};for(b=0;b<E.length;b+=1)be[E[b]]={},be[E[b]].text=R[b],be[E[b]].align=B[b];var ne=d.call(this,be,Q);J=E.map(function(O){return new s(f,h,Q[O],ne,be[O].text,void 0,be[O].align)}),this.setTableHeaderRow(J),this.printHeaderRow(1,!1)}var he=w.reduce(function(O,ie){return O[ie.name]=ie.align,O},{});for(b=0;b<g.length;b+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:b,data:g[b]},this);var ce=d.call(this,g[b],Q);for(C=0;C<E.length;C+=1){var je=g[b][E[C]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:b,col:C,data:je},this),c.call(this,new s(f,h,Q[E[C]],ce,je,b+2,he[E[C]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=h,this};var d=function(f,h){var g=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(f).map(function(b){var j=f[b];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,h[b]-g-g)},this).map(function(b){return this.getLineHeightFactor()*b.length*w/S+g+g},this).reduce(function(b,j){return Math.max(b,j)},0)};t.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},t.printHeaderRow=function(f,h){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){g=this.internal.__cell__.tableHeaderRow[b].clone(),h&&(g.y=this.internal.__cell__.margins.top||0,S.push(g)),g.lineNumber=f;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,g),this.setTextColor(j)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),r=!1}}(ct.API);var kw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ew=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ug=Cw(Ew),Nw=[100,200,300,400,500,600,700,800,900],Ok=Cw(Nw);function J1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return kw[s=s||"normal"]?s:"normal"}(t.style),i=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),o=function(s){return typeof Ug[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:i,stretch:o,src:t.src||[],ref:t.ref||{name:e,style:[o,r,i].join(" ")}}}function Bb(t,e,r,i){var o;for(o=r;o>=0&&o<e.length;o+=i)if(t[e[o]])return t[e[o]];for(o=r;o>=0&&o<e.length;o-=i)if(t[e[o]])return t[e[o]]}var Rk={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ib={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ub(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Fb(t){return t.trimLeft()}function Pk(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Dk(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var n0,qb,Hb,Hu,i0,$b,Wb,Gb,Q1=["times"];function Vb(t,e,r,i,o){var s=4,c=Kb;switch(o){case ct.API.image_compression.FAST:s=1,c=Yb;break;case ct.API.image_compression.MEDIUM:s=6,c=Xb;break;case ct.API.image_compression.SLOW:s=9,c=Zb}t=function(f,h,g,w){for(var S,b=f.length/h,j=new Uint8Array(f.length+b),C=[zk,Yb,Kb,Xb,Zb],N=0;N<b;N+=1){var E=N*h,R=f.subarray(E,E+h);if(w)j.set(w(R,g,S),E+N);else{for(var B=C.length,z=[],Q=0;Q<B;Q+=1)z[Q]=C[Q](R,g,S);var ue=Bk(z.concat());j.set(z[ue],E+N)}S=R}return j}(t,e,Math.ceil(r*i/8),c);var d=Rg(t,{level:s});return ct.API.__addimage__.arrayBufferToBinaryString(d)}function zk(t){var e=Array.apply([],t);return e.unshift(0),e}function Yb(t,e){var r=t.length,i=[];i[0]=1;for(var o=0;o<r;o+=1){var s=t[o-e]||0;i[o+1]=t[o]-s+256&255}return i}function Kb(t,e,r){var i=t.length,o=[];o[0]=2;for(var s=0;s<i;s+=1){var c=r&&r[s]||0;o[s+1]=t[s]-c+256&255}return o}function Xb(t,e,r){var i=t.length,o=[];o[0]=3;for(var s=0;s<i;s+=1){var c=t[s-e]||0,d=r&&r[s]||0;o[s+1]=t[s]+256-(c+d>>>1)&255}return o}function Zb(t,e,r){var i=t.length,o=[];o[0]=4;for(var s=0;s<i;s+=1){var c=Mk(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);o[s+1]=t[s]-c+256&255}return o}function Mk(t,e,r){if(t===e&&e===r)return t;var i=Math.abs(e-r),o=Math.abs(t-r),s=Math.abs(t+e-r-r);return i<=o&&i<=s?t:o<=s?e:r}function Bk(t){var e=t.map(function(r){return r.reduce(function(i,o){return i+Math.abs(o)},0)});return e.indexOf(Math.min.apply(null,e))}function eg(t,e,r){var i=e*r,o=Math.floor(i/8),s=16-(i-8*o+r),c=(1<<r)-1;return Lw(t,o)>>s&c}function Jb(t,e,r,i){var o=r*i,s=Math.floor(o/8),c=16-(o-8*s+i),d=(1<<i)-1,f=(e&d)<<c;(function(h,g,w){if(g+1<h.byteLength)h.setUint16(g,w,!1);else{var S=w>>8&255;h.setUint8(g,S)}})(t,s,Lw(t,s)&~(d<<c)&65535|f)}function Lw(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Ik(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,o=t[e++],s=o>>7,c=1<<1+(7&o);t[e++],t[e++];var d=null,f=null;s&&(d=e,f=c,e+=3*c);var h=!0,g=[],w=0,S=null,b=0,j=null;for(this.width=r,this.height=i;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,j=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var C=t[e++];w=t[e++]|t[e++]<<8,S=t[e++],1&C||(S=null),b=C>>2&7,e++;break;case 254:for(;;){if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,z=t[e++],Q=z>>6&1,ue=1<<1+(7&z),J=d,se=f,U=!1;z>>7&&(U=!0,J=e,se=ue,e+=3*ue);var te=e;for(e++;;){var M;if(!((M=t[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}g.push({x:N,y:E,width:R,height:B,has_local_palette:U,palette_offset:J,palette_size:se,data_offset:te,data_length:e-te,transparent_index:S,interlaced:!!Q,delay:w,disposal:b});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return j},this.frameInfo=function(W){if(W<0||W>=g.length)throw new Error("Frame index out of range.");return g[W]},this.decodeAndBlitFrameBGRA=function(W,oe){var ae=this.frameInfo(W),be=ae.width*ae.height,ne=new Uint8Array(be);Qb(t,ae.data_offset,ne,be);var he=ae.palette_offset,ce=ae.transparent_index;ce===null&&(ce=256);var je=ae.width,O=r-je,ie=je,L=4*(ae.y*r+ae.x),H=4*((ae.y+ae.height)*r+ae.x),Y=L,$=4*O;ae.interlaced===!0&&($+=4*r*7);for(var re=8,ve=0,xe=ne.length;ve<xe;++ve){var Ae=ne[ve];if(ie===0&&(ie=je,(Y+=$)>=H&&($=4*O+4*r*(re-1),Y=L+(je+O)*(re<<1),re>>=1)),Ae===ce)Y+=4;else{var Pe=t[he+3*Ae],qe=t[he+3*Ae+1],Ge=t[he+3*Ae+2];oe[Y++]=Ge,oe[Y++]=qe,oe[Y++]=Pe,oe[Y++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(W,oe){var ae=this.frameInfo(W),be=ae.width*ae.height,ne=new Uint8Array(be);Qb(t,ae.data_offset,ne,be);var he=ae.palette_offset,ce=ae.transparent_index;ce===null&&(ce=256);var je=ae.width,O=r-je,ie=je,L=4*(ae.y*r+ae.x),H=4*((ae.y+ae.height)*r+ae.x),Y=L,$=4*O;ae.interlaced===!0&&($+=4*r*7);for(var re=8,ve=0,xe=ne.length;ve<xe;++ve){var Ae=ne[ve];if(ie===0&&(ie=je,(Y+=$)>=H&&($=4*O+4*r*(re-1),Y=L+(je+O)*(re<<1),re>>=1)),Ae===ce)Y+=4;else{var Pe=t[he+3*Ae],qe=t[he+3*Ae+1],Ge=t[he+3*Ae+2];oe[Y++]=Pe,oe[Y++]=qe,oe[Y++]=Ge,oe[Y++]=255}--ie}}}function Qb(t,e,r,i){for(var o=t[e++],s=1<<o,c=s+1,d=c+1,f=o+1,h=(1<<f)-1,g=0,w=0,S=0,b=t[e++],j=new Int32Array(4096),C=null;;){for(;g<16&&b!==0;)w|=t[e++]<<g,g+=8,b===1?b=t[e++]:--b;if(g<f)break;var N=w&h;if(w>>=f,g-=f,N!==s){if(N===c)break;for(var E=N<d?N:C,R=0,B=E;B>s;)B=j[B]>>8,++R;var z=B;if(S+R+(E!==N?1:0)>i)return void Pr.log("Warning, gif stream longer than expected.");r[S++]=z;var Q=S+=R;for(E!==N&&(r[S++]=z),B=E;R--;)B=j[B],r[--Q]=255&B,B>>=8;C!==null&&d<4096&&(j[d++]=C<<8|z,d>=h+1&&f<12&&(++f,h=h<<1|1)),C=N}else d=c+1,h=(1<<(f=o+1))-1,C=null}return S!==i&&Pr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function tg(t){var e,r,i,o,s,c=Math.floor,d=new Array(64),f=new Array(64),h=new Array(64),g=new Array(64),w=new Array(65535),S=new Array(65535),b=new Array(64),j=new Array(64),C=[],N=0,E=7,R=new Array(64),B=new Array(64),z=new Array(64),Q=new Array(256),ue=new Array(2048),J=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],se=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],oe=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(L,H){for(var Y=0,$=0,re=new Array,ve=1;ve<=16;ve++){for(var xe=1;xe<=L[ve];xe++)re[H[$]]=[],re[H[$]][0]=Y,re[H[$]][1]=ve,$++,Y++;Y*=2}return re}function he(L){for(var H=L[0],Y=L[1]-1;Y>=0;)H&1<<Y&&(N|=1<<E),Y--,--E<0&&(N==255?(ce(255),ce(0)):ce(N),E=7,N=0)}function ce(L){C.push(L)}function je(L){ce(L>>8&255),ce(255&L)}function O(L,H,Y,$,re){for(var ve,xe=re[0],Ae=re[240],Pe=function(We,lt){var Ye,Mt,ut,lr,zt,St,Ft,vt,Ze,_t,dt=0;for(Ze=0;Ze<8;++Ze){Ye=We[dt],Mt=We[dt+1],ut=We[dt+2],lr=We[dt+3],zt=We[dt+4],St=We[dt+5],Ft=We[dt+6];var jr=Ye+(vt=We[dt+7]),er=Ye-vt,at=Mt+Ft,bt=Mt-Ft,hr=ut+St,ht=ut-St,Xt=lr+zt,Rt=lr-zt,Wr=jr+Xt,rn=jr-Xt,cr=at+hr,Nt=at-hr;We[dt]=Wr+cr,We[dt+4]=Wr-cr;var ur=.707106781*(Nt+rn);We[dt+2]=rn+ur,We[dt+6]=rn-ur;var So=.382683433*((Wr=Rt+ht)-(Nt=bt+er)),kn=.5411961*Wr+So,Xi=1.306562965*Nt+So,Zi=.707106781*(cr=ht+bt),mt=er+Zi,Wn=er-Zi;We[dt+5]=Wn+kn,We[dt+3]=Wn-kn,We[dt+1]=mt+Xi,We[dt+7]=mt-Xi,dt+=8}for(dt=0,Ze=0;Ze<8;++Ze){Ye=We[dt],Mt=We[dt+8],ut=We[dt+16],lr=We[dt+24],zt=We[dt+32],St=We[dt+40],Ft=We[dt+48];var zr=Ye+(vt=We[dt+56]),Lr=Ye-vt,Dn=Mt+Ft,Mr=Mt-Ft,En=ut+St,zn=ut-St,_o=lr+zt,zi=lr-zt,Ci=zr+_o,ii=zr-_o,Gn=Dn+En,ai=Dn-En;We[dt]=Ci+Gn,We[dt+32]=Ci-Gn;var Mn=.707106781*(ai+ii);We[dt+16]=ii+Mn,We[dt+48]=ii-Mn;var Br=.382683433*((Ci=zi+zn)-(ai=Mr+Lr)),Ji=.5411961*Ci+Br,jo=1.306562965*ai+Br,Mi=.707106781*(Gn=zn+Mr),Qi=Lr+Mi,qs=Lr-Mi;We[dt+40]=qs+Ji,We[dt+24]=qs-Ji,We[dt+8]=Qi+jo,We[dt+56]=Qi-jo,dt++}for(Ze=0;Ze<64;++Ze)_t=We[Ze]*lt[Ze],b[Ze]=_t>0?_t+.5|0:_t-.5|0;return b}(L,H),qe=0;qe<64;++qe)j[J[qe]]=Pe[qe];var Ge=j[0]-Y;Y=j[0],Ge==0?he($[0]):(he($[S[ve=32767+Ge]]),he(w[ve]));for(var Ke=63;Ke>0&&j[Ke]==0;)Ke--;if(Ke==0)return he(xe),Y;for(var Re,le=1;le<=Ke;){for(var Gt=le;j[le]==0&&le<=Ke;)++le;var gt=le-Gt;if(gt>=16){Re=gt>>4;for(var pt=1;pt<=Re;++pt)he(Ae);gt&=15}ve=32767+j[le],he(re[(gt<<4)+S[ve]]),he(w[ve]),le++}return Ke!=63&&he(xe),Y}function ie(L){L=Math.min(Math.max(L,1),100),s!=L&&(function(H){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$=0;$<64;$++){var re=c((Y[$]*H+50)/100);re=Math.min(Math.max(re,1),255),d[J[$]]=re}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var Ae=c((ve[xe]*H+50)/100);Ae=Math.min(Math.max(Ae,1),255),f[J[xe]]=Ae}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],qe=0,Ge=0;Ge<8;Ge++)for(var Ke=0;Ke<8;Ke++)h[qe]=1/(d[J[qe]]*Pe[Ge]*Pe[Ke]*8),g[qe]=1/(f[J[qe]]*Pe[Ge]*Pe[Ke]*8),qe++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),s=L)}this.encode=function(L,H){H&&ie(H),C=new Array,N=0,E=7,je(65496),je(65504),je(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),je(1),je(1),ce(0),ce(0),function(){je(65499),je(132),ce(0);for(var Mt=0;Mt<64;Mt++)ce(d[Mt]);ce(1);for(var ut=0;ut<64;ut++)ce(f[ut])}(),function(Mt,ut){je(65472),je(17),ce(8),je(ut),je(Mt),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(L.width,L.height),function(){je(65476),je(418),ce(0);for(var Mt=0;Mt<16;Mt++)ce(se[Mt+1]);for(var ut=0;ut<=11;ut++)ce(U[ut]);ce(16);for(var lr=0;lr<16;lr++)ce(te[lr+1]);for(var zt=0;zt<=161;zt++)ce(M[zt]);ce(1);for(var St=0;St<16;St++)ce(W[St+1]);for(var Ft=0;Ft<=11;Ft++)ce(oe[Ft]);ce(17);for(var vt=0;vt<16;vt++)ce(ae[vt+1]);for(var Ze=0;Ze<=161;Ze++)ce(be[Ze])}(),je(65498),je(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var Y=0,$=0,re=0;N=0,E=7,this.encode.displayName="_encode_";for(var ve,xe,Ae,Pe,qe,Ge,Ke,Re,le,Gt=L.data,gt=L.width,pt=L.height,We=4*gt,lt=0;lt<pt;){for(ve=0;ve<We;){for(qe=We*lt+ve,Ke=-1,Re=0,le=0;le<64;le++)Ge=qe+(Re=le>>3)*We+(Ke=4*(7&le)),lt+Re>=pt&&(Ge-=We*(lt+1+Re-pt)),ve+Ke>=We&&(Ge-=ve+Ke-We+4),xe=Gt[Ge++],Ae=Gt[Ge++],Pe=Gt[Ge++],R[le]=(ue[xe]+ue[Ae+256|0]+ue[Pe+512|0]>>16)-128,B[le]=(ue[xe+768|0]+ue[Ae+1024|0]+ue[Pe+1280|0]>>16)-128,z[le]=(ue[xe+1280|0]+ue[Ae+1536|0]+ue[Pe+1792|0]>>16)-128;Y=O(R,h,Y,e,i),$=O(B,g,$,r,o),re=O(z,g,re,r,o),ve+=32}lt+=8}if(E>=0){var Ye=[];Ye[1]=E+1,Ye[0]=(1<<E+1)-1,he(Ye)}return je(65497),new Uint8Array(C)},t=t||50,function(){for(var L=String.fromCharCode,H=0;H<256;H++)Q[H]=L(H)}(),e=ne(se,U),r=ne(W,oe),i=ne(te,M),o=ne(ae,be),function(){for(var L=1,H=2,Y=1;Y<=15;Y++){for(var $=L;$<H;$++)S[32767+$]=Y,w[32767+$]=[],w[32767+$][1]=Y,w[32767+$][0]=$;for(var re=-(H-1);re<=-L;re++)S[32767+re]=Y,w[32767+re]=[],w[32767+re][1]=Y,w[32767+re][0]=H-1+re;L<<=1,H<<=1}}(),function(){for(var L=0;L<256;L++)ue[L]=19595*L,ue[L+256|0]=38470*L,ue[L+512|0]=7471*L+32768,ue[L+768|0]=-11059*L,ue[L+1024|0]=-21709*L,ue[L+1280|0]=32768*L+8421375,ue[L+1536|0]=-27439*L,ue[L+1792|0]=-5329*L}(),ie(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ho(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ey(t){function e(U){if(!U)throw Error("assert :P")}function r(U,te,M){for(var W=0;4>W;W++)if(U[te+W]!=M.charCodeAt(W))return!0;return!1}function i(U,te,M,W,oe){for(var ae=0;ae<oe;ae++)U[te+ae]=M[W+ae]}function o(U,te,M,W){for(var oe=0;oe<W;oe++)U[te+oe]=M}function s(U){return new Int32Array(U)}function c(U,te){for(var M=[],W=0;W<U;W++)M.push(new te);return M}function d(U,te){var M=[];return function W(oe,ae,be){for(var ne=be[ae],he=0;he<ne&&(oe.push(be.length>ae+1?[]:new te),!(be.length<ae+1));he++)W(oe[he],ae+1,be)}(M,0,U),M}var f=function(){var U=this;function te(m,y){for(var A=1<<y-1>>>0;m&A;)A>>>=1;return A?(m&A-1)+A:m}function M(m,y,A,k,D){e(!(k%A));do m[y+(k-=A)]=D;while(0<k)}function W(m,y,A,k,D){if(e(2328>=D),512>=D)var I=s(512);else if((I=s(D))==null)return 0;return function(F,G,V,Z,ge,Ee){var X,ye,_e=G,Oe=1<<V,ke=s(16),ze=s(16);for(e(ge!=0),e(Z!=null),e(F!=null),e(0<V),ye=0;ye<ge;++ye){if(15<Z[ye])return 0;++ke[Z[ye]]}if(ke[0]==ge)return 0;for(ze[1]=0,X=1;15>X;++X){if(ke[X]>1<<X)return 0;ze[X+1]=ze[X]+ke[X]}for(ye=0;ye<ge;++ye)X=Z[ye],0<Z[ye]&&(Ee[ze[X]++]=ye);if(ze[15]==1)return(Z=new oe).g=0,Z.value=Ee[0],M(F,_e,1,Oe,Z),Oe;var De,$e=-1,Ue=Oe-1,ot=0,Je=1,Lt=1,et=1<<V;for(ye=0,X=1,ge=2;X<=V;++X,ge<<=1){if(Je+=Lt<<=1,0>(Lt-=ke[X]))return 0;for(;0<ke[X];--ke[X])(Z=new oe).g=X,Z.value=Ee[ye++],M(F,_e+ot,ge,et,Z),ot=te(ot,X)}for(X=V+1,ge=2;15>=X;++X,ge<<=1){if(Je+=Lt<<=1,0>(Lt-=ke[X]))return 0;for(;0<ke[X];--ke[X]){if(Z=new oe,(ot&Ue)!=$e){for(_e+=et,De=1<<($e=X)-V;15>$e&&!(0>=(De-=ke[$e]));)++$e,De<<=1;Oe+=et=1<<(De=$e-V),F[G+($e=ot&Ue)].g=De+V,F[G+$e].value=_e-G-$e}Z.g=X-V,Z.value=Ee[ye++],M(F,_e+(ot>>V),ge,et,Z),ot=te(ot,X)}}return Je!=2*ze[15]-1?0:Oe}(m,y,A,k,D,I)}function oe(){this.value=this.g=0}function ae(){this.value=this.g=0}function be(){this.G=c(5,oe),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Ya,ae)}function ne(m,y,A,k){e(m!=null),e(y!=null),e(2147483648>k),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=y,m.pa=A,m.Jd=y,m.Yc=A+k,m.Zc=4<=k?A+k-4+1:A,xe(m)}function he(m,y){for(var A=0;0<y--;)A|=Pe(m,128)<<y;return A}function ce(m,y){var A=he(m,y);return Ae(m)?-A:A}function je(m,y,A,k){var D,I=0;for(e(m!=null),e(y!=null),e(4294967288>k),m.Sb=k,m.Ra=0,m.u=0,m.h=0,4<k&&(k=4),D=0;D<k;++D)I+=y[A+D]<<8*D;m.Ra=I,m.bb=k,m.oa=y,m.pa=A}function O(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Ka-8>>>0,++m.bb,m.u-=8;$(m)&&(m.h=1,m.u=0)}function ie(m,y){if(e(0<=y),!m.h&&y<=bi){var A=Y(m)&si[y];return m.u+=y,O(m),A}return m.h=1,m.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(m){return m.Ra>>>(m.u&Ka-1)>>>0}function $(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Ka}function re(m,y){m.u=y,m.h=$(m)}function ve(m){m.u>=_a&&(e(m.u>=_a),O(m))}function xe(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Ae(m){return he(m,1)}function Pe(m,y){var A=m.Ca;0>m.b&&xe(m);var k=m.b,D=A*y>>>8,I=(m.I>>>k>D)+0;for(I?(A-=D,m.I-=D+1<<k>>>0):A=D+1,k=A,D=0;256<=k;)D+=8,k>>=8;return k=7^D+Bo[k],m.b-=k,m.Ca=(A<<k)-1,I}function qe(m,y,A){m[y+0]=A>>24&255,m[y+1]=A>>16&255,m[y+2]=A>>8&255,m[y+3]=255&A}function Ge(m,y){return m[y+0]|m[y+1]<<8}function Ke(m,y){return Ge(m,y)|m[y+2]<<16}function Re(m,y){return Ge(m,y)|Ge(m,y+2)<<16}function le(m,y){var A=1<<y;return e(m!=null),e(0<y),m.X=s(A),m.X==null?0:(m.Mb=32-y,m.Xa=y,1)}function Gt(m,y){e(m!=null),e(y!=null),e(m.Xa==y.Xa),i(y.X,0,m.X,0,1<<y.Xa)}function gt(){this.X=[],this.Xa=this.Mb=0}function pt(m,y,A,k){e(A!=null),e(k!=null);var D=A[0],I=k[0];return D==0&&(D=(m*I+y/2)/y),I==0&&(I=(y*D+m/2)/m),0>=D||0>=I?0:(A[0]=D,k[0]=I,1)}function We(m,y){return m+(1<<y)-1>>>y}function lt(m,y){return((4278255360&m)+(4278255360&y)>>>0&4278255360)+((16711935&m)+(16711935&y)>>>0&16711935)>>>0}function Ye(m,y){U[y]=function(A,k,D,I,F,G,V){var Z;for(Z=0;Z<F;++Z){var ge=U[m](G[V+Z-1],D,I+Z);G[V+Z]=lt(A[k+Z],ge)}}}function Mt(){this.ud=this.hd=this.jd=0}function ut(m,y){return((4278124286&(m^y))>>>1)+(m&y)>>>0}function lr(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function zt(m,y){return lr(m+(m-y+.5>>1))}function St(m,y,A){return Math.abs(y-A)-Math.abs(m-A)}function Ft(m,y,A,k,D,I,F){for(k=I[F-1],A=0;A<D;++A)I[F+A]=k=lt(m[y+A],k)}function vt(m,y,A,k,D){var I;for(I=0;I<A;++I){var F=m[y+I],G=F>>8&255,V=16711935&(V=(V=16711935&F)+((G<<16)+G));k[D+I]=(4278255360&F)+V>>>0}}function Ze(m,y){y.jd=255&m,y.hd=m>>8&255,y.ud=m>>16&255}function _t(m,y,A,k,D,I){var F;for(F=0;F<k;++F){var G=y[A+F],V=G>>>8,Z=G,ge=255&(ge=(ge=G>>>16)+((m.jd<<24>>24)*(V<<24>>24)>>>5));Z=255&(Z=(Z+=(m.hd<<24>>24)*(V<<24>>24)>>>5)+((m.ud<<24>>24)*(ge<<24>>24)>>>5)),D[I+F]=(4278255360&G)+(ge<<16)+Z}}function dt(m,y,A,k,D){U[y]=function(I,F,G,V,Z,ge,Ee,X,ye){for(V=Ee;V<X;++V)for(Ee=0;Ee<ye;++Ee)Z[ge++]=D(G[k(I[F++])])},U[m]=function(I,F,G,V,Z,ge,Ee){var X=8>>I.b,ye=I.Ea,_e=I.K[0],Oe=I.w;if(8>X)for(I=(1<<I.b)-1,Oe=(1<<X)-1;F<G;++F){var ke,ze=0;for(ke=0;ke<ye;++ke)ke&I||(ze=k(V[Z++])),ge[Ee++]=D(_e[ze&Oe]),ze>>=X}else U["VP8LMapColor"+A](V,Z,_e,Oe,ge,Ee,F,G,ye)}}function jr(m,y,A,k,D){for(A=y+A;y<A;){var I=m[y++];k[D++]=I>>16&255,k[D++]=I>>8&255,k[D++]=255&I}}function er(m,y,A,k,D){for(A=y+A;y<A;){var I=m[y++];k[D++]=I>>16&255,k[D++]=I>>8&255,k[D++]=255&I,k[D++]=I>>24&255}}function at(m,y,A,k,D){for(A=y+A;y<A;){var I=(F=m[y++])>>16&240|F>>12&15,F=240&F|F>>28&15;k[D++]=I,k[D++]=F}}function bt(m,y,A,k,D){for(A=y+A;y<A;){var I=(F=m[y++])>>16&248|F>>13&7,F=F>>5&224|F>>3&31;k[D++]=I,k[D++]=F}}function hr(m,y,A,k,D){for(A=y+A;y<A;){var I=m[y++];k[D++]=255&I,k[D++]=I>>8&255,k[D++]=I>>16&255}}function ht(m,y,A,k,D,I){if(I==0)for(A=y+A;y<A;)qe(k,((I=m[y++])[0]>>24|I[1]>>8&65280|I[2]<<8&16711680|I[3]<<24)>>>0),D+=32;else i(k,D,m,y,A)}function Xt(m,y){U[y][0]=U[m+"0"],U[y][1]=U[m+"1"],U[y][2]=U[m+"2"],U[y][3]=U[m+"3"],U[y][4]=U[m+"4"],U[y][5]=U[m+"5"],U[y][6]=U[m+"6"],U[y][7]=U[m+"7"],U[y][8]=U[m+"8"],U[y][9]=U[m+"9"],U[y][10]=U[m+"10"],U[y][11]=U[m+"11"],U[y][12]=U[m+"12"],U[y][13]=U[m+"13"],U[y][14]=U[m+"0"],U[y][15]=U[m+"0"]}function Rt(m){return m==ac||m==Uo||m==Qa||m==sl}function Wr(){this.eb=[],this.size=this.A=this.fb=0}function rn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function cr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Wr,this.f.kb=new rn,this.sd=null}function Nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ur(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function So(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function kn(m,y){var A=m.T,k=y.ba.f.RGBA,D=k.eb,I=k.fb+m.ka*k.A,F=Ln[y.ba.S],G=m.y,V=m.O,Z=m.f,ge=m.N,Ee=m.ea,X=m.W,ye=y.cc,_e=y.dc,Oe=y.Mc,ke=y.Nc,ze=m.ka,De=m.ka+m.T,$e=m.U,Ue=$e+1>>1;for(ze==0?F(G,V,null,null,Z,ge,Ee,X,Z,ge,Ee,X,D,I,null,null,$e):(F(y.ec,y.fc,G,V,ye,_e,Oe,ke,Z,ge,Ee,X,D,I-k.A,D,I,$e),++A);ze+2<De;ze+=2)ye=Z,_e=ge,Oe=Ee,ke=X,ge+=m.Rc,X+=m.Rc,I+=2*k.A,F(G,(V+=2*m.fa)-m.fa,G,V,ye,_e,Oe,ke,Z,ge,Ee,X,D,I-k.A,D,I,$e);return V+=m.fa,m.j+De<m.o?(i(y.ec,y.fc,G,V,$e),i(y.cc,y.dc,Z,ge,Ue),i(y.Mc,y.Nc,Ee,X,Ue),A--):1&De||F(G,V,null,null,Z,ge,Ee,X,Z,ge,Ee,X,D,I+k.A,null,null,$e),A}function Xi(m,y,A){var k=m.F,D=[m.J];if(k!=null){var I=m.U,F=y.ba.S,G=F==ms||F==Qa;y=y.ba.f.RGBA;var V=[0],Z=m.ka;V[0]=m.T,m.Kb&&(Z==0?--V[0]:(--Z,D[0]-=m.width),m.j+m.ka+m.T==m.o&&(V[0]=m.o-m.j-Z));var ge=y.eb;Z=y.fb+Z*y.A,m=Oi(k,D[0],m.width,I,V,ge,Z+(G?0:3),y.A),e(A==V),m&&Rt(F)&&al(ge,Z,G,I,V,y.A)}return 0}function Zi(m){var y=m.ma,A=y.ba.S,k=11>A,D=A==ol||A==ic||A==ms||A==Ja||A==12||Rt(A);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Mo(y.Oa,m,D?11:12))return 0;if(D&&Rt(A)&&Kc(),m.da)alert("todo:use_scaling");else{if(k){if(y.Ib=So,m.Kb){if(A=m.U+1>>1,y.memory=s(m.U+2*A),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+m.U,y.Mc=y.cc,y.Nc=y.dc+A,y.Ib=kn,Kc()}}else alert("todo:EmitYUV");D&&(y.Jb=Xi,k&&Ui())}if(k&&!Hf){for(m=0;256>m;++m)ap[m]=89858*(m-128)+bn>>La,lc[m]=-22014*(m-128)+bn,Ad[m]=-45773*(m-128),yn[m]=113618*(m-128)+bn>>La;for(m=Ho;m<su;++m)y=76283*(m-16)+bn>>La,cc[m-Ho]=Gr(y,255),Cd[m-Ho]=Gr(y+8>>4,15);Hf=1}return 1}function mt(m){var y=m.ma,A=m.U,k=m.T;return e(!(1&m.ka)),0>=A||0>=k?0:(A=y.Ib(m,y),y.Jb!=null&&y.Jb(m,y,A),y.Dc+=A,1)}function Wn(m){m.ma.memory=null}function zr(m,y,A,k){return ie(m,8)!=47?0:(y[0]=ie(m,14)+1,A[0]=ie(m,14)+1,k[0]=ie(m,1),ie(m,3)!=0?0:!m.h)}function Lr(m,y){if(4>m)return m+1;var A=m-2>>1;return(2+(1&m)<<A)+ie(y,A)+1}function Dn(m,y){return 120<y?y-120:1<=(A=((A=to[y-1])>>4)*m+(8-(15&A)))?A:1;var A}function Mr(m,y,A){var k=Y(A),D=m[y+=255&k].g-8;return 0<D&&(re(A,A.u+8),k=Y(A),y+=m[y].value,y+=k&(1<<D)-1),re(A,A.u+m[y].g),m[y].value}function En(m,y,A){return A.g+=m.g,A.value+=m.value<<y>>>0,e(8>=A.g),m.g}function zn(m,y,A){var k=m.xc;return e((y=k==0?0:m.vc[m.md*(A>>k)+(y>>k)])<m.Wb),m.Ya[y]}function _o(m,y,A,k){var D=m.ab,I=m.c*y,F=m.C;y=F+y;var G=A,V=k;for(k=m.Ta,A=m.Ua;0<D--;){var Z=m.gc[D],ge=F,Ee=y,X=G,ye=V,_e=(V=k,G=A,Z.Ea);switch(e(ge<Ee),e(Ee<=Z.nc),Z.hc){case 2:nn(X,ye,(Ee-ge)*_e,V,G);break;case 0:var Oe=ge,ke=Ee,ze=V,De=G,$e=(et=Z).Ea;Oe==0&&(tc(X,ye,null,null,1,ze,De),Ft(X,ye+1,0,0,$e-1,ze,De+1),ye+=$e,De+=$e,++Oe);for(var Ue=1<<et.b,ot=Ue-1,Je=We($e,et.b),Lt=et.K,et=et.w+(Oe>>et.b)*Je;Oe<ke;){var Vt=Lt,fn=et,kt=1;for(Qs(X,ye,ze,De-$e,1,ze,De);kt<$e;){var tt=(kt&~ot)+Ue;tt>$e&&(tt=$e),(0,tl[Vt[fn++]>>8&15])(X,ye+ +kt,ze,De+kt-$e,tt-kt,ze,De+kt),kt=tt}ye+=$e,De+=$e,++Oe&ot||(et+=Je)}Ee!=Z.nc&&i(V,G-_e,V,G+(Ee-ge-1)*_e,_e);break;case 1:for(_e=X,ke=ye,$e=(X=Z.Ea)-(De=X&~(ze=(ye=1<<Z.b)-1)),Oe=We(X,Z.b),Ue=Z.K,Z=Z.w+(ge>>Z.b)*Oe;ge<Ee;){for(ot=Ue,Je=Z,Lt=new Mt,et=ke+De,Vt=ke+X;ke<et;)Ze(ot[Je++],Lt),rl(Lt,_e,ke,ye,V,G),ke+=ye,G+=ye;ke<Vt&&(Ze(ot[Je++],Lt),rl(Lt,_e,ke,$e,V,G),ke+=$e,G+=$e),++ge&ze||(Z+=Oe)}break;case 3:if(X==V&&ye==G&&0<Z.b){for(ke=V,X=_e=G+(Ee-ge)*_e-(De=(Ee-ge)*We(Z.Ea,Z.b)),ye=V,ze=G,Oe=[],De=($e=De)-1;0<=De;--De)Oe[De]=ye[ze+De];for(De=$e-1;0<=De;--De)ke[X+De]=Oe[De];Xc(Z,ge,Ee,V,_e,V,G)}else Xc(Z,ge,Ee,X,ye,V,G)}G=k,V=A}V!=A&&i(k,A,G,V,I)}function zi(m,y){var A=m.V,k=m.Ba+m.c*m.C,D=y-m.C;if(e(y<=m.l.o),e(16>=D),0<D){var I=m.l,F=m.Ta,G=m.Ua,V=I.width;if(_o(m,D,A,k),D=G=[G],e((A=m.C)<(k=y)),e(I.v<I.va),k>I.o&&(k=I.o),A<I.j){var Z=I.j-A;A=I.j,D[0]+=Z*V}if(A>=k?A=0:(D[0]+=4*I.v,I.ka=A-I.j,I.U=I.va-I.v,I.T=k-A,A=1),A){if(G=G[0],11>(A=m.ca).S){var ge=A.f.RGBA,Ee=(k=A.S,D=I.U,I=I.T,Z=ge.eb,ge.A),X=I;for(ge=ge.fb+m.Ma*ge.A;0<X--;){var ye=F,_e=G,Oe=D,ke=Z,ze=ge;switch(k){case Xn:nl(ye,_e,Oe,ke,ze);break;case ol:ja(ye,_e,Oe,ke,ze);break;case ac:ja(ye,_e,Oe,ke,ze),al(ke,ze,0,Oe,1,0);break;case Ca:Xa(ye,_e,Oe,ke,ze);break;case ic:ht(ye,_e,Oe,ke,ze,1);break;case Uo:ht(ye,_e,Oe,ke,ze,1),al(ke,ze,0,Oe,1,0);break;case ms:ht(ye,_e,Oe,ke,ze,0);break;case Qa:ht(ye,_e,Oe,ke,ze,0),al(ke,ze,1,Oe,1,0);break;case Ja:Io(ye,_e,Oe,ke,ze);break;case sl:Io(ye,_e,Oe,ke,ze),Ti(ke,ze,Oe,1,0);break;case ru:Ni(ye,_e,Oe,ke,ze);break;default:e(0)}G+=V,ge+=Ee}m.Ma+=I}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=A.height)}}m.C=y,e(m.C<=m.i)}function Ci(m){var y;if(0<m.ua)return 0;for(y=0;y<m.Wb;++y){var A=m.Ya[y].G,k=m.Ya[y].H;if(0<A[1][k[1]+0].g||0<A[2][k[2]+0].g||0<A[3][k[3]+0].g)return 0}return 1}function ii(m,y,A,k,D,I){if(m.Z!=0){var F=m.qd,G=m.rd;for(e(Ea[m.Z]!=null);y<A;++y)Ea[m.Z](F,G,k,D,k,D,I),F=k,G=D,D+=I;m.qd=F,m.rd=G}}function Gn(m,y){var A=m.l.ma,k=A.Z==0||A.Z==1?m.l.j:m.C;if(k=m.C<k?k:m.C,e(y<=m.l.o),y>k){var D=m.l.width,I=A.ca,F=A.tb+D*k,G=m.V,V=m.Ba+m.c*k,Z=m.gc;e(m.ab==1),e(Z[0].hc==3),yi(Z[0],k,y,G,V,I,F),ii(A,k,y,I,F,D)}m.C=m.Ma=y}function ai(m,y,A,k,D,I,F){var G=m.$/k,V=m.$%k,Z=m.m,ge=m.s,Ee=A+m.$,X=Ee;D=A+k*D;var ye=A+k*I,_e=280+ge.ua,Oe=m.Pb?G:16777216,ke=0<ge.ua?ge.Wa:null,ze=ge.wc,De=Ee<ye?zn(ge,V,G):null;e(m.C<I),e(ye<=D);var $e=!1;e:for(;;){for(;$e||Ee<ye;){var Ue=0;if(G>=Oe){var ot=Ee-A;e((Oe=m).Pb),Oe.wd=Oe.m,Oe.xd=ot,0<Oe.s.ua&&Gt(Oe.s.Wa,Oe.s.vb),Oe=G+Uf}if(V&ze||(De=zn(ge,V,G)),e(De!=null),De.Qb&&(y[Ee]=De.qb,$e=!0),!$e)if(ve(Z),De.jc){Ue=Z,ot=y;var Je=Ee,Lt=De.pd[Y(Ue)&Ya-1];e(De.jc),256>Lt.g?(re(Ue,Ue.u+Lt.g),ot[Je]=Lt.value,Ue=0):(re(Ue,Ue.u+Lt.g-256),e(256<=Lt.value),Ue=Lt.value),Ue==0&&($e=!0)}else Ue=Mr(De.G[0],De.H[0],Z);if(Z.h)break;if($e||256>Ue){if(!$e)if(De.nd)y[Ee]=(De.qb|Ue<<8)>>>0;else{if(ve(Z),$e=Mr(De.G[1],De.H[1],Z),ve(Z),ot=Mr(De.G[2],De.H[2],Z),Je=Mr(De.G[3],De.H[3],Z),Z.h)break;y[Ee]=(Je<<24|$e<<16|Ue<<8|ot)>>>0}if($e=!1,++Ee,++V>=k&&(V=0,++G,F!=null&&G<=I&&!(G%16)&&F(m,G),ke!=null))for(;X<Ee;)Ue=y[X++],ke.X[(506832829*Ue&4294967295)>>>ke.Mb]=Ue}else if(280>Ue){if(Ue=Lr(Ue-256,Z),ot=Mr(De.G[4],De.H[4],Z),ve(Z),ot=Dn(k,ot=Lr(ot,Z)),Z.h)break;if(Ee-A<ot||D-Ee<Ue)break e;for(Je=0;Je<Ue;++Je)y[Ee+Je]=y[Ee+Je-ot];for(Ee+=Ue,V+=Ue;V>=k;)V-=k,++G,F!=null&&G<=I&&!(G%16)&&F(m,G);if(e(Ee<=D),V&ze&&(De=zn(ge,V,G)),ke!=null)for(;X<Ee;)Ue=y[X++],ke.X[(506832829*Ue&4294967295)>>>ke.Mb]=Ue}else{if(!(Ue<_e))break e;for($e=Ue-280,e(ke!=null);X<Ee;)Ue=y[X++],ke.X[(506832829*Ue&4294967295)>>>ke.Mb]=Ue;Ue=Ee,e(!($e>>>(ot=ke).Xa)),y[Ue]=ot.X[$e],$e=!0}$e||e(Z.h==$(Z))}if(m.Pb&&Z.h&&Ee<D)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Gt(m.s.vb,m.s.Wa);else{if(Z.h)break e;F!=null&&F(m,G>I?I:G),m.a=0,m.$=Ee-A}return 1}return m.a=3,0}function Mn(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var y=m.Wa;y!=null&&(y.X=null),m.vb=null,e(m!=null)}function Br(){var m=new st;return m==null?null:(m.a=0,m.xb=ll,Xt("Predictor","VP8LPredictors"),Xt("Predictor","VP8LPredictors_C"),Xt("PredictorAdd","VP8LPredictorsAdd"),Xt("PredictorAdd","VP8LPredictorsAdd_C"),nn=vt,rl=_t,nl=jr,ja=er,Io=at,Ni=bt,Xa=hr,U.VP8LMapColor32b=Vr,U.VP8LMapColor8b=el,m)}function Ji(m,y,A,k,D){var I=1,F=[m],G=[y],V=k.m,Z=k.s,ge=null,Ee=0;e:for(;;){if(A)for(;I&&ie(V,1);){var X=F,ye=G,_e=k,Oe=1,ke=_e.m,ze=_e.gc[_e.ab],De=ie(ke,2);if(_e.Oc&1<<De)I=0;else{switch(_e.Oc|=1<<De,ze.hc=De,ze.Ea=X[0],ze.nc=ye[0],ze.K=[null],++_e.ab,e(4>=_e.ab),De){case 0:case 1:ze.b=ie(ke,3)+2,Oe=Ji(We(ze.Ea,ze.b),We(ze.nc,ze.b),0,_e,ze.K),ze.K=ze.K[0];break;case 3:var $e,Ue=ie(ke,8)+1,ot=16<Ue?0:4<Ue?1:2<Ue?2:3;if(X[0]=We(ze.Ea,ot),ze.b=ot,$e=Oe=Ji(Ue,1,0,_e,ze.K)){var Je,Lt=Ue,et=ze,Vt=1<<(8>>et.b),fn=s(Vt);if(fn==null)$e=0;else{var kt=et.K[0],tt=et.w;for(fn[0]=et.K[0][0],Je=1;Je<1*Lt;++Je)fn[Je]=lt(kt[tt+Je],fn[Je-1]);for(;Je<4*Vt;++Je)fn[Je]=0;et.K[0]=null,et.K[0]=fn,$e=1}}Oe=$e;break;case 2:break;default:e(0)}I=Oe}}if(F=F[0],G=G[0],I&&ie(V,1)&&!(I=1<=(Ee=ie(V,4))&&11>=Ee)){k.a=3;break e}var Ve;if(Ve=I)t:{var qr,Tt,It,rt=k,Dt=F,tr=G,Or=Ee,an=A,on=rt.m,Xr=rt.s,Wt=[null],rr=1,Zr=0,yt=bs[Or];r:for(;;){if(an&&ie(on,1)){var xn=ie(on,3)+2,Di=We(Dt,xn),Jr=We(tr,xn),ci=Di*Jr;if(!Ji(Di,Jr,0,rt,Wt))break r;for(Wt=Wt[0],Xr.xc=xn,qr=0;qr<ci;++qr){var yr=Wt[qr]>>8&65535;Wt[qr]=yr,yr>=rr&&(rr=yr+1)}}if(on.h)break r;for(Tt=0;5>Tt;++Tt){var sn=Ri[Tt];!Tt&&0<Or&&(sn+=1<<Or),Zr<sn&&(Zr=sn)}var ui=c(rr*yt,oe),Un=rr,Cr=c(Un,be);if(Cr==null)var or=null;else e(65536>=Un),or=Cr;var Zn=s(Zr);if(or==null||Zn==null||ui==null){rt.a=1;break r}var Fn=ui;for(qr=It=0;qr<rr;++qr){var mr=or[qr],di=mr.G,wn=mr.H,Ta=0,oa=1,Sn=0;for(Tt=0;5>Tt;++Tt){sn=Ri[Tt],di[Tt]=Fn,wn[Tt]=It,!Tt&&0<Or&&(sn+=1<<Or);i:{var uc,lu=sn,dc=rt,ul=Zn,Gf=Fn,Vf=It,fc=0,ao=dc.m,sp=ie(ao,1);if(o(ul,0,0,lu),sp){var Yf=ie(ao,1)+1,Kf=ie(ao,1),kd=ie(ao,Kf==0?1:8);ul[kd]=1,Yf==2&&(ul[kd=ie(ao,8)]=1);var dl=1}else{var Ed=s(19),Nd=ie(ao,4)+4;if(19<Nd){dc.a=3;var hc=0;break i}for(uc=0;uc<Nd;++uc)Ed[eo[uc]]=ie(ao,3);var cu=void 0,fl=void 0,Xf=dc,Zf=Ed,oo=lu,pc=ul,uu=0,sa=Xf.m,hl=8,Ld=c(128,oe);n:for(;W(Ld,0,7,Zf,19);){if(ie(sa,1)){var Jf=2+2*ie(sa,3);if((cu=2+ie(sa,Jf))>oo)break n}else cu=oo;for(fl=0;fl<oo&&cu--;){ve(sa);var Td=Ld[0+(127&Y(sa))];re(sa,sa.u+Td.g);var ws=Td.value;if(16>ws)pc[fl++]=ws,ws!=0&&(hl=ws);else{var Qf=ws==16,Od=ws-16,Rd=Wi[Od],Pd=ie(sa,nu[Od])+Rd;if(fl+Pd>oo)break n;for(var eh=Qf?hl:0;0<Pd--;)pc[fl++]=eh}}uu=1;break n}uu||(Xf.a=3),dl=uu}(dl=dl&&!ao.h)&&(fc=W(Gf,Vf,8,ul,lu)),dl&&fc!=0?hc=fc:(dc.a=3,hc=0)}if(hc==0)break r;if(oa&&vs[Tt]==1&&(oa=Fn[It].g==0),Ta+=Fn[It].g,It+=hc,3>=Tt){var Ss,du=Zn[0];for(Ss=1;Ss<sn;++Ss)Zn[Ss]>du&&(du=Zn[Ss]);Sn+=du}}if(mr.nd=oa,mr.Qb=0,oa&&(mr.qb=(di[3][wn[3]+0].value<<24|di[1][wn[1]+0].value<<16|di[2][wn[2]+0].value)>>>0,Ta==0&&256>di[0][wn[0]+0].value&&(mr.Qb=1,mr.qb+=di[0][wn[0]+0].value<<8)),mr.jc=!mr.Qb&&6>Sn,mr.jc){var gc,so=mr;for(gc=0;gc<Ya;++gc){var Oa=gc,lo=so.pd[Oa],mc=so.G[0][so.H[0]+Oa];256<=mc.value?(lo.g=mc.g+256,lo.value=mc.value):(lo.g=0,lo.value=0,Oa>>=En(mc,8,lo),Oa>>=En(so.G[1][so.H[1]+Oa],16,lo),Oa>>=En(so.G[2][so.H[2]+Oa],0,lo),En(so.G[3][so.H[3]+Oa],24,lo))}}}Xr.vc=Wt,Xr.Wb=rr,Xr.Ya=or,Xr.yc=ui,Ve=1;break t}Ve=0}if(!(I=Ve)){k.a=3;break e}if(0<Ee){if(Z.ua=1<<Ee,!le(Z.Wa,Ee)){k.a=1,I=0;break e}}else Z.ua=0;var vc=k,Dd=F,th=G,zd=vc.s,Md=zd.xc;if(vc.c=Dd,vc.i=th,zd.md=We(Dd,Md),zd.wc=Md==0?-1:(1<<Md)-1,A){k.xb=qf;break e}if((ge=s(F*G))==null){k.a=1,I=0;break e}I=(I=ai(k,ge,0,F,G,G,null))&&!V.h;break e}return I?(D!=null?D[0]=ge:(e(ge==null),e(A)),k.$=0,A||Mn(Z)):Mn(Z),I}function jo(m,y){var A=m.c*m.i,k=A+y+16*y;return e(m.c<=y),m.V=s(k),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+A+y,1)}function Mi(m,y){var A=m.C,k=y-A,D=m.V,I=m.Ba+m.c*A;for(e(y<=m.l.o);0<k;){var F=16<k?16:k,G=m.l.ma,V=m.l.width,Z=V*F,ge=G.ca,Ee=G.tb+V*A,X=m.Ta,ye=m.Ua;_o(m,F,D,I),hs(X,ye,ge,Ee,Z),ii(G,A,A+F,ge,Ee,V),k-=F,D+=F*m.c,A+=F}e(A==y),m.C=m.Ma=y}function Qi(){this.ub=this.yd=this.td=this.Rb=0}function qs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ic(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Hs(){this.Yb=function(){var m=[];return function y(A,k,D){for(var I=D[k],F=0;F<I&&(A.push(D.length>k+1?[]:0),!(D.length<k+1));F++)y(A[F],k+1,D)}(m,0,[3,11]),m}()}function Uc(){this.jb=s(3),this.Wc=d([4,8],Hs),this.Xc=d([4,17],Hs)}function rs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function oi(){this.ld=this.La=this.dd=this.tc=0}function ki(){this.Na=this.la=0}function $s(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ws(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ua(){this.uc=this.M=this.Nb=0,this.wa=Array(new oi),this.Y=0,this.ya=Array(new Ws),this.aa=0,this.l=new Ys}function Gs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Vs(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new Qi,this.Kc=new qs,this.ed=new rs,this.Qa=new Ic,this.Ic=this.$c=this.Aa=0,this.D=new Ua,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,L),this.ia=0,this.pb=c(4,$s),this.Pa=new Uc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gs),this.Hd=0,this.rb=Array(new ki),this.sb=0,this.wa=Array(new oi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ws),this.L=this.aa=0,this.gd=d([4,2],oi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ys(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fc(){var m=new Vs;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,vn||(vn=Bi)),m}function dr(m,y,A){return m.a==0&&(m.a=y,m.sc=A,m.cb=0),0}function $l(m,y,A){return 3<=A&&m[y+0]==157&&m[y+1]==1&&m[y+2]==42}function qc(m,y){if(m==null)return 0;if(m.a=0,m.sc="OK",y==null)return dr(m,2,"null VP8Io passed to VP8GetHeaders()");var A=y.data,k=y.w,D=y.ha;if(4>D)return dr(m,7,"Truncated header.");var I=A[k+0]|A[k+1]<<8|A[k+2]<<16,F=m.Od;if(F.Rb=!(1&I),F.td=I>>1&7,F.yd=I>>4&1,F.ub=I>>5,3<F.td)return dr(m,3,"Incorrect keyframe parameters.");if(!F.yd)return dr(m,4,"Frame not displayable.");k+=3,D-=3;var G=m.Kc;if(F.Rb){if(7>D)return dr(m,7,"cannot parse picture header");if(!$l(A,k,D))return dr(m,3,"Bad code word");G.c=16383&(A[k+4]<<8|A[k+3]),G.Td=A[k+4]>>6,G.i=16383&(A[k+6]<<8|A[k+5]),G.Ud=A[k+6]>>6,k+=7,D-=7,m.za=G.c+15>>4,m.Ub=G.i+15>>4,y.width=G.c,y.height=G.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,o((I=m.Pa).jb,0,255,I.jb.length),e((I=m.Qa)!=null),I.Cb=0,I.Bb=0,I.Fb=1,o(I.Zb,0,0,I.Zb.length),o(I.Lb,0,0,I.Lb)}if(F.ub>D)return dr(m,7,"bad partition length");ne(I=m.m,A,k,F.ub),k+=F.ub,D-=F.ub,F.Rb&&(G.Ld=Ae(I),G.Kd=Ae(I)),G=m.Qa;var V,Z=m.Pa;if(e(I!=null),e(G!=null),G.Cb=Ae(I),G.Cb){if(G.Bb=Ae(I),Ae(I)){for(G.Fb=Ae(I),V=0;4>V;++V)G.Zb[V]=Ae(I)?ce(I,7):0;for(V=0;4>V;++V)G.Lb[V]=Ae(I)?ce(I,6):0}if(G.Bb)for(V=0;3>V;++V)Z.jb[V]=Ae(I)?he(I,8):255}else G.Bb=0;if(I.Ka)return dr(m,3,"cannot parse segment header");if((G=m.ed).zd=Ae(I),G.Tb=he(I,6),G.wb=he(I,3),G.Pc=Ae(I),G.Pc&&Ae(I)){for(Z=0;4>Z;++Z)Ae(I)&&(G.vd[Z]=ce(I,6));for(Z=0;4>Z;++Z)Ae(I)&&(G.od[Z]=ce(I,6))}if(m.L=G.Tb==0?0:G.zd?1:2,I.Ka)return dr(m,3,"cannot parse filter header");var ge=D;if(D=V=k,k=V+ge,G=ge,m.Xb=(1<<he(m.m,2))-1,ge<3*(Z=m.Xb))A=7;else{for(V+=3*Z,G-=3*Z,ge=0;ge<Z;++ge){var Ee=A[D+0]|A[D+1]<<8|A[D+2]<<16;Ee>G&&(Ee=G),ne(m.Jc[+ge],A,V,Ee),V+=Ee,G-=Ee,D+=3}ne(m.Jc[+Z],A,V,G),A=V<k?0:5}if(A!=0)return dr(m,A,"cannot parse partitions");for(A=he(V=m.m,7),D=Ae(V)?ce(V,4):0,k=Ae(V)?ce(V,4):0,G=Ae(V)?ce(V,4):0,Z=Ae(V)?ce(V,4):0,V=Ae(V)?ce(V,4):0,ge=m.Qa,Ee=0;4>Ee;++Ee){if(ge.Cb){var X=ge.Zb[Ee];ge.Fb||(X+=A)}else{if(0<Ee){m.pb[Ee]=m.pb[0];continue}X=A}var ye=m.pb[Ee];ye.Sc[0]=oc[Gr(X+D,127)],ye.Sc[1]=sc[Gr(X+0,127)],ye.Eb[0]=2*oc[Gr(X+k,127)],ye.Eb[1]=101581*sc[Gr(X+G,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=oc[Gr(X+Z,117)],ye.Qc[1]=sc[Gr(X+V,127)],ye.lc=X+V}if(!F.Rb)return dr(m,4,"Not a key frame.");for(Ae(I),F=m.Pa,A=0;4>A;++A){for(D=0;8>D;++D)for(k=0;3>k;++k)for(G=0;11>G;++G)Z=Pe(I,ys[A][D][k][G])?he(I,8):ka[A][D][k][G],F.Wc[A][D].Yb[k][G]=Z;for(D=0;17>D;++D)F.Xc[A][D]=F.Wc[A][Ff[D]]}return m.kc=Ae(I),m.kc&&(m.Bd=he(I,8)),m.cb=1}function Bi(m,y,A,k,D,I,F){var G=y[D].Yb[A];for(A=0;16>D;++D){if(!Pe(m,G[A+0]))return D;for(;!Pe(m,G[A+1]);)if(G=y[++D].Yb[0],A=0,D==16)return 16;var V=y[D+1].Yb;if(Pe(m,G[A+2])){var Z=m,ge=0;if(Pe(Z,(X=G)[(Ee=A)+3]))if(Pe(Z,X[Ee+6])){for(G=0,Ee=2*(ge=Pe(Z,X[Ee+8]))+(X=Pe(Z,X[Ee+9+ge])),ge=0,X=Kr[Ee];X[G];++G)ge+=ge+Pe(Z,X[G]);ge+=3+(8<<Ee)}else Pe(Z,X[Ee+7])?(ge=7+2*Pe(Z,165),ge+=Pe(Z,145)):ge=5+Pe(Z,159);else ge=Pe(Z,X[Ee+4])?3+Pe(Z,X[Ee+5]):2;G=V[2]}else ge=1,G=V[1];V=F+fr[D],0>(Z=m).b&&xe(Z);var Ee,X=Z.b,ye=(Ee=Z.Ca>>1)-(Z.I>>X)>>31;--Z.b,Z.Ca+=ye,Z.Ca|=1,Z.I-=(Ee+1&ye)<<X,I[V]=((ge^ye)-ye)*k[(0<D)+0]}return 16}function Ao(m){var y=m.rb[m.sb-1];y.la=0,y.Na=0,o(m.zc,0,0,m.zc.length),m.ja=0}function mi(m,y,A,k,D){D=m[y+A+32*k]+(D>>3),m[y+A+32*k]=-256&D?0>D?0:255:D}function ns(m,y,A,k,D,I){mi(m,y,0,A,k+D),mi(m,y,1,A,k+I),mi(m,y,2,A,k-I),mi(m,y,3,A,k-D)}function ir(m){return(20091*m>>16)+m}function is(m,y,A,k){var D,I=0,F=s(16);for(D=0;4>D;++D){var G=m[y+0]+m[y+8],V=m[y+0]-m[y+8],Z=(35468*m[y+4]>>16)-ir(m[y+12]),ge=ir(m[y+4])+(35468*m[y+12]>>16);F[I+0]=G+ge,F[I+1]=V+Z,F[I+2]=V-Z,F[I+3]=G-ge,I+=4,y++}for(D=I=0;4>D;++D)G=(m=F[I+0]+4)+F[I+8],V=m-F[I+8],Z=(35468*F[I+4]>>16)-ir(F[I+12]),mi(A,k,0,0,G+(ge=ir(F[I+4])+(35468*F[I+12]>>16))),mi(A,k,1,0,V+Z),mi(A,k,2,0,V-Z),mi(A,k,3,0,G-ge),I++,k+=32}function Hc(m,y,A,k){var D=m[y+0]+4,I=35468*m[y+4]>>16,F=ir(m[y+4]),G=35468*m[y+1]>>16;ns(A,k,0,D+F,m=ir(m[y+1]),G),ns(A,k,1,D+I,m,G),ns(A,k,2,D-I,m,G),ns(A,k,3,D-F,m,G)}function Wl(m,y,A,k,D){is(m,y,A,k),D&&is(m,y+16,A,k+4)}function Co(m,y,A,k){Za(m,y+0,A,k,1),Za(m,y+32,A,k+128,1)}function ea(m,y,A,k){var D;for(m=m[y+0]+4,D=0;4>D;++D)for(y=0;4>y;++y)mi(A,k,y,D,m)}function Gl(m,y,A,k){m[y+0]&&Zt(m,y+0,A,k),m[y+16]&&Zt(m,y+16,A,k+4),m[y+32]&&Zt(m,y+32,A,k+128),m[y+48]&&Zt(m,y+48,A,k+128+4)}function Fa(m,y,A,k){var D,I=s(16);for(D=0;4>D;++D){var F=m[y+0+D]+m[y+12+D],G=m[y+4+D]+m[y+8+D],V=m[y+4+D]-m[y+8+D],Z=m[y+0+D]-m[y+12+D];I[0+D]=F+G,I[8+D]=F-G,I[4+D]=Z+V,I[12+D]=Z-V}for(D=0;4>D;++D)F=(m=I[0+4*D]+3)+I[3+4*D],G=I[1+4*D]+I[2+4*D],V=I[1+4*D]-I[2+4*D],Z=m-I[3+4*D],A[k+0]=F+G>>3,A[k+16]=Z+V>>3,A[k+32]=F-G>>3,A[k+48]=Z-V>>3,k+=64}function ko(m,y,A){var k,D=y-32,I=Nn,F=255-m[D-1];for(k=0;k<A;++k){var G,V=I,Z=F+m[y-1];for(G=0;G<A;++G)m[y+G]=V[Z+m[D+G]];y+=32}}function Ks(m,y){ko(m,y,4)}function $c(m,y){ko(m,y,8)}function Vl(m,y){ko(m,y,16)}function wd(m,y){var A;for(A=0;16>A;++A)i(m,y+32*A,m,y-32,16)}function Yl(m,y){var A;for(A=16;0<A;--A)o(m,y,m[y-1],16),y+=32}function ma(m,y,A){var k;for(k=0;16>k;++k)o(y,A+32*k,m,16)}function va(m,y){var A,k=16;for(A=0;16>A;++A)k+=m[y-1+32*A]+m[y+A-32];ma(k>>5,m,y)}function Kl(m,y){var A,k=8;for(A=0;16>A;++A)k+=m[y-1+32*A];ma(k>>4,m,y)}function Ii(m,y){var A,k=8;for(A=0;16>A;++A)k+=m[y+A-32];ma(k>>4,m,y)}function ba(m,y){ma(128,m,y)}function At(m,y,A){return m+2*y+A+2>>2}function Xl(m,y){var A,k=y-32;for(k=new Uint8Array([At(m[k-1],m[k+0],m[k+1]),At(m[k+0],m[k+1],m[k+2]),At(m[k+1],m[k+2],m[k+3]),At(m[k+2],m[k+3],m[k+4])]),A=0;4>A;++A)i(m,y+32*A,k,0,k.length)}function Wc(m,y){var A=m[y-1],k=m[y-1+32],D=m[y-1+64],I=m[y-1+96];qe(m,y+0,16843009*At(m[y-1-32],A,k)),qe(m,y+32,16843009*At(A,k,D)),qe(m,y+64,16843009*At(k,D,I)),qe(m,y+96,16843009*At(D,I,I))}function as(m,y){var A,k=4;for(A=0;4>A;++A)k+=m[y+A-32]+m[y-1+32*A];for(k>>=3,A=0;4>A;++A)o(m,y+32*A,k,4)}function ta(m,y){var A=m[y-1+0],k=m[y-1+32],D=m[y-1+64],I=m[y-1-32],F=m[y+0-32],G=m[y+1-32],V=m[y+2-32],Z=m[y+3-32];m[y+0+96]=At(k,D,m[y-1+96]),m[y+1+96]=m[y+0+64]=At(A,k,D),m[y+2+96]=m[y+1+64]=m[y+0+32]=At(I,A,k),m[y+3+96]=m[y+2+64]=m[y+1+32]=m[y+0+0]=At(F,I,A),m[y+3+64]=m[y+2+32]=m[y+1+0]=At(G,F,I),m[y+3+32]=m[y+2+0]=At(V,G,F),m[y+3+0]=At(Z,V,G)}function ra(m,y){var A=m[y+1-32],k=m[y+2-32],D=m[y+3-32],I=m[y+4-32],F=m[y+5-32],G=m[y+6-32],V=m[y+7-32];m[y+0+0]=At(m[y+0-32],A,k),m[y+1+0]=m[y+0+32]=At(A,k,D),m[y+2+0]=m[y+1+32]=m[y+0+64]=At(k,D,I),m[y+3+0]=m[y+2+32]=m[y+1+64]=m[y+0+96]=At(D,I,F),m[y+3+32]=m[y+2+64]=m[y+1+96]=At(I,F,G),m[y+3+64]=m[y+2+96]=At(F,G,V),m[y+3+96]=At(G,V,V)}function Ei(m,y){var A=m[y-1+0],k=m[y-1+32],D=m[y-1+64],I=m[y-1-32],F=m[y+0-32],G=m[y+1-32],V=m[y+2-32],Z=m[y+3-32];m[y+0+0]=m[y+1+64]=I+F+1>>1,m[y+1+0]=m[y+2+64]=F+G+1>>1,m[y+2+0]=m[y+3+64]=G+V+1>>1,m[y+3+0]=V+Z+1>>1,m[y+0+96]=At(D,k,A),m[y+0+64]=At(k,A,I),m[y+0+32]=m[y+1+96]=At(A,I,F),m[y+1+32]=m[y+2+96]=At(I,F,G),m[y+2+32]=m[y+3+96]=At(F,G,V),m[y+3+32]=At(G,V,Z)}function ya(m,y){var A=m[y+0-32],k=m[y+1-32],D=m[y+2-32],I=m[y+3-32],F=m[y+4-32],G=m[y+5-32],V=m[y+6-32],Z=m[y+7-32];m[y+0+0]=A+k+1>>1,m[y+1+0]=m[y+0+64]=k+D+1>>1,m[y+2+0]=m[y+1+64]=D+I+1>>1,m[y+3+0]=m[y+2+64]=I+F+1>>1,m[y+0+32]=At(A,k,D),m[y+1+32]=m[y+0+96]=At(k,D,I),m[y+2+32]=m[y+1+96]=At(D,I,F),m[y+3+32]=m[y+2+96]=At(I,F,G),m[y+3+64]=At(F,G,V),m[y+3+96]=At(G,V,Z)}function Zl(m,y){var A=m[y-1+0],k=m[y-1+32],D=m[y-1+64],I=m[y-1+96];m[y+0+0]=A+k+1>>1,m[y+2+0]=m[y+0+32]=k+D+1>>1,m[y+2+32]=m[y+0+64]=D+I+1>>1,m[y+1+0]=At(A,k,D),m[y+3+0]=m[y+1+32]=At(k,D,I),m[y+3+32]=m[y+1+64]=At(D,I,I),m[y+3+64]=m[y+2+64]=m[y+0+96]=m[y+1+96]=m[y+2+96]=m[y+3+96]=I}function qa(m,y){var A=m[y-1+0],k=m[y-1+32],D=m[y-1+64],I=m[y-1+96],F=m[y-1-32],G=m[y+0-32],V=m[y+1-32],Z=m[y+2-32];m[y+0+0]=m[y+2+32]=A+F+1>>1,m[y+0+32]=m[y+2+64]=k+A+1>>1,m[y+0+64]=m[y+2+96]=D+k+1>>1,m[y+0+96]=I+D+1>>1,m[y+3+0]=At(G,V,Z),m[y+2+0]=At(F,G,V),m[y+1+0]=m[y+3+32]=At(A,F,G),m[y+1+32]=m[y+3+64]=At(k,A,F),m[y+1+64]=m[y+3+96]=At(D,k,A),m[y+1+96]=At(I,D,k)}function Xs(m,y){var A;for(A=0;8>A;++A)i(m,y+32*A,m,y-32,8)}function xa(m,y){var A;for(A=0;8>A;++A)o(m,y,m[y-1],8),y+=32}function Ha(m,y,A){var k;for(k=0;8>k;++k)o(y,A+32*k,m,8)}function os(m,y){var A,k=8;for(A=0;8>A;++A)k+=m[y+A-32]+m[y-1+32*A];Ha(k>>4,m,y)}function Vn(m,y){var A,k=4;for(A=0;8>A;++A)k+=m[y+A-32];Ha(k>>3,m,y)}function na(m,y){var A,k=4;for(A=0;8>A;++A)k+=m[y-1+32*A];Ha(k>>3,m,y)}function Eo(m,y){Ha(128,m,y)}function ia(m,y,A){var k=m[y-A],D=m[y+0],I=3*(D-k)+tu[1020+m[y-2*A]-m[y+A]],F=gs[112+(I+4>>3)];m[y-A]=Nn[255+k+gs[112+(I+3>>3)]],m[y+0]=Nn[255+D-F]}function ss(m,y,A,k){var D=m[y+0],I=m[y+A];return $i[255+m[y-2*A]-m[y-A]]>k||$i[255+I-D]>k}function ls(m,y,A,k){return 4*$i[255+m[y-A]-m[y+0]]+$i[255+m[y-2*A]-m[y+A]]<=k}function No(m,y,A,k,D){var I=m[y-3*A],F=m[y-2*A],G=m[y-A],V=m[y+0],Z=m[y+A],ge=m[y+2*A],Ee=m[y+3*A];return 4*$i[255+G-V]+$i[255+F-Z]>k?0:$i[255+m[y-4*A]-I]<=D&&$i[255+I-F]<=D&&$i[255+F-G]<=D&&$i[255+Ee-ge]<=D&&$i[255+ge-Z]<=D&&$i[255+Z-V]<=D}function $a(m,y,A,k){var D=2*k+1;for(k=0;16>k;++k)ls(m,y+k,A,D)&&ia(m,y+k,A)}function wa(m,y,A,k){var D=2*k+1;for(k=0;16>k;++k)ls(m,y+k*A,1,D)&&ia(m,y+k*A,1)}function Jl(m,y,A,k){var D;for(D=3;0<D;--D)$a(m,y+=4*A,A,k)}function Gc(m,y,A,k){var D;for(D=3;0<D;--D)wa(m,y+=4,A,k)}function Wa(m,y,A,k,D,I,F,G){for(I=2*I+1;0<D--;){if(No(m,y,A,I,F))if(ss(m,y,A,G))ia(m,y,A);else{var V=m,Z=y,ge=A,Ee=V[Z-2*ge],X=V[Z-ge],ye=V[Z+0],_e=V[Z+ge],Oe=V[Z+2*ge],ke=27*(De=tu[1020+3*(ye-X)+tu[1020+Ee-_e]])+63>>7,ze=18*De+63>>7,De=9*De+63>>7;V[Z-3*ge]=Nn[255+V[Z-3*ge]+De],V[Z-2*ge]=Nn[255+Ee+ze],V[Z-ge]=Nn[255+X+ke],V[Z+0]=Nn[255+ye-ke],V[Z+ge]=Nn[255+_e-ze],V[Z+2*ge]=Nn[255+Oe-De]}y+=k}}function Ga(m,y,A,k,D,I,F,G){for(I=2*I+1;0<D--;){if(No(m,y,A,I,F))if(ss(m,y,A,G))ia(m,y,A);else{var V=m,Z=y,ge=A,Ee=V[Z-ge],X=V[Z+0],ye=V[Z+ge],_e=gs[112+(4+(Oe=3*(X-Ee))>>3)],Oe=gs[112+(Oe+3>>3)],ke=_e+1>>1;V[Z-2*ge]=Nn[255+V[Z-2*ge]+ke],V[Z-ge]=Nn[255+Ee+Oe],V[Z+0]=Nn[255+X-_e],V[Z+ge]=Nn[255+ye-ke]}y+=k}}function Zs(m,y,A,k,D,I){Wa(m,y,A,1,16,k,D,I)}function Vc(m,y,A,k,D,I){Wa(m,y,1,A,16,k,D,I)}function cs(m,y,A,k,D,I){var F;for(F=3;0<F;--F)Ga(m,y+=4*A,A,1,16,k,D,I)}function Yc(m,y,A,k,D,I){var F;for(F=3;0<F;--F)Ga(m,y+=4,1,A,16,k,D,I)}function _(m,y,A,k,D,I,F,G){Wa(m,y,D,1,8,I,F,G),Wa(A,k,D,1,8,I,F,G)}function P(m,y,A,k,D,I,F,G){Wa(m,y,1,D,8,I,F,G),Wa(A,k,1,D,8,I,F,G)}function ee(m,y,A,k,D,I,F,G){Ga(m,y+4*D,D,1,8,I,F,G),Ga(A,k+4*D,D,1,8,I,F,G)}function pe(m,y,A,k,D,I,F,G){Ga(m,y+4,1,D,8,I,F,G),Ga(A,k+4,1,D,8,I,F,G)}function Se(){this.ba=new cr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ur,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Me(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function He(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qe(){this.ua=0,this.Wa=new gt,this.vb=new gt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new be,this.yc=new oe}function st(){this.xb=this.a=0,this.l=new Ys,this.ca=new cr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qe,this.ab=0,this.gc=c(4,He),this.Oc=0}function Ct(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ys,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Pt(m,y,A,k,D,I,F){for(m=m==null?0:m[y+0],y=0;y<F;++y)D[I+y]=m+A[k+y]&255,m=D[I+y]}function ar(m,y,A,k,D,I,F){var G;if(m==null)Pt(null,null,A,k,D,I,F);else for(G=0;G<F;++G)D[I+G]=m[y+G]+A[k+G]&255}function Fr(m,y,A,k,D,I,F){if(m==null)Pt(null,null,A,k,D,I,F);else{var G,V=m[y+0],Z=V,ge=V;for(G=0;G<F;++G)Z=ge+(V=m[y+G])-Z,ge=A[k+G]+(-256&Z?0>Z?0:255:Z)&255,Z=V,D[I+G]=ge}}function un(m,y,A,k){var D=y.width,I=y.o;if(e(m!=null&&y!=null),0>A||0>=k||A+k>I)return null;if(!m.Cc){if(m.ga==null){var F;if(m.ga=new Ct,(F=m.ga==null)||(F=y.width*y.o,e(m.Gb.length==0),m.Gb=s(F),m.Uc=0,m.Gb==null?F=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,F=1),F=!F),!F){F=m.ga;var G=m.Fa,V=m.P,Z=m.qc,ge=m.mb,Ee=m.nb,X=V+1,ye=Z-1,_e=F.l;if(e(G!=null&&ge!=null&&y!=null),Ea[0]=null,Ea[1]=Pt,Ea[2]=ar,Ea[3]=Fr,F.ca=ge,F.tb=Ee,F.c=y.width,F.i=y.height,e(0<F.c&&0<F.i),1>=Z)y=0;else if(F.$a=3&G[V+0],F.Z=G[V+0]>>2&3,F.Lc=G[V+0]>>4&3,V=G[V+0]>>6&3,0>F.$a||1<F.$a||4<=F.Z||1<F.Lc||V)y=0;else if(_e.put=mt,_e.ac=Zi,_e.bc=Wn,_e.ma=F,_e.width=y.width,_e.height=y.height,_e.Da=y.Da,_e.v=y.v,_e.va=y.va,_e.j=y.j,_e.o=y.o,F.$a)e:{e(F.$a==1),y=Br();t:for(;;){if(y==null){y=0;break e}if(e(F!=null),F.mc=y,y.c=F.c,y.i=F.i,y.l=F.l,y.l.ma=F,y.l.width=F.c,y.l.height=F.i,y.a=0,je(y.m,G,X,ye),!Ji(F.c,F.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Ci(y.s)?(F.ic=1,G=y.c*y.i,y.Ta=null,y.Ua=0,y.V=s(G),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(F.ic=0,y=jo(y,F.c)),!y))break t;y=1;break e}F.mc=null,y=0}else y=ye>=F.c*F.i;F=!y}if(F)return null;m.ga.Lc!=1?m.Ga=0:k=I-A}e(m.ga!=null),e(A+k<=I);e:{if(y=(G=m.ga).c,I=G.l.o,G.$a==0){if(X=m.rc,ye=m.Vc,_e=m.Fa,V=m.P+1+A*y,Z=m.mb,ge=m.nb+A*y,e(V<=m.P+m.qc),G.Z!=0)for(e(Ea[G.Z]!=null),F=0;F<k;++F)Ea[G.Z](X,ye,_e,V,Z,ge,y),X=Z,ye=ge,ge+=y,V+=y;else for(F=0;F<k;++F)i(Z,ge,_e,V,y),X=Z,ye=ge,ge+=y,V+=y;m.rc=X,m.Vc=ye}else{if(e(G.mc!=null),y=A+k,e((F=G.mc)!=null),e(y<=F.i),F.C>=y)y=1;else if(G.ic||Ui(),G.ic){G=F.V,X=F.Ba,ye=F.c;var Oe=F.i,ke=(_e=1,V=F.$/ye,Z=F.$%ye,ge=F.m,Ee=F.s,F.$),ze=ye*Oe,De=ye*y,$e=Ee.wc,Ue=ke<De?zn(Ee,Z,V):null;e(ke<=ze),e(y<=Oe),e(Ci(Ee));t:for(;;){for(;!ge.h&&ke<De;){if(Z&$e||(Ue=zn(Ee,Z,V)),e(Ue!=null),ve(ge),256>(Oe=Mr(Ue.G[0],Ue.H[0],ge)))G[X+ke]=Oe,++ke,++Z>=ye&&(Z=0,++V<=y&&!(V%16)&&Gn(F,V));else{if(!(280>Oe)){_e=0;break t}Oe=Lr(Oe-256,ge);var ot,Je=Mr(Ue.G[4],Ue.H[4],ge);if(ve(ge),!(ke>=(Je=Dn(ye,Je=Lr(Je,ge)))&&ze-ke>=Oe)){_e=0;break t}for(ot=0;ot<Oe;++ot)G[X+ke+ot]=G[X+ke+ot-Je];for(ke+=Oe,Z+=Oe;Z>=ye;)Z-=ye,++V<=y&&!(V%16)&&Gn(F,V);ke<De&&Z&$e&&(Ue=zn(Ee,Z,V))}e(ge.h==$(ge))}Gn(F,V>y?y:V);break t}!_e||ge.h&&ke<ze?(_e=0,F.a=ge.h?5:3):F.$=ke,y=_e}else y=ai(F,F.V,F.Ba,F.c,F.i,y,Mi);if(!y){k=0;break e}}A+k>=I&&(m.Cc=1),k=1}if(!k)return null;if(m.Cc&&((k=m.ga)!=null&&(k.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+A*D}function Ar(m,y,A,k,D,I){for(;0<D--;){var F,G=m,V=y+(A?1:0),Z=m,ge=y+(A?0:3);for(F=0;F<k;++F){var Ee=Z[ge+4*F];Ee!=255&&(Ee*=32897,G[V+4*F+0]=G[V+4*F+0]*Ee>>23,G[V+4*F+1]=G[V+4*F+1]*Ee>>23,G[V+4*F+2]=G[V+4*F+2]*Ee>>23)}y+=I}}function mn(m,y,A,k,D){for(;0<k--;){var I;for(I=0;I<A;++I){var F=m[y+2*I+0],G=15&(Z=m[y+2*I+1]),V=4369*G,Z=(240&Z|Z>>4)*V>>16;m[y+2*I+0]=(240&F|F>>4)*V>>16&240|(15&F|F<<4)*V>>16>>4&15,m[y+2*I+1]=240&Z|G}y+=D}}function dn(m,y,A,k,D,I,F,G){var V,Z,ge=255;for(Z=0;Z<D;++Z){for(V=0;V<k;++V){var Ee=m[y+V];I[F+4*V]=Ee,ge&=Ee}y+=A,F+=G}return ge!=255}function Bn(m,y,A,k,D){var I;for(I=0;I<D;++I)A[k+I]=m[y+I]>>8}function Ui(){al=Ar,Ti=mn,Oi=dn,hs=Bn}function vi(m,y,A){U[m]=function(k,D,I,F,G,V,Z,ge,Ee,X,ye,_e,Oe,ke,ze,De,$e){var Ue,ot=$e-1>>1,Je=G[V+0]|Z[ge+0]<<16,Lt=Ee[X+0]|ye[_e+0]<<16;e(k!=null);var et=3*Je+Lt+131074>>2;for(y(k[D+0],255&et,et>>16,Oe,ke),I!=null&&(et=3*Lt+Je+131074>>2,y(I[F+0],255&et,et>>16,ze,De)),Ue=1;Ue<=ot;++Ue){var Vt=G[V+Ue]|Z[ge+Ue]<<16,fn=Ee[X+Ue]|ye[_e+Ue]<<16,kt=Je+Vt+Lt+fn+524296,tt=kt+2*(Vt+Lt)>>3;et=tt+Je>>1,Je=(kt=kt+2*(Je+fn)>>3)+Vt>>1,y(k[D+2*Ue-1],255&et,et>>16,Oe,ke+(2*Ue-1)*A),y(k[D+2*Ue-0],255&Je,Je>>16,Oe,ke+(2*Ue-0)*A),I!=null&&(et=kt+Lt>>1,Je=tt+fn>>1,y(I[F+2*Ue-1],255&et,et>>16,ze,De+(2*Ue-1)*A),y(I[F+2*Ue+0],255&Je,Je>>16,ze,De+(2*Ue+0)*A)),Je=Vt,Lt=fn}1&$e||(et=3*Je+Lt+131074>>2,y(k[D+$e-1],255&et,et>>16,Oe,ke+($e-1)*A),I!=null&&(et=3*Lt+Je+131074>>2,y(I[F+$e-1],255&et,et>>16,ze,De+($e-1)*A)))}}function Kc(){Ln[Xn]=no,Ln[ol]=Na,Ln[Ca]=qo,Ln[ic]=iu,Ln[ms]=au,Ln[Ja]=cl,Ln[ru]=ou,Ln[ac]=Na,Ln[Uo]=iu,Ln[Qa]=au,Ln[sl]=cl}function Lo(m){return m&-16384?0>m?0:255:m>>ip}function aa(m,y){return Lo((19077*m>>8)+(26149*y>>8)-14234)}function To(m,y,A){return Lo((19077*m>>8)-(6419*y>>8)-(13320*A>>8)+8708)}function Oo(m,y){return Lo((19077*m>>8)+(33050*y>>8)-17685)}function Ro(m,y,A,k,D){k[D+0]=aa(m,A),k[D+1]=To(m,y,A),k[D+2]=Oo(m,y)}function Po(m,y,A,k,D){k[D+0]=Oo(m,y),k[D+1]=To(m,y,A),k[D+2]=aa(m,A)}function In(m,y,A,k,D){var I=To(m,y,A);y=I<<3&224|Oo(m,y)>>3,k[D+0]=248&aa(m,A)|I>>5,k[D+1]=y}function Do(m,y,A,k,D){var I=240&Oo(m,y)|15;k[D+0]=240&aa(m,A)|To(m,y,A)>>4,k[D+1]=I}function Fi(m,y,A,k,D){k[D+0]=255,Ro(m,y,A,k,D+1)}function Ql(m,y,A,k,D){Po(m,y,A,k,D),k[D+3]=255}function ec(m,y,A,k,D){Ro(m,y,A,k,D),k[D+3]=255}function Gr(m,y){return 0>m?0:m>y?y:m}function Sa(m,y,A){U[m]=function(k,D,I,F,G,V,Z,ge,Ee){for(var X=ge+(-2&Ee)*A;ge!=X;)y(k[D+0],I[F+0],G[V+0],Z,ge),y(k[D+1],I[F+0],G[V+0],Z,ge+A),D+=2,++F,++V,ge+=2*A;1&Ee&&y(k[D+0],I[F+0],G[V+0],Z,ge)}}function us(m,y,A){return A==0?m==0?y==0?6:5:y==0?4:0:A}function zo(m,y,A,k,D){switch(m>>>30){case 3:Za(y,A,k,D,0);break;case 2:Li(y,A,k,D);break;case 1:Zt(y,A,k,D)}}function Yn(m,y){var A,k,D=y.M,I=y.Nb,F=m.oc,G=m.pc+40,V=m.oc,Z=m.pc+584,ge=m.oc,Ee=m.pc+600;for(A=0;16>A;++A)F[G+32*A-1]=129;for(A=0;8>A;++A)V[Z+32*A-1]=129,ge[Ee+32*A-1]=129;for(0<D?F[G-1-32]=V[Z-1-32]=ge[Ee-1-32]=129:(o(F,G-32-1,127,21),o(V,Z-32-1,127,9),o(ge,Ee-32-1,127,9)),k=0;k<m.za;++k){var X=y.ya[y.aa+k];if(0<k){for(A=-1;16>A;++A)i(F,G+32*A-4,F,G+32*A+12,4);for(A=-1;8>A;++A)i(V,Z+32*A-4,V,Z+32*A+4,4),i(ge,Ee+32*A-4,ge,Ee+32*A+4,4)}var ye=m.Gd,_e=m.Hd+k,Oe=X.ad,ke=X.Hc;if(0<D&&(i(F,G-32,ye[_e].y,0,16),i(V,Z-32,ye[_e].f,0,8),i(ge,Ee-32,ye[_e].ea,0,8)),X.Za){var ze=F,De=G-32+16;for(0<D&&(k>=m.za-1?o(ze,De,ye[_e].y[15],4):i(ze,De,ye[_e+1].y,0,4)),A=0;4>A;A++)ze[De+128+A]=ze[De+256+A]=ze[De+384+A]=ze[De+0+A];for(A=0;16>A;++A,ke<<=2)ze=F,De=G+xs[A],li[X.Ob[A]](ze,De),zo(ke,Oe,16*+A,ze,De)}else if(ze=us(k,D,X.Ob[0]),ro[ze](F,G),ke!=0)for(A=0;16>A;++A,ke<<=2)zo(ke,Oe,16*+A,F,G+xs[A]);for(A=X.Gc,ze=us(k,D,X.Dd),Pi[ze](V,Z),Pi[ze](ge,Ee),ke=Oe,ze=V,De=Z,255&(X=0|A)&&(170&X?Kn(ke,256,ze,De):gr(ke,256,ze,De)),X=ge,ke=Ee,255&(A>>=8)&&(170&A?Kn(Oe,320,X,ke):gr(Oe,320,X,ke)),D<m.Ub-1&&(i(ye[_e].y,0,F,G+480,16),i(ye[_e].f,0,V,Z+224,8),i(ye[_e].ea,0,ge,Ee+224,8)),A=8*I*m.B,ye=m.sa,_e=m.ta+16*k+16*I*m.R,Oe=m.qa,X=m.ra+8*k+A,ke=m.Ha,ze=m.Ia+8*k+A,A=0;16>A;++A)i(ye,_e+A*m.R,F,G+32*A,16);for(A=0;8>A;++A)i(Oe,X+A*m.B,V,Z+32*A,8),i(ke,ze+A*m.B,ge,Ee+32*A,8)}}function ds(m,y,A,k,D,I,F,G,V){var Z=[0],ge=[0],Ee=0,X=V!=null?V.kd:0,ye=V??new Me;if(m==null||12>A)return 7;ye.data=m,ye.w=y,ye.ha=A,y=[y],A=[A],ye.gb=[ye.gb];e:{var _e=y,Oe=A,ke=ye.gb;if(e(m!=null),e(Oe!=null),e(ke!=null),ke[0]=0,12<=Oe[0]&&!r(m,_e[0],"RIFF")){if(r(m,_e[0]+8,"WEBP")){ke=3;break e}var ze=Re(m,_e[0]+4);if(12>ze||4294967286<ze){ke=3;break e}if(X&&ze>Oe[0]-8){ke=7;break e}ke[0]=ze,_e[0]+=12,Oe[0]-=12}ke=0}if(ke!=0)return ke;for(ze=0<ye.gb[0],A=A[0];;){e:{var De=m;Oe=y,ke=A;var $e=Z,Ue=ge,ot=_e=[0];if((et=Ee=[Ee])[0]=0,8>ke[0])ke=7;else{if(!r(De,Oe[0],"VP8X")){if(Re(De,Oe[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var Je=Re(De,Oe[0]+8),Lt=1+Ke(De,Oe[0]+12);if(2147483648<=Lt*(De=1+Ke(De,Oe[0]+15))){ke=3;break e}ot!=null&&(ot[0]=Je),$e!=null&&($e[0]=Lt),Ue!=null&&(Ue[0]=De),Oe[0]+=18,ke[0]-=18,et[0]=1}ke=0}}if(Ee=Ee[0],_e=_e[0],ke!=0)return ke;if(Oe=!!(2&_e),!ze&&Ee)return 3;if(I!=null&&(I[0]=!!(16&_e)),F!=null&&(F[0]=Oe),G!=null&&(G[0]=0),F=Z[0],_e=ge[0],Ee&&Oe&&V==null){ke=0;break}if(4>A){ke=7;break}if(ze&&Ee||!ze&&!Ee&&!r(m,y[0],"ALPH")){A=[A],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{Je=m,ke=y,ze=A;var et=ye.gb;$e=ye.na,Ue=ye.P,ot=ye.Sa,Lt=22,e(Je!=null),e(ze!=null),De=ke[0];var Vt=ze[0];for(e($e!=null),e(ot!=null),$e[0]=null,Ue[0]=null,ot[0]=0;;){if(ke[0]=De,ze[0]=Vt,8>Vt){ke=7;break e}var fn=Re(Je,De+4);if(4294967286<fn){ke=3;break e}var kt=8+fn+1&-2;if(Lt+=kt,0<et&&Lt>et){ke=3;break e}if(!r(Je,De,"VP8 ")||!r(Je,De,"VP8L")){ke=0;break e}if(Vt[0]<kt){ke=7;break e}r(Je,De,"ALPH")||($e[0]=Je,Ue[0]=De+8,ot[0]=fn),De+=kt,Vt-=kt}}if(A=A[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],ke!=0)break}A=[A],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(et=m,ke=y,ze=A,$e=ye.gb[0],Ue=ye.Ja,ot=ye.xa,Je=ke[0],De=!r(et,Je,"VP8 "),Lt=!r(et,Je,"VP8L"),e(et!=null),e(ze!=null),e(Ue!=null),e(ot!=null),8>ze[0])ke=7;else{if(De||Lt){if(et=Re(et,Je+4),12<=$e&&et>$e-12){ke=3;break e}if(X&&et>ze[0]-8){ke=7;break e}Ue[0]=et,ke[0]+=8,ze[0]-=8,ot[0]=Lt}else ot[0]=5<=ze[0]&&et[Je+0]==47&&!(et[Je+4]>>5),Ue[0]=ze[0];ke=0}if(A=A[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],y=y[0],ke!=0)break;if(4294967286<ye.Ja)return 3;if(G==null||Oe||(G[0]=ye.xa?2:1),F=[F],_e=[_e],ye.xa){if(5>A){ke=7;break}G=F,X=_e,Oe=I,m==null||5>A?m=0:5<=A&&m[y+0]==47&&!(m[y+4]>>5)?(ze=[0],et=[0],$e=[0],je(Ue=new H,m,y,A),zr(Ue,ze,et,$e)?(G!=null&&(G[0]=ze[0]),X!=null&&(X[0]=et[0]),Oe!=null&&(Oe[0]=$e[0]),m=1):m=0):m=0}else{if(10>A){ke=7;break}G=_e,m==null||10>A||!$l(m,y+3,A-3)?m=0:(X=m[y+0]|m[y+1]<<8|m[y+2]<<16,Oe=16383&(m[y+7]<<8|m[y+6]),m=16383&(m[y+9]<<8|m[y+8]),1&X||3<(X>>1&7)||!(X>>4&1)||X>>5>=ye.Ja||!Oe||!m?m=0:(F&&(F[0]=Oe),G&&(G[0]=m),m=1))}if(!m||(F=F[0],_e=_e[0],Ee&&(Z[0]!=F||ge[0]!=_e)))return 3;V!=null&&(V[0]=ye,V.offset=y-V.w,e(4294967286>y-V.w),e(V.offset==V.ha-A));break}return ke==0||ke==7&&Ee&&V==null?(I!=null&&(I[0]|=ye.na!=null&&0<ye.na.length),k!=null&&(k[0]=F),D!=null&&(D[0]=_e),0):ke}function Mo(m,y,A){var k=y.width,D=y.height,I=0,F=0,G=k,V=D;if(y.Da=m!=null&&0<m.Da,y.Da&&(G=m.cd,V=m.bd,I=m.v,F=m.j,11>A||(I&=-2,F&=-2),0>I||0>F||0>=G||0>=V||I+G>k||F+V>D))return 0;if(y.v=I,y.j=F,y.va=I+G,y.o=F+V,y.U=G,y.T=V,y.da=m!=null&&0<m.da,y.da){if(!pt(G,V,A=[m.ib],I=[m.hb]))return 0;y.ib=A[0],y.hb=I[0]}return y.ob=m!=null&&m.ob,y.Kb=m==null||!m.Sd,y.da&&(y.ob=y.ib<3*k/4&&y.hb<3*D/4,y.Kb=0),1}function Js(m){if(m==null)return 2;if(11>m.S){var y=m.f.RGBA;y.fb+=(m.height-1)*y.A,y.A=-y.A}else y=m.f.kb,m=m.height,y.O+=(m-1)*y.fa,y.fa=-y.fa,y.N+=(m-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(m-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(m-1)*y.lb,y.lb=-y.lb);return 0}function Va(m,y,A,k){if(k==null||0>=m||0>=y)return 2;if(A!=null){if(A.Da){var D=A.cd,I=A.bd,F=-2&A.v,G=-2&A.j;if(0>F||0>G||0>=D||0>=I||F+D>m||G+I>y)return 2;m=D,y=I}if(A.da){if(!pt(m,y,D=[A.ib],I=[A.hb]))return 2;m=D[0],y=I[0]}}k.width=m,k.height=y;e:{var V=k.width,Z=k.height;if(m=k.S,0>=V||0>=Z||!(m>=Xn&&13>m))m=2;else{if(0>=k.Rd&&k.sd==null){F=I=D=y=0;var ge=(G=V*Wf[m])*Z;if(11>m||(I=(Z+1)/2*(y=(V+1)/2),m==12&&(F=(D=V)*Z)),(Z=s(ge+2*I+F))==null){m=1;break e}k.sd=Z,11>m?((V=k.f.RGBA).eb=Z,V.fb=0,V.A=G,V.size=ge):((V=k.f.kb).y=Z,V.O=0,V.fa=G,V.Fd=ge,V.f=Z,V.N=0+ge,V.Ab=y,V.Cd=I,V.ea=Z,V.W=0+ge+I,V.Db=y,V.Ed=I,m==12&&(V.F=Z,V.J=0+ge+2*I),V.Tc=F,V.lb=D)}if(y=1,D=k.S,I=k.width,F=k.height,D>=Xn&&13>D)if(11>D)m=k.f.RGBA,y&=(G=Math.abs(m.A))*(F-1)+I<=m.size,y&=G>=I*Wf[D],y&=m.eb!=null;else{m=k.f.kb,G=(I+1)/2,ge=(F+1)/2,V=Math.abs(m.fa),Z=Math.abs(m.Ab);var Ee=Math.abs(m.Db),X=Math.abs(m.lb),ye=X*(F-1)+I;y&=V*(F-1)+I<=m.Fd,y&=Z*(ge-1)+G<=m.Cd,y=(y&=Ee*(ge-1)+G<=m.Ed)&V>=I&Z>=G&Ee>=G,y&=m.y!=null,y&=m.f!=null,y&=m.ea!=null,D==12&&(y&=X>=I,y&=ye<=m.Tc,y&=m.F!=null)}else y=0;m=y?0:2}}return m!=0||A!=null&&A.fd&&(m=Js(k)),m}var Ya=64,si=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bi=24,Ka=32,_a=8,Bo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(m){return m},U.Predictor2=function(m,y,A){return y[A+0]},U.Predictor3=function(m,y,A){return y[A+1]},U.Predictor4=function(m,y,A){return y[A-1]},U.Predictor5=function(m,y,A){return ut(ut(m,y[A+1]),y[A+0])},U.Predictor6=function(m,y,A){return ut(m,y[A-1])},U.Predictor7=function(m,y,A){return ut(m,y[A+0])},U.Predictor8=function(m,y,A){return ut(y[A-1],y[A+0])},U.Predictor9=function(m,y,A){return ut(y[A+0],y[A+1])},U.Predictor10=function(m,y,A){return ut(ut(m,y[A-1]),ut(y[A+0],y[A+1]))},U.Predictor11=function(m,y,A){var k=y[A+0];return 0>=St(k>>24&255,m>>24&255,(y=y[A-1])>>24&255)+St(k>>16&255,m>>16&255,y>>16&255)+St(k>>8&255,m>>8&255,y>>8&255)+St(255&k,255&m,255&y)?k:m},U.Predictor12=function(m,y,A){var k=y[A+0];return(lr((m>>24&255)+(k>>24&255)-((y=y[A-1])>>24&255))<<24|lr((m>>16&255)+(k>>16&255)-(y>>16&255))<<16|lr((m>>8&255)+(k>>8&255)-(y>>8&255))<<8|lr((255&m)+(255&k)-(255&y)))>>>0},U.Predictor13=function(m,y,A){var k=y[A-1];return(zt((m=ut(m,y[A+0]))>>24&255,k>>24&255)<<24|zt(m>>16&255,k>>16&255)<<16|zt(m>>8&255,k>>8&255)<<8|zt(255&m,255&k))>>>0};var tc=U.PredictorAdd0;U.PredictorAdd1=Ft,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var Qs=U.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var nn,Xc=U.ColorIndexInverseTransform,Vr=U.MapARGB,yi=U.VP8LColorIndexInverseTransformAlpha,el=U.MapAlpha,tl=U.VP8LPredictorsAdd=[];tl.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var rl,nl,ja,Io,Ni,Xa,qi,Za,Li,Kn,Zt,gr,Yr,Tr,Aa,il,fs,Zc,Bf,If,Sd,_d,Jc,Hi,al,Ti,Oi,hs,Qc=s(511),rc=s(2041),nc=s(225),eu=s(767),ps=0,tu=rc,gs=nc,Nn=eu,$i=Qc,Xn=0,ol=1,Ca=2,ic=3,ms=4,Ja=5,ru=6,ac=7,Uo=8,Qa=9,sl=10,nu=[2,3,7],Wi=[3,3,11],Ri=[280,256,256,256,40],vs=[0,1,1,1,0],eo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],to=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Uf=8,oc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],sc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vn=null,Kr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],fr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Fo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ka=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],jd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ys=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ff=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ro=[],li=[],Pi=[],qf=1,ll=2,Ea=[],Ln=[];vi("UpsampleRgbLinePair",Ro,3),vi("UpsampleBgrLinePair",Po,3),vi("UpsampleRgbaLinePair",ec,4),vi("UpsampleBgraLinePair",Ql,4),vi("UpsampleArgbLinePair",Fi,4),vi("UpsampleRgba4444LinePair",Do,2),vi("UpsampleRgb565LinePair",In,2);var no=U.UpsampleRgbLinePair,qo=U.UpsampleBgrLinePair,Na=U.UpsampleRgbaLinePair,iu=U.UpsampleBgraLinePair,au=U.UpsampleArgbLinePair,cl=U.UpsampleRgba4444LinePair,ou=U.UpsampleRgb565LinePair,La=16,bn=1<<La-1,Ho=-227,su=482,ip=6,Hf=0,ap=s(256),yn=s(256),Ad=s(256),lc=s(256),cc=s(su-Ho),Cd=s(su-Ho);Sa("YuvToRgbRow",Ro,3),Sa("YuvToBgrRow",Po,3),Sa("YuvToRgbaRow",ec,4),Sa("YuvToBgraRow",Ql,4),Sa("YuvToArgbRow",Fi,4),Sa("YuvToRgba4444Row",Do,2),Sa("YuvToRgb565Row",In,2);var xs=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],io=[0,2,8],op=[8,7,6,4,4,2,2,2,1,1,1,1],$f=1;this.WebPDecodeRGBA=function(m,y,A,k,D){var I=ol,F=new Se,G=new cr;F.ba=G,G.S=I,G.width=[G.width],G.height=[G.height];var V=G.width,Z=G.height,ge=new Nt;if(ge==null||m==null)var Ee=2;else e(ge!=null),Ee=ds(m,y,A,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ee!=0?V=0:(V!=null&&(V[0]=ge.width[0]),Z!=null&&(Z[0]=ge.height[0]),V=1),V){G.width=G.width[0],G.height=G.height[0],k!=null&&(k[0]=G.width),D!=null&&(D[0]=G.height);e:{if(k=new Ys,(D=new Me).data=m,D.w=y,D.ha=A,D.kd=1,y=[0],e(D!=null),((m=ds(D.data,D.w,D.ha,null,null,null,y,null,D))==0||m==7)&&y[0]&&(m=4),(y=m)==0){if(e(F!=null),k.data=D.data,k.w=D.w+D.offset,k.ha=D.ha-D.offset,k.put=mt,k.ac=Zi,k.bc=Wn,k.ma=F,D.xa){if((m=Br())==null){F=1;break e}if(function(X,ye){var _e=[0],Oe=[0],ke=[0];t:for(;;){if(X==null)return 0;if(ye==null)return X.a=2,0;if(X.l=ye,X.a=0,je(X.m,ye.data,ye.w,ye.ha),!zr(X.m,_e,Oe,ke)){X.a=3;break t}if(X.xb=ll,ye.width=_e[0],ye.height=Oe[0],!Ji(_e[0],Oe[0],1,X,null))break t;return 1}return e(X.a!=0),0}(m,k)){if(k=(y=Va(k.width,k.height,F.Oa,F.ba))==0){t:{k=m;r:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((A=k.l)!=null),e((D=A.ma)!=null),k.xb!=0){if(k.ca=D.ba,k.tb=D.tb,e(k.ca!=null),!Mo(D.Oa,A,ic)){k.a=2;break r}if(!jo(k,A.width)||A.da)break r;if((A.da||Rt(k.ca.S))&&Ui(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&Ui()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!le(k.s.vb,k.s.Wa.Xa)){k.a=1;break r}k.xb=0}if(!ai(k,k.V,k.Ba,k.c,k.i,A.o,zi))break r;D.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(y=m.a)}else y=m.a}else{if((m=new Fc)==null){F=1;break e}if(m.Fa=D.na,m.P=D.P,m.qc=D.Sa,qc(m,k)){if((y=Va(k.width,k.height,F.Oa,F.ba))==0){if(m.Aa=0,A=F.Oa,e((D=m)!=null),A!=null){if(0<(V=0>(V=A.Md)?0:100<V?255:255*V/100)){for(Z=ge=0;4>Z;++Z)12>(Ee=D.pb[Z]).lc&&(Ee.ia=V*op[0>Ee.lc?0:Ee.lc]>>3),ge|=Ee.ia;ge&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=A.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}(function(X,ye){if(X==null)return 0;if(ye==null)return dr(X,2,"NULL VP8Io parameter in VP8Decode().");if(!X.cb&&!qc(X,ye))return 0;if(e(X.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(X.L=0);var _e=io[X.L];if(X.L==2?(X.yb=0,X.zb=0):(X.yb=ye.v-_e>>4,X.zb=ye.j-_e>>4,0>X.yb&&(X.yb=0),0>X.zb&&(X.zb=0)),X.Va=ye.o+15+_e>>4,X.Hb=ye.va+15+_e>>4,X.Hb>X.za&&(X.Hb=X.za),X.Va>X.Ub&&(X.Va=X.Ub),0<X.L){var Oe=X.ed;for(_e=0;4>_e;++_e){var ke;if(X.Qa.Cb){var ze=X.Qa.Lb[_e];X.Qa.Fb||(ze+=Oe.Tb)}else ze=Oe.Tb;for(ke=0;1>=ke;++ke){var De=X.gd[_e][ke],$e=ze;if(Oe.Pc&&($e+=Oe.vd[0],ke&&($e+=Oe.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var Ue=$e;0<Oe.wb&&(Ue=4<Oe.wb?Ue>>2:Ue>>1)>9-Oe.wb&&(Ue=9-Oe.wb),1>Ue&&(Ue=1),De.dd=Ue,De.tc=2*$e+Ue,De.ld=40<=$e?2:15<=$e?1:0}else De.tc=0;De.La=ke}}}_e=0}else dr(X,6,"Frame setup failed"),_e=X.a;if(_e=_e==0){if(_e){X.$c=0,0<X.Aa||(X.Ic=$f);t:{_e=X.Ic,Oe=4*(Ue=X.za);var ot=32*Ue,Je=Ue+1,Lt=0<X.L?Ue*(0<X.Aa?2:1):0,et=(X.Aa==2?2:1)*Ue;if((De=Oe+832+(ke=3*(16*_e+io[X.L])/2*ot)+(ze=X.Fa!=null&&0<X.Fa.length?X.Kc.c*X.Kc.i:0))!=De)_e=0;else{if(De>X.Vb){if(X.Vb=0,X.Ec=s(De),X.Fc=0,X.Ec==null){_e=dr(X,1,"no memory during frame initialization.");break t}X.Vb=De}De=X.Ec,$e=X.Fc,X.Ac=De,X.Bc=$e,$e+=Oe,X.Gd=c(ot,Gs),X.Hd=0,X.rb=c(Je+1,ki),X.sb=1,X.wa=Lt?c(Lt,oi):null,X.Y=0,X.D.Nb=0,X.D.wa=X.wa,X.D.Y=X.Y,0<X.Aa&&(X.D.Y+=Ue),e(!0),X.oc=De,X.pc=$e,$e+=832,X.ya=c(et,Ws),X.aa=0,X.D.ya=X.ya,X.D.aa=X.aa,X.Aa==2&&(X.D.aa+=Ue),X.R=16*Ue,X.B=8*Ue,Ue=(ot=io[X.L])*X.R,ot=ot/2*X.B,X.sa=De,X.ta=$e+Ue,X.qa=X.sa,X.ra=X.ta+16*_e*X.R+ot,X.Ha=X.qa,X.Ia=X.ra+8*_e*X.B+ot,X.$c=0,$e+=ke,X.mb=ze?De:null,X.nb=ze?$e:null,e($e+ze<=X.Fc+X.Vb),Ao(X),o(X.Ac,X.Bc,0,Oe),_e=1}}if(_e){if(ye.ka=0,ye.y=X.sa,ye.O=X.ta,ye.f=X.qa,ye.N=X.ra,ye.ea=X.Ha,ye.Vd=X.Ia,ye.fa=X.R,ye.Rc=X.B,ye.F=null,ye.J=0,!ps){for(_e=-255;255>=_e;++_e)Qc[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)rc[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)nc[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)eu[255+_e]=0>_e?0:255<_e?255:_e;ps=1}qi=Fa,Za=Wl,Kn=Co,Zt=ea,gr=Gl,Li=Hc,Yr=Zs,Tr=Vc,Aa=_,il=P,fs=cs,Zc=Yc,Bf=ee,If=pe,Sd=$a,_d=wa,Jc=Jl,Hi=Gc,li[0]=as,li[1]=Ks,li[2]=Xl,li[3]=Wc,li[4]=ta,li[5]=Ei,li[6]=ra,li[7]=ya,li[8]=qa,li[9]=Zl,ro[0]=va,ro[1]=Vl,ro[2]=wd,ro[3]=Yl,ro[4]=Kl,ro[5]=Ii,ro[6]=ba,Pi[0]=os,Pi[1]=$c,Pi[2]=Xs,Pi[3]=xa,Pi[4]=na,Pi[5]=Vn,Pi[6]=Eo,_e=1}else _e=0}_e&&(_e=function(Vt,fn){for(Vt.M=0;Vt.M<Vt.Va;++Vt.M){var kt,tt=Vt.Jc[Vt.M&Vt.Xb],Ve=Vt.m,qr=Vt;for(kt=0;kt<qr.za;++kt){var Tt=Ve,It=qr,rt=It.Ac,Dt=It.Bc+4*kt,tr=It.zc,Or=It.ya[It.aa+kt];if(It.Qa.Bb?Or.$b=Pe(Tt,It.Pa.jb[0])?2+Pe(Tt,It.Pa.jb[2]):Pe(Tt,It.Pa.jb[1]):Or.$b=0,It.kc&&(Or.Ad=Pe(Tt,It.Bd)),Or.Za=!Pe(Tt,145)+0,Or.Za){var an=Or.Ob,on=0;for(It=0;4>It;++It){var Xr,Wt=tr[0+It];for(Xr=0;4>Xr;++Xr){Wt=jd[rt[Dt+Xr]][Wt];for(var rr=Fo[Pe(Tt,Wt[0])];0<rr;)rr=Fo[2*rr+Pe(Tt,Wt[rr])];Wt=-rr,rt[Dt+Xr]=Wt}i(an,on,rt,Dt,4),on+=4,tr[0+It]=Wt}}else Wt=Pe(Tt,156)?Pe(Tt,128)?1:3:Pe(Tt,163)?2:0,Or.Ob[0]=Wt,o(rt,Dt,Wt,4),o(tr,0,Wt,4);Or.Dd=Pe(Tt,142)?Pe(Tt,114)?Pe(Tt,183)?1:3:2:0}if(qr.m.Ka)return dr(Vt,7,"Premature end-of-partition0 encountered.");for(;Vt.ja<Vt.za;++Vt.ja){if(qr=tt,Tt=(Ve=Vt).rb[Ve.sb-1],rt=Ve.rb[Ve.sb+Ve.ja],kt=Ve.ya[Ve.aa+Ve.ja],Dt=Ve.kc?kt.Ad:0)Tt.la=rt.la=0,kt.Za||(Tt.Na=rt.Na=0),kt.Hc=0,kt.Gc=0,kt.ia=0;else{var Zr,yt;if(Tt=rt,rt=qr,Dt=Ve.Pa.Xc,tr=Ve.ya[Ve.aa+Ve.ja],Or=Ve.pb[tr.$b],It=tr.ad,an=0,on=Ve.rb[Ve.sb-1],Wt=Xr=0,o(It,an,0,384),tr.Za)var xn=0,Di=Dt[3];else{rr=s(16);var Jr=Tt.Na+on.Na;if(Jr=vn(rt,Dt[1],Jr,Or.Eb,0,rr,0),Tt.Na=on.Na=(0<Jr)+0,1<Jr)qi(rr,0,It,an);else{var ci=rr[0]+3>>3;for(rr=0;256>rr;rr+=16)It[an+rr]=ci}xn=1,Di=Dt[0]}var yr=15&Tt.la,sn=15&on.la;for(rr=0;4>rr;++rr){var ui=1&sn;for(ci=yt=0;4>ci;++ci)yr=yr>>1|(ui=(Jr=vn(rt,Di,Jr=ui+(1&yr),Or.Sc,xn,It,an))>xn)<<7,yt=yt<<2|(3<Jr?3:1<Jr?2:It[an+0]!=0),an+=16;yr>>=4,sn=sn>>1|ui<<7,Xr=(Xr<<8|yt)>>>0}for(Di=yr,xn=sn>>4,Zr=0;4>Zr;Zr+=2){for(yt=0,yr=Tt.la>>4+Zr,sn=on.la>>4+Zr,rr=0;2>rr;++rr){for(ui=1&sn,ci=0;2>ci;++ci)Jr=ui+(1&yr),yr=yr>>1|(ui=0<(Jr=vn(rt,Dt[2],Jr,Or.Qc,0,It,an)))<<3,yt=yt<<2|(3<Jr?3:1<Jr?2:It[an+0]!=0),an+=16;yr>>=2,sn=sn>>1|ui<<5}Wt|=yt<<4*Zr,Di|=yr<<4<<Zr,xn|=(240&sn)<<Zr}Tt.la=Di,on.la=xn,tr.Hc=Xr,tr.Gc=Wt,tr.ia=43690&Wt?0:Or.ia,Dt=!(Xr|Wt)}if(0<Ve.L&&(Ve.wa[Ve.Y+Ve.ja]=Ve.gd[kt.$b][kt.Za],Ve.wa[Ve.Y+Ve.ja].La|=!Dt),qr.Ka)return dr(Vt,7,"Premature end-of-file encountered.")}if(Ao(Vt),Ve=fn,qr=1,kt=(tt=Vt).D,Tt=0<tt.L&&tt.M>=tt.zb&&tt.M<=tt.Va,tt.Aa==0)t:{if(kt.M=tt.M,kt.uc=Tt,Yn(tt,kt),qr=1,kt=(yt=tt.D).Nb,Tt=(Wt=io[tt.L])*tt.R,rt=Wt/2*tt.B,rr=16*kt*tt.R,ci=8*kt*tt.B,Dt=tt.sa,tr=tt.ta-Tt+rr,Or=tt.qa,It=tt.ra-rt+ci,an=tt.Ha,on=tt.Ia-rt+ci,sn=(yr=yt.M)==0,Xr=yr>=tt.Va-1,tt.Aa==2&&Yn(tt,yt),yt.uc)for(ui=(Jr=tt).D.M,e(Jr.D.uc),yt=Jr.yb;yt<Jr.Hb;++yt){xn=yt,Di=ui;var Un=(Cr=(Sn=Jr).D).Nb;Zr=Sn.R;var Cr=Cr.wa[Cr.Y+xn],or=Sn.sa,Zn=Sn.ta+16*Un*Zr+16*xn,Fn=Cr.dd,mr=Cr.tc;if(mr!=0)if(e(3<=mr),Sn.L==1)0<xn&&_d(or,Zn,Zr,mr+4),Cr.La&&Hi(or,Zn,Zr,mr),0<Di&&Sd(or,Zn,Zr,mr+4),Cr.La&&Jc(or,Zn,Zr,mr);else{var di=Sn.B,wn=Sn.qa,Ta=Sn.ra+8*Un*di+8*xn,oa=Sn.Ha,Sn=Sn.Ia+8*Un*di+8*xn;Un=Cr.ld,0<xn&&(Tr(or,Zn,Zr,mr+4,Fn,Un),il(wn,Ta,oa,Sn,di,mr+4,Fn,Un)),Cr.La&&(Zc(or,Zn,Zr,mr,Fn,Un),If(wn,Ta,oa,Sn,di,mr,Fn,Un)),0<Di&&(Yr(or,Zn,Zr,mr+4,Fn,Un),Aa(wn,Ta,oa,Sn,di,mr+4,Fn,Un)),Cr.La&&(fs(or,Zn,Zr,mr,Fn,Un),Bf(wn,Ta,oa,Sn,di,mr,Fn,Un))}}if(tt.ia&&alert("todo:DitherRow"),Ve.put!=null){if(yt=16*yr,yr=16*(yr+1),sn?(Ve.y=tt.sa,Ve.O=tt.ta+rr,Ve.f=tt.qa,Ve.N=tt.ra+ci,Ve.ea=tt.Ha,Ve.W=tt.Ia+ci):(yt-=Wt,Ve.y=Dt,Ve.O=tr,Ve.f=Or,Ve.N=It,Ve.ea=an,Ve.W=on),Xr||(yr-=Wt),yr>Ve.o&&(yr=Ve.o),Ve.F=null,Ve.J=null,tt.Fa!=null&&0<tt.Fa.length&&yt<yr&&(Ve.J=un(tt,Ve,yt,yr-yt),Ve.F=tt.mb,Ve.F==null&&Ve.F.length==0)){qr=dr(tt,3,"Could not decode alpha data.");break t}yt<Ve.j&&(Wt=Ve.j-yt,yt=Ve.j,e(!(1&Wt)),Ve.O+=tt.R*Wt,Ve.N+=tt.B*(Wt>>1),Ve.W+=tt.B*(Wt>>1),Ve.F!=null&&(Ve.J+=Ve.width*Wt)),yt<yr&&(Ve.O+=Ve.v,Ve.N+=Ve.v>>1,Ve.W+=Ve.v>>1,Ve.F!=null&&(Ve.J+=Ve.v),Ve.ka=yt-Ve.j,Ve.U=Ve.va-Ve.v,Ve.T=yr-yt,qr=Ve.put(Ve))}kt+1!=tt.Ic||Xr||(i(tt.sa,tt.ta-Tt,Dt,tr+16*tt.R,Tt),i(tt.qa,tt.ra-rt,Or,It+8*tt.B,rt),i(tt.Ha,tt.Ia-rt,an,on+8*tt.B,rt))}if(!qr)return dr(Vt,6,"Output aborted.")}return 1}(X,ye)),ye.bc!=null&&ye.bc(ye),_e&=1}return _e?(X.cb=0,_e):0})(m,k)||(y=m.a)}}else y=m.a}y==0&&F.Oa!=null&&F.Oa.fd&&(y=Js(F.ba))}F=y}I=F!=0?null:11>I?G.f.RGBA.eb:G.f.kb.y}else I=null;return I};var Wf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(U,te){for(var M="",W=0;W<4;W++)M+=String.fromCharCode(U[te++]);return M}function g(U,te){return U[te+0]|U[te+1]<<8}function w(U,te){return(U[te+0]|U[te+1]<<8|U[te+2]<<16)>>>0}function S(U,te){return(U[te+0]|U[te+1]<<8|U[te+2]<<16|U[te+3]<<24)>>>0}new f;var b=[0],j=[0],C=[],N=new f,E=t,R=function(U,te){var M={},W=0,oe=!1,ae=0,be=0;if(M.frames=[],!function(L,H){for(var Y=0;Y<4;Y++)if(L[H+Y]!="RIFF".charCodeAt(Y))return!0;return!1}(U,te)){for(S(U,te+=4),te+=8;te<U.length;){var ne=h(U,te),he=S(U,te+=4);te+=4;var ce=he+(1&he);switch(ne){case"VP8 ":case"VP8L":M.frames[W]===void 0&&(M.frames[W]={}),(ie=M.frames[W]).src_off=oe?be:te-8,ie.src_size=ae+he+8,W++,oe&&(oe=!1,ae=0,be=0);break;case"VP8X":(ie=M.header={}).feature_flags=U[te];var je=te+4;ie.canvas_width=1+w(U,je),je+=3,ie.canvas_height=1+w(U,je),je+=3;break;case"ALPH":oe=!0,ae=ce+8,be=te-8;break;case"ANIM":(ie=M.header).bgcolor=S(U,te),je=te+4,ie.loop_count=g(U,je),je+=2;break;case"ANMF":var O,ie;(ie=M.frames[W]={}).offset_x=2*w(U,te),te+=3,ie.offset_y=2*w(U,te),te+=3,ie.width=1+w(U,te),te+=3,ie.height=1+w(U,te),te+=3,ie.duration=w(U,te),te+=3,O=U[te++],ie.dispose=1&O,ie.blend=O>>1&1}ne!="ANMF"&&(te+=ce)}return M}}(E,0);R.response=E,R.rgbaoutput=!0,R.dataurl=!1;var B=R.header?R.header:null,z=R.frames?R.frames:null;if(B){B.loop_counter=B.loop_count,b=[B.canvas_height],j=[B.canvas_width];for(var Q=0;Q<z.length&&z[Q].blend!=0;Q++);}var ue=z[0],J=N.WebPDecodeRGBA(E,ue.src_off,ue.src_size,j,b);ue.rgba=J,ue.imgwidth=j[0],ue.imgheight=b[0];for(var se=0;se<j[0]*b[0]*4;se++)C[se]=J[se];return this.width=j,this.height=b,this.data=C,this}(function(t){var e,r,i,o,s,c,d,f,h,g=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new f,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new c,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new c,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,r=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,f=this.internal.Matrix,h=new g}]);var w=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=L;Object.defineProperty(this,"pdf",{get:function(){return H}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(Re){Y=!!Re}});var $=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $},set:function(Re){$=!!Re}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(Re){isNaN(Re)||(re=Re)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(Re){isNaN(Re)||(ve=Re)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Re){var le;typeof Re=="number"?le=[Re,Re,Re,Re]:((le=new Array(4))[0]=Re[0],le[1]=Re.length>=2?Re[1]:le[0],le[2]=Re.length>=3?Re[2]:le[0],le[3]=Re.length>=4?Re[3]:le[1]),h.margin=le}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Re){xe=Re}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(Re){Ae=Re}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(Re){Pe=Re}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Re){Re instanceof g&&(h=Re)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Re){h.path=Re}});var qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return qe},set:function(Re){qe=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var le;le=S(Re),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var le=S(Re);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var Ge=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(Re){Ge=null,Ke=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var le;if(this.ctx.font=Re,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var Gt=le[1];le[2];var gt=le[3],pt=le[4];le[5];var We=le[6],lt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pt)[2];pt=Math.floor(lt==="px"?parseFloat(pt)*this.pdf.internal.scaleFactor:lt==="em"?parseFloat(pt)*this.pdf.getFontSize():parseFloat(pt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pt);var Ye=function(_t){var dt,jr,er=[],at=_t.trim();if(at==="")return Q1;if(at in Ib)return[Ib[at]];for(;at!=="";){switch(jr=null,dt=(at=Fb(at)).charAt(0)){case'"':case"'":jr=Pk(at.substring(1),dt);break;default:jr=Dk(at)}if(jr===null||(er.push(jr[0]),(at=Fb(jr[1]))!==""&&at.charAt(0)!==","))return Q1;at=at.replace(/^,/,"")}return er}(We);if(this.fontFaces){var Mt=function(_t,dt){if(Ge===null){var jr=function(er){var at=[];return Object.keys(er).forEach(function(bt){er[bt].forEach(function(hr){var ht=null;switch(hr){case"bold":ht={family:bt,weight:"bold"};break;case"italic":ht={family:bt,style:"italic"};break;case"bolditalic":ht={family:bt,weight:"bold",style:"italic"};break;case"":case"normal":ht={family:bt}}ht!==null&&(ht.ref={name:bt,style:hr},at.push(ht))})}),at}(_t.getFontList());Ge=function(er){for(var at={},bt=0;bt<er.length;++bt){var hr=J1(er[bt]),ht=hr.family,Xt=hr.stretch,Rt=hr.style,Wr=hr.weight;at[ht]=at[ht]||{},at[ht][Xt]=at[ht][Xt]||{},at[ht][Xt][Rt]=at[ht][Xt][Rt]||{},at[ht][Xt][Rt][Wr]=hr}return at}(jr.concat(dt))}return Ge}(this.pdf,this.fontFaces),ut=Ye.map(function(_t){return{family:_t,stretch:"normal",weight:gt,style:Gt}}),lr=function(_t,dt,jr){for(var er=(jr=jr||{}).defaultFontFamily||"times",at=Object.assign({},Rk,jr.genericFontFamilies||{}),bt=null,hr=null,ht=0;ht<dt.length;++ht)if(at[(bt=J1(dt[ht])).family]&&(bt.family=at[bt.family]),_t.hasOwnProperty(bt.family)){hr=_t[bt.family];break}if(!(hr=hr||_t[er]))throw new Error("Could not find a font-family for the rule '"+Ub(bt)+"' and default family '"+er+"'.");if(hr=function(Xt,Rt){if(Rt[Xt])return Rt[Xt];var Wr=Ug[Xt],rn=Wr<=Ug.normal?-1:1,cr=Bb(Rt,Ew,Wr,rn);if(!cr)throw new Error("Could not find a matching font-stretch value for "+Xt);return cr}(bt.stretch,hr),hr=function(Xt,Rt){if(Rt[Xt])return Rt[Xt];for(var Wr=kw[Xt],rn=0;rn<Wr.length;++rn)if(Rt[Wr[rn]])return Rt[Wr[rn]];throw new Error("Could not find a matching font-style for "+Xt)}(bt.style,hr),!(hr=function(Xt,Rt){if(Rt[Xt])return Rt[Xt];if(Xt===400&&Rt[500])return Rt[500];if(Xt===500&&Rt[400])return Rt[400];var Wr=Ok[Xt],rn=Bb(Rt,Nw,Wr,Xt<400?-1:1);if(!rn)throw new Error("Could not find a matching font-weight for value "+Xt);return rn}(bt.weight,hr)))throw new Error("Failed to resolve a font for the rule '"+Ub(bt)+"'.");return hr}(Mt,ut);this.pdf.setFont(lr.ref.name,lr.ref.style)}else{var zt="";(gt==="bold"||parseInt(gt,10)>=700||Gt==="bold")&&(zt="bold"),Gt==="italic"&&(zt+="italic"),zt.length===0&&(zt="normal");for(var St="",Ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<Ye.length;vt++){if(this.pdf.internal.getFont(Ye[vt],zt,{noFallback:!0,disableWarning:!0})!==void 0){St=Ye[vt];break}if(zt==="bolditalic"&&this.pdf.internal.getFont(Ye[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)St=Ye[vt],zt="bold";else if(this.pdf.internal.getFont(Ye[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){St=Ye[vt],zt="normal";break}}if(St===""){for(var Ze=0;Ze<Ye.length;Ze++)if(Ft[Ye[Ze]]){St=Ft[Ye[Ze]];break}}St=St===""?"Times":St,this.pdf.setFont(St,zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};w.prototype.setLineDash=function(L){this.lineDash=L},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){z.call(this,"fill",!1)},w.prototype.stroke=function(){z.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(L,H){if(isNaN(L)||isNaN(H))throw Pr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new c(L,H));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new c(L,H)},w.prototype.closePath=function(){var L=new c(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&_r(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){L=new c(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(L.x,L.y)},w.prototype.lineTo=function(L,H){if(isNaN(L)||isNaN(H))throw Pr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new c(L,H));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new c(Y.x,Y.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},w.prototype.quadraticCurveTo=function(L,H,Y,$){if(isNaN(Y)||isNaN($)||isNaN(L)||isNaN(H))throw Pr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new c(Y,$)),ve=this.ctx.transform.applyToPoint(new c(L,H));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:re.x,y:re.y}),this.ctx.lastPoint=new c(re.x,re.y)},w.prototype.bezierCurveTo=function(L,H,Y,$,re,ve){if(isNaN(re)||isNaN(ve)||isNaN(L)||isNaN(H)||isNaN(Y)||isNaN($))throw Pr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new c(re,ve)),Ae=this.ctx.transform.applyToPoint(new c(L,H)),Pe=this.ctx.transform.applyToPoint(new c(Y,$));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:Pe.x,y2:Pe.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new c(xe.x,xe.y)},w.prototype.arc=function(L,H,Y,$,re,ve){if(isNaN(L)||isNaN(H)||isNaN(Y)||isNaN($)||isNaN(re))throw Pr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new c(L,H));L=xe.x,H=xe.y;var Ae=this.ctx.transform.applyToPoint(new c(0,Y)),Pe=this.ctx.transform.applyToPoint(new c(0,0));Y=Math.sqrt(Math.pow(Ae.x-Pe.x,2)+Math.pow(Ae.y-Pe.y,2))}Math.abs(re-$)>=2*Math.PI&&($=0,re=2*Math.PI),this.path.push({type:"arc",x:L,y:H,radius:Y,startAngle:$,endAngle:re,counterclockwise:ve})},w.prototype.arcTo=function(L,H,Y,$,re){throw new Error("arcTo not implemented.")},w.prototype.rect=function(L,H,Y,$){if(isNaN(L)||isNaN(H)||isNaN(Y)||isNaN($))throw Pr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,H),this.lineTo(L+Y,H),this.lineTo(L+Y,H+$),this.lineTo(L,H+$),this.lineTo(L,H),this.lineTo(L+Y,H),this.lineTo(L,H)},w.prototype.fillRect=function(L,H,Y,$){if(isNaN(L)||isNaN(H)||isNaN(Y)||isNaN($))throw Pr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,H,Y,$),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},w.prototype.strokeRect=function(L,H,Y,$){if(isNaN(L)||isNaN(H)||isNaN(Y)||isNaN($))throw Pr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(L,H,Y,$),this.stroke())},w.prototype.clearRect=function(L,H,Y,$){if(isNaN(L)||isNaN(H)||isNaN(Y)||isNaN($))throw Pr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,H,Y,$))},w.prototype.save=function(L){L=typeof L!="boolean"||L;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var $=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$}},w.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(H),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(L){var H,Y,$,re;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))H=0,Y=0,$=0,re=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ve!==null)H=parseInt(ve[1]),Y=parseInt(ve[2]),$=parseInt(ve[3]),re=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)H=parseInt(ve[1]),Y=parseInt(ve[2]),$=parseInt(ve[3]),re=parseFloat(ve[4]);else{if(re=1,typeof L=="string"&&L.charAt(0)!=="#"){var xe=new xw(L);L=xe.ok?xe.toHex():"#000000"}L.length===4?(H=L.substring(1,2),H+=H,Y=L.substring(2,3),Y+=Y,$=L.substring(3,4),$+=$):(H=L.substring(1,3),Y=L.substring(3,5),$=L.substring(5,7)),H=parseInt(H,16),Y=parseInt(Y,16),$=parseInt($,16)}}return{r:H,g:Y,b:$,a:re,style:L}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(L,H,Y,$){if(isNaN(H)||isNaN(Y)||typeof L!="string")throw Pr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($=isNaN($)?void 0:$,!b.call(this)){var re=ce(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;W.call(this,{text:L,x:H,y:Y,scale:ve,angle:re,align:this.textAlign,maxWidth:$})}},w.prototype.strokeText=function(L,H,Y,$){if(isNaN(H)||isNaN(Y)||typeof L!="string")throw Pr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){$=isNaN($)?void 0:$;var re=ce(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;W.call(this,{text:L,x:H,y:Y,scale:ve,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:$})}},w.prototype.measureText=function(L){if(typeof L!="string")throw Pr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,Y=this.pdf.internal.scaleFactor,$=H.internal.getFontSize(),re=H.getStringUnitWidth(L)*$/H.internal.scaleFactor;return new function(ve){var xe=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:re*=Math.round(96*Y/72*1e4)/1e4})},w.prototype.scale=function(L,H){if(isNaN(L)||isNaN(H))throw Pr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new f(L,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},w.prototype.rotate=function(L){if(isNaN(L))throw Pr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new f(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},w.prototype.translate=function(L,H){if(isNaN(L)||isNaN(H))throw Pr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new f(1,0,0,1,L,H);this.ctx.transform=this.ctx.transform.multiply(Y)},w.prototype.transform=function(L,H,Y,$,re,ve){if(isNaN(L)||isNaN(H)||isNaN(Y)||isNaN($)||isNaN(re)||isNaN(ve))throw Pr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new f(L,H,Y,$,re,ve);this.ctx.transform=this.ctx.transform.multiply(xe)},w.prototype.setTransform=function(L,H,Y,$,re,ve){L=isNaN(L)?1:L,H=isNaN(H)?0:H,Y=isNaN(Y)?0:Y,$=isNaN($)?1:$,re=isNaN(re)?0:re,ve=isNaN(ve)?0:ve,this.ctx.transform=new f(L,H,Y,$,re,ve)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(L,H,Y,$,re,ve,xe,Ae,Pe){var qe=this.pdf.getImageProperties(L),Ge=1,Ke=1,Re=1,le=1;$!==void 0&&Ae!==void 0&&(Re=Ae/$,le=Pe/re,Ge=qe.width/$*Ae/$,Ke=qe.height/re*Pe/re),ve===void 0&&(ve=H,xe=Y,H=0,Y=0),$!==void 0&&Ae===void 0&&(Ae=$,Pe=re),$===void 0&&Ae===void 0&&(Ae=qe.width,Pe=qe.height);for(var Gt,gt=this.ctx.transform.decompose(),pt=ce(gt.rotate.shx),We=new f,lt=(We=(We=(We=We.multiply(gt.translate)).multiply(gt.skew)).multiply(gt.scale)).applyToRectangle(new d(ve-H*Re,xe-Y*le,$*Ge,re*Ke)),Ye=N.call(this,lt),Mt=[],ut=0;ut<Ye.length;ut+=1)Mt.indexOf(Ye[ut])===-1&&Mt.push(Ye[ut]);if(B(Mt),this.autoPaging)for(var lr=Mt[0],zt=Mt[Mt.length-1],St=lr;St<zt+1;St++){this.pdf.setPage(St);var Ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=St===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=St===1?0:Ze+(St-2)*_t;if(this.ctx.clip_path.length!==0){var jr=this.path;Gt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Gt,this.posX+this.margin[3],-dt+vt+this.ctx.prevPageLastElemOffset),Q.call(this,"fill",!0),this.path=jr}var er=JSON.parse(JSON.stringify(lt));er=R([er],this.posX+this.margin[3],-dt+vt+this.ctx.prevPageLastElemOffset)[0];var at=(St>lr||St<zt)&&C.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,_t,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",er.x,er.y,er.w,er.h,null,null,pt),at&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",lt.x,lt.y,lt.w,lt.h,null,null,pt)};var N=function(L,H,Y){var $=[];H=H||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":$.push(Math.floor((L.y+re)/Y)+1);break;case"arc":$.push(Math.floor((L.y+re-L.radius)/Y)+1),$.push(Math.floor((L.y+re+L.radius)/Y)+1);break;case"qct":var ve=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);$.push(Math.floor((ve.y+re)/Y)+1),$.push(Math.floor((ve.y+ve.h+re)/Y)+1);break;case"bct":var xe=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);$.push(Math.floor((xe.y+re)/Y)+1),$.push(Math.floor((xe.y+xe.h+re)/Y)+1);break;case"rect":$.push(Math.floor((L.y+re)/Y)+1),$.push(Math.floor((L.y+L.h+re)/Y)+1)}for(var Ae=0;Ae<$.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<$[Ae];)E.call(this);return $},E=function(){var L=this.fillStyle,H=this.strokeStyle,Y=this.font,$=this.lineCap,re=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=H,this.font=Y,this.lineCap=$,this.lineWidth=re,this.lineJoin=ve},R=function(L,H,Y){for(var $=0;$<L.length;$++)switch(L[$].type){case"bct":L[$].x2+=H,L[$].y2+=Y;case"qct":L[$].x1+=H,L[$].y1+=Y;default:L[$].x+=H,L[$].y+=Y}return L},B=function(L){return L.sort(function(H,Y){return H-Y})},z=function(L,H){for(var Y,$,re=this.fillStyle,ve=this.strokeStyle,xe=this.lineCap,Ae=this.lineWidth,Pe=Math.abs(Ae*this.ctx.transform.scaleX),qe=this.lineJoin,Ge=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),Re=[],le=0;le<Ke.length;le++)if(Ke[le].x!==void 0)for(var Gt=N.call(this,Ke[le]),gt=0;gt<Gt.length;gt+=1)Re.indexOf(Gt[gt])===-1&&Re.push(Gt[gt]);for(var pt=0;pt<Re.length;pt++)for(;this.pdf.internal.getNumberOfPages()<Re[pt];)E.call(this);if(B(Re),this.autoPaging)for(var We=Re[0],lt=Re[Re.length-1],Ye=We;Ye<lt+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=re,this.strokeStyle=ve,this.lineCap=xe,this.lineWidth=Pe,this.lineJoin=qe;var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=Ye===1?this.posY+this.margin[0]:this.margin[0],lr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=Ye===1?0:lr+(Ye-2)*zt;if(this.ctx.clip_path.length!==0){var Ft=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Y,this.posX+this.margin[3],-St+ut+this.ctx.prevPageLastElemOffset),Q.call(this,L,!0),this.path=Ft}if($=JSON.parse(JSON.stringify(Ge)),this.path=R($,this.posX+this.margin[3],-St+ut+this.ctx.prevPageLastElemOffset),H===!1||Ye===0){var vt=(Ye>We||Ye<lt)&&C.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,zt,null).clip().discardPath()),Q.call(this,L,H),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}else this.lineWidth=Pe,Q.call(this,L,H),this.lineWidth=Ae;this.path=Ge},Q=function(L,H){if((L!=="stroke"||H||!j.call(this))&&(L==="stroke"||H||!b.call(this))){for(var Y,$,re=[],ve=this.path,xe=0;xe<ve.length;xe++){var Ae=ve[xe];switch(Ae.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:Ae,deltas:[],abs:[]});break;case"lt":var Pe=re.length;if(ve[xe-1]&&!isNaN(ve[xe-1].x)&&(Y=[Ae.x-ve[xe-1].x,Ae.y-ve[xe-1].y],Pe>0)){for(;Pe>=0;Pe--)if(re[Pe-1].close!==!0&&re[Pe-1].begin!==!0){re[Pe-1].deltas.push(Y),re[Pe-1].abs.push(Ae);break}}break;case"bct":Y=[Ae.x1-ve[xe-1].x,Ae.y1-ve[xe-1].y,Ae.x2-ve[xe-1].x,Ae.y2-ve[xe-1].y,Ae.x-ve[xe-1].x,Ae.y-ve[xe-1].y],re[re.length-1].deltas.push(Y);break;case"qct":var qe=ve[xe-1].x+2/3*(Ae.x1-ve[xe-1].x),Ge=ve[xe-1].y+2/3*(Ae.y1-ve[xe-1].y),Ke=Ae.x+2/3*(Ae.x1-Ae.x),Re=Ae.y+2/3*(Ae.y1-Ae.y),le=Ae.x,Gt=Ae.y;Y=[qe-ve[xe-1].x,Ge-ve[xe-1].y,Ke-ve[xe-1].x,Re-ve[xe-1].y,le-ve[xe-1].x,Gt-ve[xe-1].y],re[re.length-1].deltas.push(Y);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(Ae)}}$=H?null:L==="stroke"?"stroke":"fill";for(var gt=!1,pt=0;pt<re.length;pt++)if(re[pt].arc)for(var We=re[pt].abs,lt=0;lt<We.length;lt++){var Ye=We[lt];Ye.type==="arc"?se.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,H,!gt):oe.call(this,Ye.x,Ye.y),gt=!0}else if(re[pt].close===!0)this.pdf.internal.out("h"),gt=!1;else if(re[pt].begin!==!0){var Mt=re[pt].start.x,ut=re[pt].start.y;ae.call(this,re[pt].deltas,Mt,ut),gt=!0}$&&U.call(this,$),H&&te.call(this)}},ue=function(L){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-Y;case"top":return L+H-Y;case"hanging":return L+H-2*Y;case"middle":return L+H/2-Y;default:return L}},J=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(H,Y){this.colorStops.push([H,Y])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var se=function(L,H,Y,$,re,ve,xe,Ae,Pe){for(var qe=ne.call(this,Y,$,re,ve),Ge=0;Ge<qe.length;Ge++){var Ke=qe[Ge];Ge===0&&(Pe?M.call(this,Ke.x1+L,Ke.y1+H):oe.call(this,Ke.x1+L,Ke.y1+H)),be.call(this,L,H,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}Ae?te.call(this):U.call(this,xe)},U=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},te=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(L,H){this.pdf.internal.out(r(L)+" "+i(H)+" m")},W=function(L){var H;switch(L.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var Y=this.pdf.getTextDimensions(L.text),$=ue.call(this,L.y),re=J.call(this,$)-Y.h,ve=this.ctx.transform.applyToPoint(new c(L.x,$)),xe=this.ctx.transform.decompose(),Ae=new f;Ae=(Ae=(Ae=Ae.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Pe,qe,Ge,Ke=this.ctx.transform.applyToRectangle(new d(L.x,$,Y.w,Y.h)),Re=Ae.applyToRectangle(new d(L.x,re,Y.w,Y.h)),le=N.call(this,Re),Gt=[],gt=0;gt<le.length;gt+=1)Gt.indexOf(le[gt])===-1&&Gt.push(le[gt]);if(B(Gt),this.autoPaging)for(var pt=Gt[0],We=Gt[Gt.length-1],lt=pt;lt<We+1;lt++){this.pdf.setPage(lt);var Ye=lt===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[2],lr=ut-this.margin[0],zt=this.pdf.internal.pageSize.width-this.margin[1],St=zt-this.margin[3],Ft=lt===1?0:Mt+(lt-2)*lr;if(this.ctx.clip_path.length!==0){var vt=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Pe,this.posX+this.margin[3],-1*Ft+Ye),Q.call(this,"fill",!0),this.path=vt}var Ze=R([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Ft+Ye+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*L.scale),Ge=this.lineWidth,this.lineWidth=Ge*L.scale);var _t=this.autoPaging!=="text";if(_t||Ze.y+Ze.h<=ut){if(_t||Ze.y>=Ye&&Ze.x<=zt){var dt=_t?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||zt-Ze.x)[0],jr=R([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Ft+Ye+this.ctx.prevPageLastElemOffset)[0],er=_t&&(lt>pt||lt<We)&&C.call(this);er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,lr,null).clip().discardPath()),this.pdf.text(dt,jr.x,jr.y,{angle:L.angle,align:H,renderingMode:L.renderingMode}),er&&this.pdf.restoreGraphicsState()}}else Ze.y<ut&&(this.ctx.prevPageLastElemOffset+=ut-Ze.y);L.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=Ge)}else L.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*L.scale),Ge=this.lineWidth,this.lineWidth=Ge*L.scale),this.pdf.text(L.text,ve.x+this.posX,ve.y+this.posY,{angle:L.angle,align:H,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=Ge)},oe=function(L,H,Y,$){Y=Y||0,$=$||0,this.pdf.internal.out(r(L+Y)+" "+i(H+$)+" l")},ae=function(L,H,Y){return this.pdf.lines(L,H,Y,null,null)},be=function(L,H,Y,$,re,ve,xe,Ae){this.pdf.internal.out([e(o(Y+L)),e(s($+H)),e(o(re+L)),e(s(ve+H)),e(o(xe+L)),e(s(Ae+H)),"c"].join(" "))},ne=function(L,H,Y,$){for(var re=2*Math.PI,ve=Math.PI/2;H>Y;)H-=re;var xe=Math.abs(Y-H);xe<re&&$&&(xe=re-xe);for(var Ae=[],Pe=$?-1:1,qe=H;xe>1e-5;){var Ge=qe+Pe*Math.min(xe,ve);Ae.push(he.call(this,L,qe,Ge)),xe-=Math.abs(Ge-qe),qe=Ge}return Ae},he=function(L,H,Y){var $=(Y-H)/2,re=L*Math.cos($),ve=L*Math.sin($),xe=re,Ae=-ve,Pe=xe*xe+Ae*Ae,qe=Pe+xe*re+Ae*ve,Ge=4/3*(Math.sqrt(2*Pe*qe)-qe)/(xe*ve-Ae*re),Ke=xe-Ge*Ae,Re=Ae+Ge*xe,le=Ke,Gt=-Re,gt=$+H,pt=Math.cos(gt),We=Math.sin(gt);return{x1:L*Math.cos(H),y1:L*Math.sin(H),x2:Ke*pt-Re*We,y2:Ke*We+Re*pt,x3:le*pt-Gt*We,y3:le*We+Gt*pt,x4:L*Math.cos(Y),y4:L*Math.sin(Y)}},ce=function(L){return 180*L/Math.PI},je=function(L,H,Y,$,re,ve){var xe=L+.5*(Y-L),Ae=H+.5*($-H),Pe=re+.5*(Y-re),qe=ve+.5*($-ve),Ge=Math.min(L,re,xe,Pe),Ke=Math.max(L,re,xe,Pe),Re=Math.min(H,ve,Ae,qe),le=Math.max(H,ve,Ae,qe);return new d(Ge,Re,Ke-Ge,le-Re)},O=function(L,H,Y,$,re,ve,xe,Ae){var Pe,qe,Ge,Ke,Re,le,Gt,gt,pt,We,lt,Ye,Mt,ut,lr=Y-L,zt=$-H,St=re-Y,Ft=ve-$,vt=xe-re,Ze=Ae-ve;for(qe=0;qe<41;qe++)pt=(Gt=(Ge=L+(Pe=qe/40)*lr)+Pe*((Re=Y+Pe*St)-Ge))+Pe*(Re+Pe*(re+Pe*vt-Re)-Gt),We=(gt=(Ke=H+Pe*zt)+Pe*((le=$+Pe*Ft)-Ke))+Pe*(le+Pe*(ve+Pe*Ze-le)-gt),qe==0?(lt=pt,Ye=We,Mt=pt,ut=We):(lt=Math.min(lt,pt),Ye=Math.min(Ye,We),Mt=Math.max(Mt,pt),ut=Math.max(ut,We));return new d(Math.round(lt),Math.round(Ye),Math.round(Mt-lt),Math.round(ut-Ye))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,H,Y=(L=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:H}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(ct.API),function(t){var e=function(c){var d,f,h,g,w,S,b,j,C,N;for(f=[],h=0,g=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;g>h;h+=4)(w=(c.charCodeAt(h)<<24)+(c.charCodeAt(h+1)<<16)+(c.charCodeAt(h+2)<<8)+c.charCodeAt(h+3))!==0?(S=(w=((w=((w=((w=(w-(N=w%85))/85)-(C=w%85))/85)-(j=w%85))/85)-(b=w%85))/85)%85,f.push(S+33,b+33,j+33,C+33,N+33)):f.push(122);return function(E,R){for(var B=R;B>0;B--)E.pop()}(f,d.length),String.fromCharCode.apply(String,f)+"~>"},r=function(c){var d,f,h,g,w,S=String,b="length",j=255,C="charCodeAt",N="slice",E="replace";for(c[N](-2),c=c[N](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),h=[],g=0,w=(c+=d="uuuuu"[N](c[b]%5||5))[b];w>g;g+=5)f=52200625*(c[C](g)-33)+614125*(c[C](g+1)-33)+7225*(c[C](g+2)-33)+85*(c[C](g+3)-33)+(c[C](g+4)-33),h.push(j&f>>24,j&f>>16,j&f>>8,j&f);return function(R,B){for(var z=B;z>0;z--)R.pop()}(h,d[b]),S.fromCharCode.apply(S,h)},i=function(c){return c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},o=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var f="",h=0;h<c.length;h+=2)f+=String.fromCharCode("0x"+(c[h]+c[h+1]));return f},s=function(c){for(var d=new Uint8Array(c.length),f=c.length;f--;)d[f]=c.charCodeAt(f);return(d=Rg(d)).reduce(function(h,g){return h+String.fromCharCode(g)},"")};t.processDataByFilters=function(c,d){var f=0,h=c||"",g=[];for(typeof(d=d||[])=="string"&&(d=[d]),f=0;f<d.length;f+=1)switch(d[f]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=o(h),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=i(h),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[f]+'" is not implemented')}return{data:h,reverseChain:g.reverse().join(" ")}}}(ct.API),function(t){t.loadFile=function(e,r,i){return function(o,s,c){s=s!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=function(f,h,g){var w=new XMLHttpRequest,S=0,b=function(j){var C=j.length,N=[],E=String.fromCharCode;for(S=0;S<C;S+=1)N.push(E(255&j.charCodeAt(S)));return N.join("")};if(w.open("GET",f,!h),w.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(w.onload=function(){w.status===200?g(b(this.responseText)):g(void 0)}),w.send(null),h&&w.status===200)return b(w.responseText)}(o,s,c)}catch{}return d}(e,r,i)},t.loadImageFile=t.loadFile}(ct.API),function(t){function e(){return(Ot.html2canvas?Promise.resolve(Ot.html2canvas):Il(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function r(){return(Ot.DOMPurify?Promise.resolve(Ot.DOMPurify):Il(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var i=function(d){var f=_r(d);return f==="undefined"?"undefined":f==="string"||d instanceof String?"string":f==="number"||d instanceof Number?"number":f==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":f==="object"?"object":"unknown"},o=function(d,f){var h=document.createElement(d);for(var g in f.className&&(h.className=f.className),f.innerHTML&&f.dompurify&&(h.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)h.style[g]=f.style[g];return h},s=function d(f,h){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)h!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||g.appendChild(d(w,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g},c=function d(f){var h=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),g=d.convert(Promise.resolve(),h);return(g=g.setProgress(1,d,1,[d])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,f){return d.__proto__=f||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,f){return this.then(function(){switch(f=f||function(h){switch(i(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d),f){case"string":return this.then(r).then(function(h){return this.set({src:o("div",{innerHTML:d,dompurify:h})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(f){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,f(this.prop.container,h)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(f){var h=this.opt.jsPDF,g=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=g,g)for(var b=0;b<g.length;++b){var j=g[b],C=j.src.find(function(N){return N.format==="truetype"});C&&h.addFont(C.url,j.ref.name,j.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,h.context2d.save(!0),f(this.prop.container,S)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,f,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(d,f):this.outputPdf(d,f)},c.prototype.outputPdf=function(d,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,f)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(i(d)!=="object")return this;var f=Object.keys(d||{}).map(function(h){if(h in c.template.prop)return function(){this.prop[h]=d[h]};switch(h){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[h]=d[h]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(d,f){return this.then(function(){var h=d in c.template.prop?this.prop[d]:this.opt[d];return f?f(h):h})},c.prototype.setMargin=function(d){return this.then(function(){switch(i(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function f(h,g){return Math.floor(h*g/72*96)}return this.then(function(){(d=d||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:f(d.inner.width,d.k),height:f(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,f,h,g){return d!=null&&(this.progress.val=d),f!=null&&(this.progress.state=f),h!=null&&(this.progress.n=h),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,f,h,g){return this.setProgress(d?this.progress.val+d:null,f||null,h?this.progress.n+h:null,g?this.progress.stack.concat(g):null)},c.prototype.then=function(d,f){var h=this;return this.thenCore(d,f,function(g,w){return h.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(S){return h.updateProgress(null,g),S}).then(g,w).then(function(S){return h.updateProgress(1),S})})},c.prototype.thenCore=function(d,f,h){h=h||Promise.prototype.then;var g=this;d&&(d=d.bind(g)),f&&(f=f.bind(g));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:c.convert(Object.assign({},g),Promise.prototype),S=h.call(w,d,f);return c.convert(S,g.__proto__)},c.prototype.thenExternal=function(d,f){return Promise.prototype.then.call(this,d,f)},c.prototype.thenList=function(d){var f=this;return d.forEach(function(h){f=f.thenCore(h)}),f},c.prototype.catch=function(d){d&&(d=d.bind(this));var f=Promise.prototype.catch.call(this,d);return c.convert(f,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,ct.getPageSize=function(d,f,h){if(_r(d)==="object"){var g=d;d=g.orientation,f=g.unit||f,h=g.format||h}f=f||"mm",h=h||"a4",d=(""+(d||"P")).toLowerCase();var w,S=(""+h).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var j,C=0,N=0;if(b.hasOwnProperty(S))C=b[S][1]/w,N=b[S][0]/w;else try{C=h[1],N=h[0]}catch{throw new Error("Invalid format: "+h)}if(d==="p"||d==="portrait")d="p",N>C&&(j=N,N=C,C=j);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",C>N&&(j=N,N=C,C=j)}return{width:N,height:C,unit:f,k:w,orientation:d}},t.html=function(d,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(J1):null;var h=new c(f);return f.worker?h:h.from(d).doCallback()}}(ct.API),ct.API.addJS=function(t){return Hb=t,this.internal.events.subscribe("postPutResources",function(){n0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(n0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Hb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){n0!==void 0&&qb!==void 0&&this.internal.out("/Names <</JavaScript "+n0+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=r.outline.render().split(/\r\n/),s=0;s<o.length;s++){var c=o[s],d=i.exec(c);if(d!=null){var f=d[1];r.internal.newObjectDeferredBegin(f,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,g=[];for(s=0;s<h;s++){var w=r.internal.newObject();g.push(w);var S=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var b=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<g.length;s++)r.internal.write("(page_"+(s+1)+")"+g[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+b+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(i,o,s){var c={title:o,options:s,children:[]};return i==null&&(i=this.root),i.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(i){i.id=r.internal.newObjectDeferred();for(var o=0;o<i.children.length;o++)this.genIds_r(i.children[o])},r.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},r.outline.renderItems=function(i){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var c=i.children[s];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var f=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var h=0;h<i.children.length;h++)this.renderItems(i.children[h])},r.outline.line=function(i){this.ctx.val+=i+`\r
`},r.outline.makeRef=function(i){return i.id+" 0 R"},r.outline.makeString=function(i){return"("+r.internal.pdfEscape(i)+")"},r.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(i,o){for(var s=0;s<o.children.length;s++)i.count++,this.count_r(i,o.children[s]);return i.count}}])}(ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,i,o,s,c,d){var f,h=this.decode.DCT_DECODE,g=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,f=function(w){for(var S,b=256*w.charCodeAt(4)+w.charCodeAt(5),j=w.length,C={width:0,height:0,numcomponents:1},N=4;N<j;N+=2){if(N+=b,e.indexOf(w.charCodeAt(N+1))!==-1){S=256*w.charCodeAt(N+5)+w.charCodeAt(N+6),C={width:256*w.charCodeAt(N+7)+w.charCodeAt(N+8),height:S,numcomponents:w.charCodeAt(N+9)};break}b=256*w.charCodeAt(N+2)+w.charCodeAt(N+3)}return C}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),f.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}g={data:r,width:f.width,height:f.height,colorSpace:d,bitsPerComponent:8,filter:h,index:i,alias:o}}return g}}(ct.API),ct.API.processPNG=function(t,e,r,i){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var o,s=bk(t,{checkCrc:!0}),c=s.width,d=s.height,f=s.channels,h=s.palette,g=s.depth;o=h&&f===1?function(se){for(var U=se.width,te=se.height,M=se.data,W=se.palette,oe=se.depth,ae=!1,be=[],ne=[],he=void 0,ce=!1,je=0,O=0;O<W.length;O++){var ie=Vv(W[O],4),L=ie[0],H=ie[1],Y=ie[2],$=ie[3];be.push(L,H,Y),$!=null&&($===0?(je++,ne.length<1&&ne.push(O)):$<255&&(ce=!0))}if(ce||je>1){ae=!0,ne=void 0;var re=U*te;he=new Uint8Array(re);for(var ve=new DataView(M.buffer),xe=0;xe<re;xe++){var Ae=eg(ve,xe,oe),Pe=Vv(W[Ae],4)[3];he[xe]=Pe}}else je===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ae?8:void 0,colorBytes:M,alphaBytes:he,needSMask:ae,palette:be,mask:ne}}(s):f===2||f===4?function(se){for(var U=se.data,te=se.width,M=se.height,W=se.channels,oe=se.depth,ae=W===2?"DeviceGray":"DeviceRGB",be=W-1,ne=te*M,he=be,ce=ne*he,je=1*ne,O=Math.ceil(ce*oe/8),ie=Math.ceil(je*oe/8),L=new Uint8Array(O),H=new Uint8Array(ie),Y=new DataView(U.buffer),$=new DataView(L.buffer),re=new DataView(H.buffer),ve=!1,xe=0;xe<ne;xe++){for(var Ae=xe*W,Pe=0;Pe<he;Pe++)Jb($,eg(Y,Ae+Pe,oe),xe*he+Pe,oe);var qe=eg(Y,Ae+he,oe);qe<(1<<oe)-1&&(ve=!0),Jb(re,qe,1*xe,oe)}return{colorSpace:ae,colorsPerPixel:be,sMaskBitsPerComponent:ve?oe:void 0,colorBytes:L,alphaBytes:H,needSMask:ve}}(s):function(se){var U=se.data,te=se.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:te,colorsPerPixel:te==="DeviceGray"?1:3,colorBytes:U instanceof Uint16Array?function(M){for(var W=M.length,oe=new Uint8Array(2*W),ae=new DataView(oe.buffer,oe.byteOffset,oe.byteLength),be=0;be<W;be++)ae.setUint16(2*be,M[be],!1);return oe}(U):U,needSMask:!1}}(s);var w,S,b,j=o,C=j.colorSpace,N=j.colorsPerPixel,E=j.sMaskBitsPerComponent,R=j.colorBytes,B=j.alphaBytes,z=j.needSMask,Q=j.palette,ue=j.mask,J=null;return i!==ct.API.image_compression.NONE&&typeof Rg=="function"?(J=function(se){var U;switch(se){case ct.API.image_compression.FAST:U=11;break;case ct.API.image_compression.MEDIUM:U=13;break;case ct.API.image_compression.SLOW:U=14;break;default:U=12}return U}(i),w=this.decode.FLATE_DECODE,S="/Predictor ".concat(J," /Colors ").concat(N," /BitsPerComponent ").concat(g," /Columns ").concat(c),t=Vb(R,Math.ceil(c*N*g/8),N,g,i),z&&(b=Vb(B,Math.ceil(c*E/8),1,E,i))):(w=void 0,S=void 0,t=R,z&&(b=B)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:r,data:t,index:e,filter:w,decodeParameters:S,transparency:ue,palette:Q,sMask:b,predictor:J,width:c,height:d,bitsPerComponent:g,sMaskBitsPerComponent:E,colorSpace:C}}},function(t){t.processGIF89A=function(e,r,i,o){var s=new Ik(e),c=s.width,d=s.height,f=[];s.decodeAndBlitFrameRGBA(0,f);var h={data:f,width:c,height:d},g=new tg(100).encode(h,100);return t.processJPEG.call(this,g,r,i,o)},t.processGIF87A=t.processGIF89A}(ct.API),ho.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:i,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ho.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Pr.log("bit decode error:"+r)}},ho.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,o=0;o<e;o++)for(var s=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+8*o*4,d=0;d<8&&8*o+d<this.width;d++){var f=this.palette[s>>7-d&1];this.data[c+4*d]=f.blue,this.data[c+4*d+1]=f.green,this.data[c+4*d+2]=f.red,this.data[c+4*d+3]=255}r!==0&&(this.pos+=4-r)}},ho.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<t;o++){var s=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+2*o*4,d=s>>4,f=15&s,h=this.palette[d];if(this.data[c]=h.blue,this.data[c+1]=h.green,this.data[c+2]=h.red,this.data[c+3]=255,2*o+1>=this.width)break;h=this.palette[f],this.data[c+4]=h.blue,this.data[c+4+1]=h.green,this.data[c+4+2]=h.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},ho.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*i;if(o<this.palette.length){var c=this.palette[o];this.data[s]=c.red,this.data[s+1]=c.green,this.data[s+2]=c.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ho.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(s&e)/e*255|0,d=(s>>5&e)/e*255|0,f=(s>>10&e)/e*255|0,h=s>>15?255:0,g=i*this.width*4+4*o;this.data[g]=f,this.data[g+1]=d,this.data[g+2]=c,this.data[g+3]=h}this.pos+=t}},ho.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&e)/e*255|0,f=(c>>5&r)/r*255|0,h=(c>>11)/e*255|0,g=o*this.width*4+4*s;this.data[g]=h,this.data[g+1]=f,this.data[g+2]=d,this.data[g+3]=255}this.pos+=t}},ho.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=s,this.data[c+1]=o,this.data[c+2]=i,this.data[c+3]=255}this.pos+=this.width%4}},ho.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*r;this.data[d]=s,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=c}},ho.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,i,o){var s=new ho(e,!1),c=s.width,d=s.height,f={data:s.getData(),width:c,height:d},h=new tg(100).encode(f,100);return t.processJPEG.call(this,h,r,i,o)}}(ct.API),ey.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,i,o){var s=new ey(e),c=s.width,d=s.height,f={data:s.getData(),width:c,height:d},h=new tg(100).encode(f,100);return t.processJPEG.call(this,h,r,i,o)}}(ct.API),ct.API.processRGBA=function(t,e,r){for(var i=t.data,o=i.length,s=new Uint8Array(o/4*3),c=new Uint8Array(o/4),d=0,f=0,h=0;h<o;h+=4){var g=i[h],w=i[h+1],S=i[h+2],b=i[h+3];s[d++]=g,s[d++]=w,s[d++]=S,c[f++]=b}var j=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:j,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Hu=ct.API,i0=Hu.getCharWidthsArray=function(t,e){var r,i,o=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:o.metadata.Unicode.widths,f=d.fof?d.fof:1,h=e.kerning?e.kerning:o.metadata.Unicode.kerning,g=h.fof?h.fof:1,w=e.doKerning!==!1,S=0,b=t.length,j=0,C=d[0]||f,N=[];for(r=0;r<b;r++)i=t.charCodeAt(r),typeof o.metadata.widthOfString=="function"?N.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+c*(1e3/s)||0)/1e3):(S=w&&_r(h[i])==="object"&&!isNaN(parseInt(h[i][j],10))?h[i][j]/g:0,N.push((d[i]||C)/f+S)),j=i;return N},$b=Hu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return Hu.processArabic&&(t=Hu.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,r,o)/r:i0.apply(this,arguments).reduce(function(s,c){return s+c},0)},Wb=function(t,e,r,i){for(var o=[],s=0,c=t.length,d=0;s!==c&&d+e[s]<r;)d+=e[s],s++;o.push(t.slice(0,s));var f=s;for(d=0;s!==c;)d+e[s]>i&&(o.push(t.slice(f,s)),d=0,f=s),d+=e[s],s++;return f!==s&&o.push(t.slice(f,s)),o},Gb=function(t,e,r){r||(r={});var i,o,s,c,d,f,h,g=[],w=[g],S=r.textIndent||0,b=0,j=0,C=t.split(" "),N=i0.apply(this,[" ",r])[0];if(f=r.lineIndent===-1?C[0].length+2:r.lineIndent||0){var E=Array(f).join(" "),R=[];C.map(function(z){(z=z.split(/\s*\n/)).length>1?R=R.concat(z.map(function(Q,ue){return(ue&&Q.length?`
`:"")+Q})):R.push(z[0])}),C=R,f=$b.apply(this,[E,r])}for(s=0,c=C.length;s<c;s++){var B=0;if(i=C[s],f&&i[0]==`
`&&(i=i.substr(1),B=1),S+b+(j=(o=i0.apply(this,[i,r])).reduce(function(z,Q){return z+Q},0))>e||B){if(j>e){for(d=Wb.apply(this,[i,o,e-(S+b),e]),g.push(d.shift()),g=[d.pop()];d.length;)w.push([d.shift()]);j=o.slice(i.length-(g[0]?g[0].length:0)).reduce(function(z,Q){return z+Q},0)}else g=[i];w.push(g),S=j+f,b=N}else g.push(i),S+=b+j,b=N}return h=f?function(z,Q){return(Q?E:"")+z.join(" ")}:function(z){return z.join(" ")},w.map(h)},Hu.splitTextToSize=function(t,e,r){var i,o=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var w=this.internal.getFont(g.fontName,g.fontStyle),S="Unicode";return w.metadata[S]?{widths:w.metadata[S].widths||{0:1},kerning:w.metadata[S].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/o;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/o:0,s.lineIndent=r.lineIndent;var d,f,h=[];for(d=0,f=i.length;d<f;d++)h=h.concat(Gb.apply(this,[i[d],c,s]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",i={},o={},s=0;s<16;s++)i[r[s]]=e[s],o[e[s]]=r[s];var c=function(S){return"0x"+parseInt(S,10).toString(16)},d=t.__fontmetrics__.compress=function(S){var b,j,C,N,E=["{"];for(var R in S){if(b=S[R],isNaN(parseInt(R,10))?j="'"+R+"'":(R=parseInt(R,10),j=(j=c(R).slice(2)).slice(0,-1)+o[j.slice(-1)]),typeof b=="number")b<0?(C=c(b).slice(3),N="-"):(C=c(b).slice(2),N=""),C=N+C.slice(0,-1)+o[C.slice(-1)];else{if(_r(b)!=="object")throw new Error("Don't know what to do with value type "+_r(b)+".");C=d(b)}E.push(j+C)}return E.push("}"),E.join("")},f=t.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,j,C,N,E={},R=1,B=E,z=[],Q="",ue="",J=S.length-1,se=1;se<J;se+=1)(N=S[se])=="'"?b?(C=b.join(""),b=void 0):b=[]:b?b.push(N):N=="{"?(z.push([B,C]),B={},C=void 0):N=="}"?((j=z.pop())[0][j[1]]=B,C=void 0,B=j[0]):N=="-"?R=-1:C===void 0?i.hasOwnProperty(N)?(Q+=i[N],C=parseInt(Q,16)*R,R=1,Q=""):Q+=N:i.hasOwnProperty(N)?(ue+=i[N],B[C]=parseInt(ue,16)*R,R=1,C=void 0,ue=""):ue+=N;return E},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(S){var b=S.font,j=w.Unicode[b.postScriptName];j&&(b.metadata.Unicode={},b.metadata.Unicode.widths=j.widths,b.metadata.Unicode.kerning=j.kerning);var C=g.Unicode[b.postScriptName];C&&(b.metadata.Unicode.encoding=C,b.encoding=C.codePages[0])}])}(ct.API),function(t){var e=function(r){for(var i=r.length,o=new Uint8Array(i),s=0;s<i;s++)o[s]=r.charCodeAt(s);return o};t.API.events.push(["addFont",function(r){var i=void 0,o=r.font,s=r.instance;if(!o.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(i=s.existsFileInVFS(o.postScriptName)===!1?s.loadFile(o.postScriptName):s.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(v0(d)),c.metadata=t.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(o,i)}}])}(ct),ct.API.addSvgAsImage=function(t,e,r,i,o,s,c,d){if(isNaN(e)||isNaN(r))throw Pr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Pr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=o;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(Ot.canvg?Promise.resolve(Ot.canvg):Il(()=>import("./index.es-Bb3qifj1.js"),[])).catch(function(S){return Promise.reject(new Error("Could not load canvg: "+S))}).then(function(S){return S.default?S.default:S}).then(function(S){return S.fromString(h,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,r,i,o,c,d)})},ct.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var o=0;o<this.internal.pages[i].length;o++)this.internal.pages[i][o]=this.internal.pages[i][o].replace(e,r);return this},ct.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var i,o,s,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),f=[],h=0,g=0,w=0;function S(j,C){var N,E=!1;for(N=0;N<j.length;N+=1)j[N]===C&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var b=d.length;for(w=0;w<b;w+=1)r[d[w]].value=r[d[w]].defaultValue,r[d[w]].explicitSet=!1}if(_r(t)==="object"){for(o in t)if(s=t[o],S(d,o)&&s!==void 0){if(r[o].type==="boolean"&&typeof s=="boolean")r[o].value=s;else if(r[o].type==="name"&&S(r[o].valueSet,s))r[o].value=s;else if(r[o].type==="integer"&&Number.isInteger(s))r[o].value=s;else if(r[o].type==="array"){for(h=0;h<s.length;h+=1)if(i=!0,s[h].length===1&&typeof s[h][0]=="number")f.push(String(s[h]-1));else if(s[h].length>1){for(g=0;g<s[h].length;g+=1)typeof s[h][g]!="number"&&(i=!1);i===!0&&f.push([s[h][0]-1,s[h][1]-1].join(" "))}r[o].value="["+f.join(" ")+"]"}else r[o].value=r[o].defaultValue;r[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,C=[];for(j in r)r[j].explicitSet===!0&&(r[j].type==="name"?C.push("/"+j+" /"+r[j].value):C.push("/"+j+" "+r[j].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+c.length+d.length+o.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(o+s+c+d+f),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(ct.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,c){for(var d,f=c.metadata.Unicode.widths,h=["","0","00","000","0000"],g=[""],w=0,S=s.length;w<S;++w){if(d=c.metadata.characterToGlyph(s.charCodeAt(w)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=s.charCodeAt(w),f.indexOf(d)==-1&&(f.push(d),f.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return g.join("");d=d.toString(16),g.push(h[4-d.length],d)}return g.join("")},i=function(s){var c,d,f,h,g,w,S;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,S=(d=Object.keys(s).sort(function(b,j){return b-j})).length;w<S;w++)c=d[w],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),s[c]!==void 0&&s[c]!==null&&typeof s[c].toString=="function"&&(h=("0000"+s[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+h+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(c){var d=c.font,f=c.out,h=c.newObject,g=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="Identity-H"){for(var w=d.metadata.Unicode.widths,S=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),b="",j=0;j<S.length;j++)b+=String.fromCharCode(S[j]);var C=h();g({data:b,addLength1:!0,objectId:C}),f("endobj");var N=h();g({data:i(d.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var E=h();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Vu(d.fontName)),f("/FontFile2 "+C+" 0 R"),f("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),f("/Flags "+d.metadata.flags),f("/StemV "+d.metadata.stemV),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f(">>"),f("endobj");var R=h();f("<<"),f("/Type /Font"),f("/BaseFont /"+Vu(d.fontName)),f("/FontDescriptor "+E+" 0 R"),f("/W "+t.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+d.encoding+")"),f(">>"),f(">>"),f("endobj"),d.objectNumber=h(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+N+" 0 R"),f("/BaseFont /"+Vu(d.fontName)),f("/Encoding /"+d.encoding),f("/DescendantFonts ["+R+" 0 R]"),f(">>"),f("endobj"),d.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(c){var d=c.font,f=c.out,h=c.newObject,g=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var w=d.metadata.rawData,S="",b=0;b<w.length;b++)S+=String.fromCharCode(w[b]);var j=h();g({data:S,addLength1:!0,objectId:j}),f("endobj");var C=h();g({data:i(d.metadata.toUnicode),addLength1:!0,objectId:C}),f("endobj");var N=h();f("<<"),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f("/StemV "+d.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+j+" 0 R"),f("/Flags 96"),f("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),f("/FontName /"+Vu(d.fontName)),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f(">>"),f("endobj"),d.objectNumber=h();for(var E=0;E<d.metadata.hmtx.widths.length;E++)d.metadata.hmtx.widths[E]=parseInt(d.metadata.hmtx.widths[E]*(1e3/d.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+Vu(d.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),f("endobj"),d.isAlreadyPutted=!0}})(s)}]);var o=function(s){var c,d=s.text||"",f=s.x,h=s.y,g=s.options||{},w=s.mutex||{},S=w.pdfEscape,b=w.activeFontKey,j=w.fonts,C=b,N="",E=0,R="",B=j[C].encoding;if(j[C].encoding!=="Identity-H")return{text:d,x:f,y:h,options:g,mutex:w};for(R=d,C=b,Array.isArray(d)&&(R=d[0]),E=0;E<R.length;E+=1)j[C].metadata.hasOwnProperty("cmap")&&(c=j[C].metadata.cmap.unicode.codeMap[R[E].charCodeAt(0)]),c||R[E].charCodeAt(0)<256&&j[C].metadata.hasOwnProperty("Unicode")?N+=R[E]:N+="";var z="";return parseInt(C.slice(1))<14||B==="WinAnsiEncoding"?z=S(N,C).split("").map(function(Q){return Q.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(z=r(N,j[C])),w.isHex=!0,{text:z,x:f,y:h,options:g,mutex:w}};e.events.push(["postProcessText",function(s){var c=s.text||"",d=[],f={text:c,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(c)){var h=0;for(h=0;h<c.length;h+=1)Array.isArray(c[h])&&c[h].length===3?d.push([o(Object.assign({},f,{text:c[h][0]})).text,c[h][1],c[h][2]]):d.push(o(Object.assign({},f,{text:c[h]})).text);s.text=d}else s.text=o(Object.assign({},f,{text:c})).text}])}(ct),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,i){return e.call(this),this.internal.vFS[r]=i,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var o,s,c,d,f,h,g,w=e,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,B=0;this.__bidiEngine__={};var z=function(M){var W=M.charCodeAt(),oe=W>>8,ae=C[oe];return ae!==void 0?w[256*ae+(255&W)]:oe===252||oe===253?"AL":E.test(oe)?"L":oe===8?"R":"N"},Q=function(M){for(var W,oe=0;oe<M.length;oe++){if((W=z(M.charAt(oe)))==="L")return!1;if(W==="R")return!0}return!1},ue=function(M,W,oe,ae){var be,ne,he,ce,je=W[ae];switch(je){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(je="AN");break;case"AL":R=!0,je="R";break;case"WS":case"BN":je="N";break;case"CS":ae<1||ae+1>=W.length||(be=oe[ae-1])!=="EN"&&be!=="AN"||(ne=W[ae+1])!=="EN"&&ne!=="AN"?je="N":R&&(ne="AN"),je=ne===be?ne:"N";break;case"ES":je=(be=ae>0?oe[ae-1]:"B")==="EN"&&ae+1<W.length&&W[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&oe[ae-1]==="EN"){je="EN";break}if(R){je="N";break}for(he=ae+1,ce=W.length;he<ce&&W[he]==="ET";)he++;je=he<ce&&W[he]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(ce=W.length,he=ae+1;he<ce&&W[he]==="NSM";)he++;if(he<ce){var O=M[ae],ie=O>=1425&&O<=2303||O===64286;if(be=W[he],ie&&(be==="R"||be==="AL")){je="R";break}}}je=ae<1||(be=W[ae-1])==="B"?"N":oe[ae-1];break;case"B":R=!1,o=!0,je=B;break;case"S":s=!0,je="N"}return je},J=function(M,W,oe){var ae=M.split("");return oe&&se(ae,oe,{hiLevel:B}),ae.reverse(),W&&W.reverse(),ae.join("")},se=function(M,W,oe){var ae,be,ne,he,ce,je=-1,O=M.length,ie=0,L=[],H=B?b:S,Y=[];for(R=!1,o=!1,s=!1,be=0;be<O;be++)Y[be]=z(M[be]);for(ne=0;ne<O;ne++){if(ce=ie,L[ne]=ue(M,Y,L,ne),ae=240&(ie=H[ce][j[L[ne]]]),ie&=15,W[ne]=he=H[ie][5],ae>0)if(ae===16){for(be=je;be<ne;be++)W[be]=1;je=-1}else je=-1;if(H[ie][6])je===-1&&(je=ne);else if(je>-1){for(be=je;be<ne;be++)W[be]=he;je=-1}Y[ne]==="B"&&(W[ne]=0),oe.hiLevel|=he}s&&function($,re,ve){for(var xe=0;xe<ve;xe++)if($[xe]==="S"){re[xe]=B;for(var Ae=xe-1;Ae>=0&&$[Ae]==="WS";Ae--)re[Ae]=B}}(Y,W,O)},U=function(M,W,oe,ae,be){if(!(be.hiLevel<M)){if(M===1&&B===1&&!o)return W.reverse(),void(oe&&oe.reverse());for(var ne,he,ce,je,O=W.length,ie=0;ie<O;){if(ae[ie]>=M){for(ce=ie+1;ce<O&&ae[ce]>=M;)ce++;for(je=ie,he=ce-1;je<he;je++,he--)ne=W[je],W[je]=W[he],W[he]=ne,oe&&(ne=oe[je],oe[je]=oe[he],oe[he]=ne);ie=ce}ie++}}},te=function(M,W,oe){var ae=M.split(""),be={hiLevel:B};return oe||(oe=[]),se(ae,oe,be),function(ne,he,ce){if(ce.hiLevel!==0&&g)for(var je,O=0;O<ne.length;O++)he[O]===1&&(je=N.indexOf(ne[O]))>=0&&(ne[O]=N[je+1])}(ae,oe,be),U(2,ae,W,oe,be),U(1,ae,W,oe,be),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(M,W,oe){if(function(be,ne){if(ne)for(var he=0;he<be.length;he++)ne[he]=he;d===void 0&&(d=Q(be)),h===void 0&&(h=Q(be))}(M,W),c||!f||h)if(c&&f&&d^h)B=d?1:0,M=J(M,W,oe);else if(!c&&f&&h)B=d?1:0,M=te(M,W,oe),M=J(M,W);else if(!c||d||f||h){if(c&&!f&&d^h)M=J(M,W),d?(B=0,M=te(M,W,oe)):(B=1,M=te(M,W,oe),M=J(M,W));else if(c&&d&&!f&&h)B=1,M=te(M,W,oe),M=J(M,W);else if(!c&&!f&&d^h){var ae=g;d?(B=1,M=te(M,W,oe),B=0,g=!1,M=te(M,W,oe),g=ae):(B=0,M=te(M,W,oe),M=J(M,W),B=1,g=!1,M=te(M,W,oe),g=ae,M=J(M,W))}}else B=0,M=te(M,W,oe);else B=d?1:0,M=te(M,W,oe);return M},this.__bidiEngine__.setOptions=function(M){M&&(c=M.isInputVisual,f=M.isOutputVisual,d=M.isInputRtl,h=M.isOutputRtl,g=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var o=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var c=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(o)==="[object Array]"){var d=0;for(c=[],d=0;d<o.length;d+=1)Object.prototype.toString.call(o[d])==="[object Array]"?c.push([r.doBidiReorder(o[d][0]),o[d][1],o[d][2]]):c.push([r.doBidiReorder(o[d])]);i.text=c}else i.text=r.doBidiReorder(o);r.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ql(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new eE(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Uk(this.contents),this.head=new qk(this),this.name=new Vk(this),this.cmap=new Tw(this),this.toUnicode={},this.hhea=new Hk(this),this.maxp=new Yk(this),this.hmtx=new Kk(this),this.post=new Wk(this),this.os2=new $k(this),this.loca=new Qk(this),this.glyf=new Xk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,i,o,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,f,h;for(h=[],c=0,d=(f=this.bbox).length;c<d;c++)e=f[c],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(i=255&(o=this.post.italic_angle),32768&(r=o>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,i){var o,s,c,d;for(c=0,s=0,d=(e=""+e).length;0<=d?s<d:s>d;s=0<=d?++s:--s)o=e.charCodeAt(s),c+=this.widthOfGlyph(this.characterToGlyph(o))+i*(1e3/r)||0;return c*(r/1e3)},t.prototype.lineHeight=function(e,r){var i;return r==null&&(r=!1),i=r?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t}();var wo,ql=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,i;for(i=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)i[r]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var r,i,o;for(o=[],r=0,i=e.length;0<=i?r<i:r>i;r=0<=i?++r:--r)o.push(this.writeByte(e.charCodeAt(r)));return o},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,i,o,s,c,d,f;return e=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),c=this.readByte(),d=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^i)+4294967296*(255^o)+16777216*(255^s)+65536*(255^c)+256*(255^d)+(255^f)+1):72057594037927940*e+281474976710656*r+1099511627776*i+4294967296*o+16777216*s+65536*c+256*d+f},t.prototype.writeLongLong=function(e){var r,i;return r=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,i;for(r=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)r.push(this.readByte());return r},t.prototype.write=function(e){var r,i,o,s;for(s=[],i=0,o=e.length;i<o;i++)r=e[i],s.push(this.writeByte(r));return s},t}(),Uk=function(){var t;function e(r){var i,o,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},o=0,s=this.tableCount;0<=s?o<s:o>s;o=0<=s?++o:--o)i={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(r){var i,o,s,c,d,f,h,g,w,S,b,j,C;for(C in b=Object.keys(r).length,f=Math.log(2),w=16*Math.floor(Math.log(b)/f),c=Math.floor(w/f),g=16*b-w,(o=new ql).writeInt(this.scalarType),o.writeShort(b),o.writeShort(w),o.writeShort(c),o.writeShort(g),s=16*b,h=o.pos+s,d=null,j=[],r)for(S=r[C],o.writeString(C),o.writeInt(t(S)),o.writeInt(h),o.writeInt(S.length),j=j.concat(S),C==="head"&&(d=h),h+=S.length;h%4;)j.push(0),h++;return o.write(j),i=2981146554-t(o.data),o.pos=d+8,o.writeUInt32(i),o.data},t=function(r){var i,o,s,c;for(r=Ow.call(r);r.length%4;)r.push(0);for(s=new ql(r),o=0,i=0,c=r.length;i<c;i=i+=4)o+=s.readUInt32();return 4294967295&o},e}(),Fk={}.hasOwnProperty,ts=function(t,e){for(var r in e)Fk.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};wo=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var qk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,wo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new ql).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),ty=function(){function t(e,r){var i,o,s,c,d,f,h,g,w,S,b,j,C,N,E,R,B;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),S=b/2,e.pos+=6,s=function(){var z,Q;for(Q=[],f=z=0;0<=S?z<S:z>S;f=0<=S?++z:--z)Q.push(e.readUInt16());return Q}(),e.pos+=2,C=function(){var z,Q;for(Q=[],f=z=0;0<=S?z<S:z>S;f=0<=S?++z:--z)Q.push(e.readUInt16());return Q}(),h=function(){var z,Q;for(Q=[],f=z=0;0<=S?z<S:z>S;f=0<=S?++z:--z)Q.push(e.readUInt16());return Q}(),g=function(){var z,Q;for(Q=[],f=z=0;0<=S?z<S:z>S;f=0<=S?++z:--z)Q.push(e.readUInt16());return Q}(),o=(this.length-e.pos+this.offset)/2,d=function(){var z,Q;for(Q=[],f=z=0;0<=o?z<o:z>o;f=0<=o?++z:--z)Q.push(e.readUInt16());return Q}(),f=E=0,B=s.length;E<B;f=++E)for(N=s[f],i=R=j=C[f];j<=N?R<=N:R>=N;i=j<=N?++R:--R)g[f]===0?c=i+h[f]:(c=d[g[f]/2+(i-j)-(S-f)]||0)!==0&&(c+=h[f]),this.codeMap[i]=65535&c}e.pos=w}return t.encode=function(e,r){var i,o,s,c,d,f,h,g,w,S,b,j,C,N,E,R,B,z,Q,ue,J,se,U,te,M,W,oe,ae,be,ne,he,ce,je,O,ie,L,H,Y,$,re,ve,xe,Ae,Pe,qe,Ge;switch(ae=new ql,c=Object.keys(e).sort(function(Ke,Re){return Ke-Re}),r){case"macroman":for(C=0,N=function(){var Ke=[];for(j=0;j<256;++j)Ke.push(0);return Ke}(),R={0:0},s={},be=0,je=c.length;be<je;be++)R[Ae=e[o=c[be]]]==null&&(R[Ae]=++C),s[o]={old:e[o],new:R[e[o]]},N[o]=R[e[o]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(N),{charMap:s,subtable:ae.data,maxGlyphID:C+1};case"unicode":for(W=[],w=[],B=0,R={},i={},E=h=null,ne=0,O=c.length;ne<O;ne++)R[Q=e[o=c[ne]]]==null&&(R[Q]=++B),i[o]={old:Q,new:R[Q]},d=R[Q]-o,E!=null&&d===h||(E&&w.push(E),W.push(o),h=d),E=o;for(E&&w.push(E),w.push(65535),W.push(65535),te=2*(U=W.length),se=2*Math.pow(Math.log(U)/Math.LN2,2),S=Math.log(se/2)/Math.LN2,J=2*U-se,f=[],ue=[],b=[],j=he=0,ie=W.length;he<ie;j=++he){if(M=W[j],g=w[j],M===65535){f.push(0),ue.push(0);break}if(M-(oe=i[M].new)>=32768)for(f.push(0),ue.push(2*(b.length+U-j)),o=ce=M;M<=g?ce<=g:ce>=g;o=M<=g?++ce:--ce)b.push(i[o].new);else f.push(oe-M),ue.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*U+2*b.length),ae.writeUInt16(0),ae.writeUInt16(te),ae.writeUInt16(se),ae.writeUInt16(S),ae.writeUInt16(J),ve=0,L=w.length;ve<L;ve++)o=w[ve],ae.writeUInt16(o);for(ae.writeUInt16(0),xe=0,H=W.length;xe<H;xe++)o=W[xe],ae.writeUInt16(o);for(Pe=0,Y=f.length;Pe<Y;Pe++)d=f[Pe],ae.writeUInt16(d);for(qe=0,$=ue.length;qe<$;qe++)z=ue[qe],ae.writeUInt16(z);for(Ge=0,re=b.length;Ge<re;Ge++)C=b[Ge],ae.writeUInt16(C);return{charMap:i,subtable:ae.data,maxGlyphID:B+1}}},t}(),Tw=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,wo),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,i,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new ty(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var i,o;return r==null&&(r="macroman"),i=ty.encode(e,r),(o=new ql).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},t}(),Hk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,wo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),$k=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,wo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(e.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Wk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,wo),t.prototype.tag="post",t.prototype.parse=function(e){var r,i,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(i=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)r=e.readByte(),o.push(this.names.push(e.readString(r)));return o;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var c,d,f;for(f=[],s=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;s=0<=d?++c:--c)f.push(e.readUInt32());return f}).call(this)}},t}(),Gk=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Vk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,wo),t.prototype.tag="name",t.prototype.parse=function(e){var r,i,o,s,c,d,f,h,g,w,S;for(e.pos=this.offset,e.readShort(),r=e.readShort(),d=e.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(f={},s=g=0,w=i.length;g<w;s=++g)o=i[s],e.pos=o.offset,h=e.readString(o.length),c=new Gk(h,o),f[S=o.nameID]==null&&(f[S]=[]),f[o.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),Yk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,wo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Kk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,wo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,i,o,s,c,d,f;for(e.pos=this.offset,this.metrics=[],r=0,d=this.file.hhea.numberOfMetrics;0<=d?r<d:r>d;r=0<=d?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,g;for(g=[],r=h=0;0<=o?h<o:h>o;r=0<=o?++h:--h)g.push(e.readInt16());return g}(),this.widths=(function(){var h,g,w,S;for(S=[],h=0,g=(w=this.metrics).length;h<g;h++)s=w[h],S.push(s.advance);return S}).call(this),i=this.widths[this.widths.length-1],f=[],r=c=0;0<=o?c<o:c>o;r=0<=o?++c:--c)f.push(this.widths.push(i));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Ow=[].slice,Xk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,wo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,i,o,s,c,d,f,h,g,w;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(e),(o=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+i,c=(d=new ql(r.read(o))).readShort(),h=d.readShort(),w=d.readShort(),f=d.readShort(),g=d.readShort(),this.cache[e]=c===-1?new Jk(d,h,w,f,g):new Zk(d,c,h,w,f,g),this.cache[e]))},t.prototype.encode=function(e,r,i){var o,s,c,d,f;for(c=[],s=[],d=0,f=r.length;d<f;d++)o=e[r[d]],s.push(c.length),o&&(c=c.concat(o.encode(i)));return s.push(c.length),{table:c,offsets:s}},t}(),Zk=function(){function t(e,r,i,o,s,c){this.raw=e,this.numberOfContours=r,this.xMin=i,this.yMin=o,this.xMax=s,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Jk=function(){function t(e,r,i,o,s){var c,d;for(this.raw=e,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return t.prototype.encode=function(){var e,r,i;for(r=new ql(Ow.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Qk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ts(t,wo),t.prototype.tag="loca",t.prototype.parse=function(e){var r,i;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var i=new Uint32Array(this.offsets.length),o=0,s=0,c=0;c<i.length;++c)if(i[c]=o,s<r.length&&r[s]==c){++s,i[c]=o;var d=this.offsets[c],f=this.offsets[c+1]-d;f>0&&(o+=f)}for(var h=new Array(4*i.length),g=0;g<i.length;++g)h[4*g+3]=255&i[g],h[4*g+2]=(65280&i[g])>>8,h[4*g+1]=(16711680&i[g])>>16,h[4*g]=(4278190080&i[g])>>24;return h},t}(),eE=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,i,o,s;for(r in o=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[r],e[r]=o[i];return e},t.prototype.glyphsFor=function(e){var r,i,o,s,c,d,f;for(o={},c=0,d=e.length;c<d;c++)o[s=e[c]]=this.font.glyf.glyphFor(s);for(s in r=[],o)(i=o[s])!=null&&i.compound&&r.push.apply(r,i.glyphIDs);if(r.length>0)for(s in f=this.glyphsFor(r))i=f[s],o[s]=i;return o},t.prototype.encode=function(e,r){var i,o,s,c,d,f,h,g,w,S,b,j,C,N,E;for(o in i=Tw.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),b={0:0},E=i.charMap)b[(f=E[o]).old]=f.new;for(j in S=i.maxGlyphID,c)j in b||(b[j]=S++);return g=function(R){var B,z;for(B in z={},R)z[R[B]]=B;return z}(b),w=Object.keys(g).sort(function(R,B){return R-B}),C=function(){var R,B,z;for(z=[],R=0,B=w.length;R<B;R++)d=w[R],z.push(g[d]);return z}(),s=this.font.glyf.encode(c,C,b),h=this.font.loca.encode(s.offsets,C),N={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t}();ct.API.PDFObject=function(){var t;function e(){}return t=function(r,i){return(Array(i+1).join("0")+r).slice(-i)},e.convert=function(r){var i,o,s,c;if(Array.isArray(r))return"["+function(){var d,f,h;for(h=[],d=0,f=r.length;d<f;d++)i=r[d],h.push(e.convert(i));return h}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(o in s=["<<"],r)c=r[o],s.push("/"+o+" "+e.convert(c));return s.push(">>"),s.join(`
`)}return""+r},e}();function Rw(t,e,r,i,o){i=i||{};var s=1.15,c=o.internal.scaleFactor,d=o.internal.getFontSize()/c,f=o.getLineHeightFactor?o.getLineHeightFactor():s,h=d*f,g=/\r\n|\r|\n/g,w="",S=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(w=typeof t=="string"?t.split(g):t,S=w.length||1),r+=d*(2-s),i.valign==="middle"?r-=S/2*h:i.valign==="bottom"&&(r-=S*h),i.halign==="center"||i.halign==="right"){var b=d;if(i.halign==="center"&&(b*=.5),w&&S>=1){for(var j=0;j<w.length;j++)o.text(w[j],e-o.getStringUnitWidth(w[j])*b,r),r+=h;return o}e-=o.getStringUnitWidth(t)*b}return i.halign==="justify"?o.text(t,e,r,{maxWidth:i.maxWidth||100,align:"justify"}):o.text(t,e,r),o}var ry={},ad=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:ry=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var i,o,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),d=c.fontStyle,f=c.fontName;if(e.font&&(f=e.font),e.fontStyle){d=e.fontStyle;var h=this.getFontList()[f];h&&h.indexOf(d)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),d=h[0])}if(this.jsPDFDocument.setFont(f,d),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var g=t.unifyColor(e.fillColor);g&&(i=this.jsPDFDocument).setFillColor.apply(i,g),g=t.unifyColor(e.textColor),g&&(o=this.jsPDFDocument).setTextColor.apply(o,g),g=t.unifyColor(e.lineColor),g&&(s=this.jsPDFDocument).setDrawColor.apply(s,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,i){return this.jsPDFDocument.splitTextToSize(e,r,i)},t.prototype.rect=function(e,r,i,o,s){return this.jsPDFDocument.rect(e,r,i,o,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return ry||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Fg=function(t,e){return Fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},Fg(t,e)};function Pw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Dw=function(t){Pw(e,t);function e(r){var i=t.call(this)||this;return i._element=r,i}return e}(Array);function tE(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function rE(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function F0(t,e,r){r.applyStyles(e,!0);var i=Array.isArray(t)?t:[t],o=i.map(function(s){return r.getTextWidth(s)}).reduce(function(s,c){return Math.max(s,c)},0);return o}function zw(t,e,r,i){var o=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:o,lineColor:s});var c=Mw(o,!1);c&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),i.y-r.y,c)}function Mw(t,e){var r=t>0,i=e||e===0;return r&&i?"DF":r?"S":i?"F":null}function np(t,e){var r,i,o,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(i=t.top)!==null&&i!==void 0?i:e,right:(o=t.right)!==null&&o!==void 0?o:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function Bw(t,e){var r=np(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function nE(t,e,r,i,o){var s={},c=1.3333333333333333,d=rg(e,function(B){return o.getComputedStyle(B).backgroundColor});d!=null&&(s.fillColor=d);var f=rg(e,function(B){return o.getComputedStyle(B).color});f!=null&&(s.textColor=f);var h=aE(i,r);h&&(s.cellPadding=h);var g="borderTopColor",w=c*r,S=i.borderTopWidth;if(i.borderBottomWidth===S&&i.borderRightWidth===S&&i.borderLeftWidth===S){var b=(parseFloat(S)||0)/w;b&&(s.lineWidth=b)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/w,right:(parseFloat(i.borderRightWidth)||0)/w,bottom:(parseFloat(i.borderBottomWidth)||0)/w,left:(parseFloat(i.borderLeftWidth)||0)/w},s.lineWidth.top||(s.lineWidth.right?g="borderRightColor":s.lineWidth.bottom?g="borderBottomColor":s.lineWidth.left&&(g="borderLeftColor"));var j=rg(e,function(B){return o.getComputedStyle(B)[g]});j!=null&&(s.lineColor=j);var C=["left","right","center","justify"];C.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),C=["middle","bottom","top"],C.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var N=parseInt(i.fontSize||"");isNaN(N)||(s.fontSize=N/c);var E=iE(i);E&&(s.fontStyle=E);var R=(i.fontFamily||"").toLowerCase();return t.indexOf(R)!==-1&&(s.font=R),s}function iE(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function rg(t,e){var r=Iw(t,e);if(!r)return null;var i=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var o=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(o[0])||isNaN(o[1])||isNaN(o[2])?null:o}function Iw(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:Iw(t.parentElement,e):r}function aE(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],i=96/(72/e),o=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(d){return parseInt(d||"0")/i}),c=np(s,0);return o>c.top&&(c.top=o),o>c.bottom&&(c.bottom=o),c}function Uw(t,e,r,i,o){var s,c;i===void 0&&(i=!1),o===void 0&&(o=!1);var d;typeof e=="string"?d=r.document.querySelector(e):d=e;var f=Object.keys(t.getFontList()),h=t.scaleFactor(),g=[],w=[],S=[];if(!d)return console.error("Html table could not be found with input: ",e),{head:g,body:w,foot:S};for(var b=0;b<d.rows.length;b++){var j=d.rows[b],C=(c=(s=j==null?void 0:j.parentElement)===null||s===void 0?void 0:s.tagName)===null||c===void 0?void 0:c.toLowerCase(),N=oE(f,h,r,j,i,o);N&&(C==="thead"?g.push(N):C==="tfoot"?S.push(N):w.push(N))}return{head:g,body:w,foot:S}}function oE(t,e,r,i,o,s){for(var c=new Dw(i),d=0;d<i.cells.length;d++){var f=i.cells[d],h=r.getComputedStyle(f);if(o||h.display!=="none"){var g=void 0;s&&(g=nE(t,f,e,h,r)),c.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:g,_element:f,content:sE(f)})}}var w=r.getComputedStyle(i);if(c.length>0&&(o||w.display!=="none"))return c}function sE(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function lE(t,e,r){for(var i=0,o=[t,e,r];i<o.length;i++){var s=o[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function zs(t,e,r,i,o){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),c=1;c<arguments.length;c++){var d=arguments[c];if(d!=null)for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(s[f]=d[f])}return s}function Fw(t,e){var r=new ad(t),i=r.getDocumentOptions(),o=r.getGlobalOptions();lE(o,i,e);var s=zs({},o,i,e),c;typeof window<"u"&&(c=window);var d=cE(o,i,e),f=uE(o,i,e),h=dE(r,s),g=hE(r,s,c);return{id:e.tableId,content:g,hooks:f,styles:d,settings:h}}function cE(t,e,r){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},o=function(f){if(f==="columnStyles"){var h=t[f],g=e[f],w=r[f];i.columnStyles=zs({},h,g,w)}else{var S=[t,e,r],b=S.map(function(j){return j[f]||{}});i[f]=zs({},b[0],b[1],b[2])}},s=0,c=Object.keys(i);s<c.length;s++){var d=c[s];o(d)}return i}function uE(t,e,r){for(var i=[t,e,r],o={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,c=i;s<c.length;s++){var d=c[s];d.didParseCell&&o.didParseCell.push(d.didParseCell),d.willDrawCell&&o.willDrawCell.push(d.willDrawCell),d.didDrawCell&&o.didDrawCell.push(d.didDrawCell),d.willDrawPage&&o.willDrawPage.push(d.willDrawPage),d.didDrawPage&&o.didDrawPage.push(d.didDrawPage)}return o}function dE(t,e){var r,i,o,s,c,d,f,h,g,w,S,b,j=np(e.margin,40/t.scaleFactor()),C=(r=fE(t,e.startY))!==null&&r!==void 0?r:j.top,N;e.showFoot===!0?N="everyPage":e.showFoot===!1?N="never":N=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var E;e.showHead===!0?E="everyPage":e.showHead===!1?E="never":E=(o=e.showHead)!==null&&o!==void 0?o:"everyPage";var R=(s=e.useCss)!==null&&s!==void 0?s:!1,B=e.theme||(R?"plain":"striped"),z=!!e.horizontalPageBreak,Q=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(d=e.includeHiddenHtml)!==null&&d!==void 0?d:!1,useCss:R,theme:B,startY:C,margin:j,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:E,showFoot:N,tableLineWidth:(w=e.tableLineWidth)!==null&&w!==void 0?w:0,tableLineColor:(S=e.tableLineColor)!==null&&S!==void 0?S:200,horizontalPageBreak:z,horizontalPageBreakRepeat:Q,horizontalPageBreakBehaviour:(b=e.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function fE(t,e){var r=t.getLastAutoTable(),i=t.scaleFactor(),o=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var c=r.startPageNumber+r.pageNumber-1;s=c===o}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/i:null}function hE(t,e,r){var i=e.head||[],o=e.body||[],s=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(r){var d=Uw(t,e.html,r,c,e.useCss)||{};i=d.head||i,o=d.body||i,s=d.foot||i}else console.error("Cannot parse html in non browser environment")}var f=e.columns||pE(i,o,s);return{columns:f,head:i,body:o,foot:s}}function pE(t,e,r){var i=t[0]||e[0]||r[0]||[],o=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var c=1,d;Array.isArray(i)?d=i[parseInt(s)]:d=i[s],typeof d=="object"&&!Array.isArray(d)&&(c=(d==null?void 0:d.colSpan)||1);for(var f=0;f<c;f++){var h=void 0;Array.isArray(i)?h=o.length:h=s+(f>0?"_".concat(f):"");var g={dataKey:h};o.push(g)}}),o}var qg=function(){function t(e,r,i){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=i,this.doc=e.getDocument()}return t}(),gE=function(t){Pw(e,t);function e(r,i,o,s,c,d){var f=t.call(this,r,i,d)||this;return f.cell=o,f.row=s,f.column=c,f.section=s.section,f}return e}(qg),mE=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,i){return r+i.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,i){return r+i.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,i,o,s,c){for(var d=0,f=r;d<f.length;d++){var h=f[d],g=new gE(e,this,i,o,s,c),w=h(g)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],w)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var i=0,o=this.hooks.didDrawPage;i<o.length;i++){var s=o[i];s(new qg(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var i=0,o=this.hooks.willDrawPage;i<o.length;i++){var s=o[i];s(new qg(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(o,s){return o+s.wrappedWidth},0);return r}else{var i=this.settings.margin;return e-i.left-i.right}},t}(),qw=function(){function t(e,r,i,o,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof Dw&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=i,this.cells=o,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(i,o){var s;return Math.max(i,((s=r.cells[o.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(i){var o=r.cells[i.index];return o?o.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var i=this;return e.reduce(function(o,s){var c=i.cells[s.index];if(!c)return 0;var d=r.getLineHeight(c.styles.fontSize),f=c.padding("vertical"),h=f+d;return h>o?h:o},0)},t}(),Hw=function(){function t(e,r,i){var o;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=i,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(o=e.content)!==null&&o!==void 0?o:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=s!=null?""+s:"",d=/\r\n|\r|\n/g;this.text=c.split(d)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var o=this.width-this.padding("horizontal");i=this.x+o/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var i=Array.isArray(this.text)?this.text.length:1,o=this.styles.fontSize/e*r,s=i*o+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=np(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),vE=function(){function t(e,r,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=i}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,i=0,o=e.allRows();i<o.length;i++){var s=o[i],c=s.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(r=Math.max(r,c.styles.cellWidth))}return r},t}();function bE(t,e){yE(t,e);var r=[],i=0;e.columns.forEach(function(s){var c=s.getMaxCustomCellWidth(e);c?s.width=c:(s.width=s.wrappedWidth,r.push(s)),i+=s.width});var o=e.getWidth(t.pageSize().width)-i;o&&(o=Hg(r,o,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),o&&(o=Hg(r,o,function(s){return s.minWidth})),o=Math.abs(o),!e.settings.horizontalPageBreak&&o>.1/t.scaleFactor()&&(o=o<1?o:Math.round(o),console.warn("Of the table content, ".concat(o," units width could not fit page"))),wE(e),SE(e,t),xE(e)}function yE(t,e){var r=t.scaleFactor(),i=e.settings.horizontalPageBreak,o=Bw(t,e);e.allRows().forEach(function(s){for(var c=0,d=e.columns;c<d.length;c++){var f=d[c],h=s.cells[f.index];if(h){var g=e.hooks.didParseCell;e.callCellHooks(t,g,h,s,f,null);var w=h.padding("horizontal");h.contentWidth=F0(h.text,h.styles,t)+w;var S=F0(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,t);if(h.minReadableWidth=S+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||i===!0)h.contentWidth>o?(h.minWidth=o,h.wrappedWidth=o):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var b=10/r;h.minWidth=h.styles.minCellWidth||b,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(s){for(var c=0,d=e.columns;c<d.length;c++){var f=d[c],h=s.cells[f.index];if(h&&h.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,h.wrappedWidth),f.minWidth=Math.max(f.minWidth,h.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,h.minReadableWidth);else{var g=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},w=g.cellWidth||g.minCellWidth;w&&typeof w=="number"&&(f.minWidth=w,f.wrappedWidth=w)}h&&(h.colSpan>1&&!f.minWidth&&(f.minWidth=h.minWidth),h.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=h.minWidth))}})}function Hg(t,e,r){for(var i=e,o=t.reduce(function(b,j){return b+j.wrappedWidth},0),s=0;s<t.length;s++){var c=t[s],d=c.wrappedWidth/o,f=i*d,h=c.width+f,g=r(c),w=h<g?g:h;e-=w-c.width,c.width=w}if(e=Math.round(e*1e10)/1e10,e){var S=t.filter(function(b){return e<0?b.width>r(b):!0});S.length&&(e=Hg(S,e,r))}return e}function xE(t){for(var e={},r=1,i=t.allRows(),o=0;o<i.length;o++)for(var s=i[o],c=0,d=t.columns;c<d.length;c++){var f=d[c],h=e[f.index];if(r>1)r--,delete s.cells[f.index];else if(h)h.cell.height+=s.height,r=h.cell.colSpan,delete s.cells[f.index],h.left--,h.left<=1&&delete e[f.index];else{var g=s.cells[f.index];if(!g)continue;if(g.height=s.height,g.rowSpan>1){var w=i.length-o,S=g.rowSpan>w?w:g.rowSpan;e[f.index]={cell:g,left:S,row:s}}}}}function wE(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var i=e[r],o=null,s=0,c=0,d=0;d<t.columns.length;d++){var f=t.columns[d];if(c-=1,c>1&&t.columns[d+1])s+=f.width,delete i.cells[f.index];else if(o){var h=o;delete i.cells[f.index],o=null,h.width=f.width+s}else{var h=i.cells[f.index];if(!h)continue;if(c=h.colSpan,s=0,h.colSpan>1){o=h,s+=f.width;continue}h.width=f.width+s}}}function SE(t,e){for(var r={count:0,height:0},i=0,o=t.allRows();i<o.length;i++){for(var s=o[i],c=0,d=t.columns;c<d.length;c++){var f=d[c],h=s.cells[f.index];if(h){e.applyStyles(h.styles,!0);var g=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,g+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=ny(h.text,g,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=ny(h.text,g,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var w=h.styles.overflow(h.text,g);typeof w=="string"?h.text=[w]:h.text=w}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var S=h.contentHeight/h.rowSpan;h.rowSpan>1&&r.count*r.height<S*h.rowSpan?r={height:S,count:h.rowSpan}:r&&r.count>0&&r.height>S&&(S=r.height),S>s.height&&(s.height=S)}}r.count--}}function ny(t,e,r,i,o){return t.map(function(s){return _E(s,e,r,i,o)})}function _E(t,e,r,i,o){var s=1e4*i.scaleFactor();if(e=Math.ceil(e*s)/s,e>=F0(t,r,i))return t;for(;e<F0(t+o,r,i)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+o}function $w(t,e){var r=new ad(t),i=jE(e,r.scaleFactor()),o=new mE(e,i);return bE(r,o),r.applyStyles(r.userStyles),o}function jE(t,e){var r=t.content,i=CE(r.columns);if(r.head.length===0){var o=iy(i,"head");o&&r.head.push(o)}if(r.foot.length===0){var o=iy(i,"foot");o&&r.foot.push(o)}var s=t.settings.theme,c=t.styles;return{columns:i,head:ng("head",r.head,i,c,s,e),body:ng("body",r.body,i,c,s,e),foot:ng("foot",r.foot,i,c,s,e)}}function ng(t,e,r,i,o,s){var c={},d=e.map(function(f,h){for(var g=0,w={},S=0,b=0,j=0,C=r;j<C.length;j++){var N=C[j];if(c[N.index]==null||c[N.index].left===0)if(b===0){var E=void 0;Array.isArray(f)?E=f[N.index-S-g]:E=f[N.dataKey];var R={};typeof E=="object"&&!Array.isArray(E)&&(R=(E==null?void 0:E.styles)||{});var B=kE(t,N,h,o,i,s,R),z=new Hw(E,B,t);w[N.dataKey]=z,w[N.index]=z,b=z.colSpan-1,c[N.index]={left:z.rowSpan-1,times:b}}else b--,S++;else c[N.index].left--,b=c[N.index].times,g++}return new qw(f,h,t,w)});return d}function iy(t,e){var r={};return t.forEach(function(i){if(i.raw!=null){var o=AE(e,i.raw);o!=null&&(r[i.dataKey]=o)}}),Object.keys(r).length>0?r:null}function AE(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function CE(t){return t.map(function(e,r){var i,o;return typeof e=="object"?o=(i=e.dataKey)!==null&&i!==void 0?i:r:o=r,new vE(o,e,r)})}function kE(t,e,r,i,o,s,c){var d=rE(i),f;t==="head"?f=o.headStyles:t==="body"?f=o.bodyStyles:t==="foot"&&(f=o.footStyles);var h=zs({},d.table,d[t],o.styles,f),g=o.columnStyles[e.dataKey]||o.columnStyles[e.index]||{},w=t==="body"?g:{},S=t==="body"&&r%2===0?zs({},d.alternateRow,o.alternateRowStyles):{},b=tE(s),j=zs({},b,h,S,w);return zs(j,c)}function EE(t,e,r){var i;r===void 0&&(r={});var o=Bw(t,e),s=new Map,c=[],d=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(S){var b=e.columns.find(function(j){return j.dataKey===S||j.index===S});b&&!s.has(b.index)&&(s.set(b.index,!0),c.push(b.index),d.push(e.columns[b.index]),o-=b.wrappedWidth)});for(var h=!0,g=(i=r==null?void 0:r.start)!==null&&i!==void 0?i:0;g<e.columns.length;){if(s.has(g)){g++;continue}var w=e.columns[g].wrappedWidth;if(h||o>=w)h=!1,c.push(g),d.push(e.columns[g]),o-=w;else break;g++}return{colIndexes:c,columns:d,lastIndex:g-1}}function NE(t,e){for(var r=[],i=0;i<e.columns.length;i++){var o=EE(t,e,{start:i});o.columns.length&&(r.push(o),i=o.lastIndex)}return r}function Ww(t,e){var r=e.settings,i=r.startY,o=r.margin,s={x:o.left,y:i},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),d=i+o.bottom+c;if(r.pageBreak==="avoid"){var f=e.body,h=f.reduce(function(S,b){return S+b.height},0);d+=h}var g=new ad(t);(r.pageBreak==="always"||r.startY!=null&&d>g.pageSize().height)&&(Vw(g),s.y=o.top),e.callWillDrawPageHooks(g,s);var w=zs({},s);e.startPageNumber=g.pageNumber(),r.horizontalPageBreak?LE(g,e,w,s):(g.applyStyles(g.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(S){return Fs(g,e,S,s,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(S,b){var j=b===e.body.length-1;q0(g,e,S,j,w,s,e.columns)}),g.applyStyles(g.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(S){return Fs(g,e,S,s,e.columns)})),zw(g,e,w,s),e.callEndPageHooks(g,s),e.finalY=s.y,t.lastAutoTable=e,g.applyStyles(g.userStyles)}function LE(t,e,r,i){var o=NE(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")o.forEach(function(h,g){t.applyStyles(t.userStyles),g>0?Af(t,e,r,i,h.columns,!0):ay(t,e,i,h.columns),TE(t,e,r,i,h.columns),ig(t,e,i,h.columns)});else for(var c=-1,d=o[0],f=function(){var h=c;if(d){t.applyStyles(t.userStyles);var g=d.columns;c>=0?Af(t,e,r,i,g,!0):ay(t,e,i,g),h=oy(t,e,c+1,i,g),ig(t,e,i,g)}var w=h-c;o.slice(1).forEach(function(S){t.applyStyles(t.userStyles),Af(t,e,r,i,S.columns,!0),oy(t,e,c+1,i,S.columns,w),ig(t,e,i,S.columns)}),c=h};c<e.body.length-1;)f()}function ay(t,e,r,i){var o=e.settings;t.applyStyles(t.userStyles),(o.showHead==="firstPage"||o.showHead==="everyPage")&&e.head.forEach(function(s){return Fs(t,e,s,r,i)})}function TE(t,e,r,i,o){t.applyStyles(t.userStyles),e.body.forEach(function(s,c){var d=c===e.body.length-1;q0(t,e,s,d,r,i,o)})}function oy(t,e,r,i,o,s){t.applyStyles(t.userStyles),s=s??e.body.length;var c=Math.min(r+s,e.body.length),d=-1;return e.body.slice(r,c).forEach(function(f,h){var g=r+h===e.body.length-1,w=Gw(t,e,g,i);f.canEntireRowFit(w,o)&&(Fs(t,e,f,i,o),d=r+h)}),d}function ig(t,e,r,i){var o=e.settings;t.applyStyles(t.userStyles),(o.showFoot==="lastPage"||o.showFoot==="everyPage")&&e.foot.forEach(function(s){return Fs(t,e,s,r,i)})}function OE(t,e,r){var i=r.getLineHeight(t.styles.fontSize),o=t.padding("vertical"),s=Math.floor((e-o)/i);return Math.max(0,s)}function RE(t,e,r,i){var o={};t.spansMultiplePages=!0,t.height=0;for(var s=0,c=0,d=r.columns;c<d.length;c++){var f=d[c],h=t.cells[f.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var g=new Hw(h.raw,h.styles,h.section);g=zs(g,h),g.text=[];var w=OE(h,e,i);h.text.length>w&&(g.text=h.text.splice(w,h.text.length));var S=i.scaleFactor(),b=i.getLineHeightFactor();h.contentHeight=h.getContentHeight(S,b),h.contentHeight>=e&&(h.contentHeight=e,g.styles.minCellHeight-=e),h.contentHeight>t.height&&(t.height=h.contentHeight),g.contentHeight=g.getContentHeight(S,b),g.contentHeight>s&&(s=g.contentHeight),o[f.index]=g}}var j=new qw(t.raw,-1,t.section,o,!0);j.height=s;for(var C=0,N=r.columns;C<N.length;C++){var f=N[C],g=j.cells[f.index];g&&(g.height=j.height);var h=t.cells[f.index];h&&(h.height=t.height)}return j}function PE(t,e,r,i){var o=t.pageSize().height,s=i.settings.margin,c=s.top+s.bottom,d=o-c;e.section==="body"&&(d-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var f=e.getMinimumRowHeight(i.columns,t),h=f<r;if(f>d)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var g=e.hasRowSpan(i.columns),w=e.getMaxCellHeight(i.columns)>d;return w?(g&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||i.settings.rowPageBreak==="avoid")}function q0(t,e,r,i,o,s,c){var d=Gw(t,e,i,s);if(r.canEntireRowFit(d,c))Fs(t,e,r,s,c);else if(PE(t,r,d,e)){var f=RE(r,d,e,t);Fs(t,e,r,s,c),Af(t,e,o,s,c),q0(t,e,f,i,o,s,c)}else Af(t,e,o,s,c),q0(t,e,r,i,o,s,c)}function Fs(t,e,r,i,o){i.x=e.settings.margin.left;for(var s=0,c=o;s<c.length;s++){var d=c[s],f=r.cells[d.index];if(!f){i.x+=d.width;continue}t.applyStyles(f.styles),f.x=i.x,f.y=i.y;var h=e.callCellHooks(t,e.hooks.willDrawCell,f,r,d,i);if(h===!1){i.x+=d.width;continue}DE(t,f,i);var g=f.getTextPos();Rw(f.text,g.x,g.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,f,r,d,i),i.x+=d.width}i.y+=r.height}function DE(t,e,r){var i=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof i.lineWidth=="number"){var o=Mw(i.lineWidth,i.fillColor);o&&t.rect(e.x,r.y,e.width,e.height,o)}else typeof i.lineWidth=="object"&&(i.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),zE(t,e,r,i.lineWidth))}function zE(t,e,r,i){var o,s,c,d;i.top&&(o=r.x,s=r.y,c=r.x+e.width,d=r.y,i.right&&(c+=.5*i.right),i.left&&(o-=.5*i.left),f(i.top,o,s,c,d)),i.bottom&&(o=r.x,s=r.y+e.height,c=r.x+e.width,d=r.y+e.height,i.right&&(c+=.5*i.right),i.left&&(o-=.5*i.left),f(i.bottom,o,s,c,d)),i.left&&(o=r.x,s=r.y,c=r.x,d=r.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(d+=.5*i.bottom),f(i.left,o,s,c,d)),i.right&&(o=r.x+e.width,s=r.y,c=r.x+e.width,d=r.y+e.height,i.top&&(s-=.5*i.top),i.bottom&&(d+=.5*i.bottom),f(i.right,o,s,c,d));function f(h,g,w,S,b){t.getDocument().setLineWidth(h),t.getDocument().line(g,w,S,b,"S")}}function Gw(t,e,r,i){var o=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(o+=e.getFootHeight(e.columns)),t.pageSize().height-i.y-o}function Af(t,e,r,i,o,s){o===void 0&&(o=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(d){return Fs(t,e,d,i,o)}),e.callEndPageHooks(t,i);var c=e.settings.margin;zw(t,e,r,i),Vw(t),e.pageNumber++,i.x=c.left,i.y=c.top,r.y=c.top,e.callWillDrawPageHooks(t,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(d){return Fs(t,e,d,i,o)}),t.applyStyles(t.userStyles))}function Vw(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function ME(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e[0],o=Fw(this,i),s=$w(this,o);return Ww(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,i,o){Rw(e,r,i,o,this)},t.API.autoTableSetDefaults=function(e){return ad.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){ad.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var i;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var o=new ad(this),s=Uw(o,e,window,r,!1),c=s.head,d=s.body,f=((i=c[0])===null||i===void 0?void 0:i.map(function(h){return h.content}))||[];return{columns:f,rows:d,data:d}}}var ag;function $g(t,e){var r=Fw(t,e),i=$w(t,r);Ww(t,i)}try{if(typeof window<"u"&&window){var sy=window,ly=sy.jsPDF||((ag=sy.jspdf)===null||ag===void 0?void 0:ag.jsPDF);ly&&ME(ly)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Yw="/TechnoFix/assets/logo-DCnvgfVT.png";function Is(t){if(!t)return"-";const e=new Date(t);if(isNaN(e))return"-";const r=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();return`${r}/${i}/${o}`}async function BE(t,e,r=[]){const i=new ct({orientation:"portrait",unit:"pt",format:"a4"}),o=40;let s=40,c={logo_url:"",mensaje_footer:"TechnoFix - Sistema de Gestin"};try{const{data:J,error:se}=await Xe.from("configuracion_empresa").select("logo_url, mensaje_footer").single();!se&&J&&(c=J)}catch(J){console.error("Error cargando configuracin:",J)}const d=c.logo_url||Yw,f=new window.Image;f.src=d,await new Promise(J=>{f.onload=J});const h=80,g=60,w=f.width/f.height;let S,b;w>h/g?(S=h,b=h/w):(b=g,S=g*w),i.addImage(f,"PNG",o,s,S,b),s+=70;const j=o,C=300,N=120;i.setDrawColor(165,196,202),i.setLineWidth(1),i.rect(j,s,C,N),i.setFillColor(245,250,252),i.rect(j,s,C,N,"F"),i.rect(j,s,C,N),i.setFontSize(12),i.setFont("helvetica","bold"),i.setTextColor(0,52,89),i.text("Datos del Cliente",j+10,s+15),i.setFont("helvetica","normal"),i.setFontSize(10),i.setTextColor(60,60,60),i.text(`Nombre: ${(t==null?void 0:t.nombre)||""} ${(t==null?void 0:t.apellidos)||""}`,j+10,s+30),i.text(`NIF: ${(t==null?void 0:t.nif)||""}`,j+10,s+45),i.text(`Telfono: ${(t==null?void 0:t.telefono)||""}`,j+10,s+60),i.text(`Correo: ${(t==null?void 0:t.correo)||""}`,j+10,s+75);const E=i.splitTextToSize(`Direccin: ${(t==null?void 0:t.direccion)||""}`,280);i.text(E,j+10,s+90),s+=N+20,i.setTextColor(0,0,0),s+=30,i.setFontSize(12),i.setFont("helvetica","bold"),i.text("Reparaciones",o,s),s+=20;const R=e.length>0?e.map(J=>[J.articulo,J.descripcion,Is(J.fecha),Is(J.fechaentrega),J.precio!=null?`${J.precio} `:"-",J.observaciones||"-"]):[["","","","","",""],["","","","","",""],["","","","","",""]];$g(i,{startY:s,margin:{left:o,right:o},tableWidth:"wrap",theme:"grid",minCellHeight:20,head:[["Artculo","Descripcin","Fecha","Fecha Entrega","Precio","Observaciones"]],body:R,styles:{fontSize:8,cellPadding:{top:3,right:6,bottom:3,left:6},lineWidth:.5,lineColor:[255,255,255],overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[165,196,202],textColor:[0,52,89],halign:"center",fontStyle:"bold"},columnStyles:{0:{cellWidth:70},1:{cellWidth:110},2:{cellWidth:70,halign:"center"},3:{cellWidth:90,halign:"center"},4:{cellWidth:60,halign:"right"},5:{cellWidth:110}}});let z=(i.lastAutoTable.finalY||s)+30;z>700&&(i.addPage(),z=40),i.setFontSize(12),i.setFont("helvetica","bold"),i.text("Historial de Ventas TPV",o,z),z+=20,$g(i,{startY:z,margin:{left:o,right:o},tableWidth:"wrap",theme:"grid",head:[["Fecha","Productos","Unidades","Mtodo Pago","Subtotal","IVA","Total"]],body:r.map(J=>{var se,U,te,M,W,oe,ae;return[Is(J.fecha_venta),((se=J.detalles_venta)==null?void 0:se.map(be=>{var he;return((he=be.productos)==null?void 0:he.nombre)||be.nombre_producto||"Producto manual"}).join(`
`))||"Sin detalles",((U=J.detalles_venta)==null?void 0:U.map(be=>be.cantidad.toString()).join(`
`))||"-",((te=J.metodo_pago)==null?void 0:te.charAt(0).toUpperCase())+(((M=J.metodo_pago)==null?void 0:M.slice(1))||""),`${((W=J.subtotal)==null?void 0:W.toFixed(2))||"0.00"}`,`${((oe=J.impuestos)==null?void 0:oe.toFixed(2))||"0.00"}`,`${((ae=J.total)==null?void 0:ae.toFixed(2))||"0.00"}`]}),styles:{fontSize:8,cellPadding:{top:3,right:6,bottom:3,left:6},lineWidth:.5,lineColor:[255,255,255],overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[165,196,202],textColor:[0,52,89],halign:"center",fontStyle:"bold"},columnStyles:{0:{cellWidth:70},1:{cellWidth:140},2:{cellWidth:50,halign:"center"},3:{cellWidth:80},4:{cellWidth:60,halign:"right"},5:{cellWidth:50,halign:"right"},6:{cellWidth:60,halign:"right"}}});const ue=842-40;i.setFontSize(9),i.setFont("helvetica","normal"),i.setTextColor(100,100,100),i.text(c.mensaje_footer||"TechnoFix - Sistema de Gestin",o,ue),i.save(`ficha_completa_${(t==null?void 0:t.nombre)||""}_${(t==null?void 0:t.nif)||""}.pdf`)}function Rn({to:t="/",children:e}){const r=$n();return p.jsxs(Bj,{onClick:()=>r(t),children:[p.jsx(XS,{size:22}),e||"Volver"]})}function ym(){return p.jsx(s7,{children:" 2025 Carmen Pulido Daz - DAW"})}const Dr=fe.button`
  background: ${({eliminar:t})=>t?"linear-gradient(90deg, #b91c1c 0%, #f87171 100%)":"linear-gradient(90deg, #607074 0%, #a5c4ca 100%)"};
  border: none;
  color: #fff;
  cursor: pointer;
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  padding: 0.7rem 1.5rem;
  border-radius: 8px;
  font-weight: 600;
  box-shadow: 0 2px 8px #404a4c22;
  transition: background 0.2s, color 0.2s;
  opacity: ${({disabled:t})=>t?.6:1};
  pointer-events: ${({disabled:t})=>t?"none":"auto"};
  &:hover {
    background: ${({eliminar:t})=>t?"linear-gradient(90deg, #f87171 0%, #b91c1c 100%)":"linear-gradient(90deg, #a5c4ca 0%, #607074 100%)"};
    color: #fff;
  }
  span {
    margin-left: 0.5rem;
    font-size: 0.9rem;
  }
`,IE=fe.div`
  background: white;
  border-radius: 12px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  border: 1px solid #e0e0e0;
  margin: 1.5rem auto;
  max-width: 100%;
  width: 100%;

  @media (max-width: 768px) {
    margin: 1rem 0;
    max-width: 100%;
  }
`,UE=fe.div`
  padding: 1rem 1.5rem;
  border-bottom: 1px solid #e0e0e0;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  border-radius: 12px 12px 0 0;
`,FE=fe.h3`
  margin: 0;
  color: #232728;
  font-size: 1.1rem;
  font-weight: 600;
`,qE=fe.div`
  padding: 1.5rem;
  color: #607074;
  font-size: 0.95rem;
  line-height: 1.6;

  p {
    margin: 0 0 1rem 0;
    
    &:last-child {
      margin-bottom: 0;
    }
  }

  b {
    color: #232728;
    font-weight: 600;
  }

  br {
    margin-bottom: 0.3rem;
  }

  @media (max-width: 1120px) {
    padding: 1.2rem;
    font-size: 0.9rem;
  }

  @media (max-width: 768px) {
    padding: 1rem;
    font-size: 0.85rem;
  }
`;function yd({title:t="Informacin",icon:e,children:r,...i}){return p.jsxs(IE,{...i,children:[p.jsxs(UE,{children:[e||p.jsx(i_,{size:18}),p.jsx(FE,{children:t})]}),p.jsx(qE,{children:r})]})}function Kw({children:t,...e}){return p.jsx(S7,{...e,children:t})}function Nr({children:t,...e}){return p.jsx(K7,{...e,children:t})}const HE=fe.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.05rem;
  margin: 0.5rem 0;
`,$E=fe.span`
  font-size: 0.8rem;
  color: rgb(180, 190, 200);
  font-weight: 500;
  text-align: center;
  letter-spacing: 0.3px;
  opacity: 0.85;
  
  @media (max-width: 1120px) {
    font-size: 0.75rem;
  }
`;function Xw({user:t}){if(!(t!=null&&t.nombre))return null;const e=r=>r?r.charAt(0).toUpperCase()+r.slice(1).toLowerCase():"";return p.jsxs(HE,{children:[p.jsx(O7,{to:"/usuarios/editarme",children:t.nombre}),p.jsx($E,{children:e(t.rol)})]})}function Zw(t){return $t({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"},child:[]}]})(t)}function cy(t){return $t({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 2H7c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 4H7V4h10v2zm3 16H4c-1.1 0-2-.9-2-2v-1h20v1c0 1.1-.9 2-2 2zm-1.47-11.81A2.008 2.008 0 0 0 16.7 9H7.3c-.79 0-1.51.47-1.83 1.19L2 18h20l-3.47-7.81zM9.5 16h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm3 4h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm3 4h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5zm0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5z"},child:[]}]})(t)}const Jw=K.createContext(),xd=()=>{const t=K.useContext(Jw);if(!t)throw new Error("useConfiguracionEmpresaContext debe usarse dentro de ConfiguracionEmpresaProvider");return t},WE=({children:t})=>{const[e,r]=K.useState({nombre_empresa:"",logo_url:"",mensaje_footer:"TechnoFix - Sistema de Gestin"}),[i,o]=K.useState(!0),s=async()=>{try{const{data:f,error:h}=await Xe.from("configuracion_empresa").select("*").maybeSingle();if(h&&h.code!=="PGRST116"){console.error("Error cargando configuracin:",h);return}f&&r(f)}catch(f){console.error("Error cargando configuracin:",f)}finally{o(!1)}},c=f=>{r(h=>({...h,...f}))};K.useEffect(()=>{s()},[]);const d={configuracion:e,loading:i,cargarConfiguracion:s,actualizarConfiguracion:c};return p.jsx(Jw.Provider,{value:d,children:t})};function GE({user:t,onLogout:e,open:r,setOpen:i}){const o=$n(),{rol:s}=t||{},c=Bs(g=>g.logout),{configuracion:d}=xd(),f=[{label:"Usuarios",to:"/usuarios",icon:p.jsx(fx,{size:20,style:{marginRight:8}}),visible:s==="admin"},{label:"Empresa",to:"/empresa",icon:p.jsx(L0,{size:20,style:{marginRight:8}}),visible:s==="admin"},{label:"Clientes",to:"/clientes",icon:p.jsx(Tc,{size:20,style:{marginRight:8}})},{label:"Reparaciones",to:"/reparaciones",icon:p.jsx(Zw,{size:20,style:{marginRight:8}})}],h=async()=>{i(!1),await c(),o("/login")};return r?p.jsxs(p.Fragment,{children:[p.jsx(T7,{onClick:()=>i(!1)}),p.jsxs(_7,{children:[p.jsx(j7,{onClick:()=>i(!1),"aria-label":"Cerrar men",children:p.jsx(O0,{size:30})}),p.jsxs(A7,{children:[p.jsxs(C7,{children:[p.jsx(k7,{src:d.logo_url||"/TechnoFix/assets/Logo.png",alt:"Logo empresa",style:{cursor:"pointer"},onClick:()=>{i(!1),o("/home")}}),p.jsx("div",{onClick:()=>i(!1),children:p.jsx(Xw,{user:t})}),p.jsxs(N7,{onClick:h,children:[p.jsx(ux,{size:16,style:{marginRight:6}}),"Salir"]})]}),p.jsx(E7,{children:f.filter(g=>g.visible!==!1).map(g=>p.jsxs(L7,{onClick:()=>{i(!1),o(g.to)},children:[g.icon,g.label]},g.to))})]})]})]}):null}function VE({user:t}){const e=$n(),r=t==null?void 0:t.rol,i=Bs(c=>c.logout),{configuracion:o}=xd(),s=async()=>{await i(),e("/login")};return p.jsxs(q7,{children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[p.jsx(H7,{src:o.logo_url||"/TechnoFix/assets/Logo.png",alt:"Logo empresa",style:{cursor:"pointer"},onClick:()=>e("/home")}),p.jsx(Kh,{}),p.jsx(Xw,{user:t}),p.jsx(Kh,{}),p.jsxs($7,{children:[r==="admin"&&p.jsxs(p.Fragment,{children:[p.jsxs(L1,{onClick:()=>e("/usuarios"),children:[p.jsx(fx,{size:20,style:{marginRight:8}}),"Usuarios"]}),p.jsxs(L1,{onClick:()=>e("/empresa"),children:[p.jsx(L0,{size:20,style:{marginRight:8}}),"Empresa"]}),p.jsx(Kh,{})]}),YE.filter(c=>c.action!=="logout").map(c=>p.jsxs(L1,{onClick:()=>e(c.to),className:c.hideOnMobile?"hide-on-mobile":"",children:[c.icon,c.label]},c.to))]})]}),p.jsxs("div",{children:[p.jsx(Kh,{}),p.jsxs(W7,{onClick:s,children:[p.jsx(ux,{size:16,style:{marginRight:6}}),"Salir"]})]})]})}const YE=[{label:"TPV",to:"/tpv",icon:p.jsx(T0,{size:20,style:{marginRight:8}}),hideOnMobile:!0},{label:"Clientes",to:"/clientes",icon:p.jsx(Tc,{size:20,style:{marginRight:8}})},{label:"Reparaciones",to:"/reparaciones",icon:p.jsx(Zw,{size:20,style:{marginRight:8}})}];function KE({onClick:t,children:e,disabled:r}){return p.jsxs(Mj,{onClick:t,disabled:r,children:[p.jsx(o_,{}),p.jsx("span",{children:e||"Imprimir / PDF"})]})}fe.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.18);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
`;fe.div`
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.18);
  padding: 1.2rem 1.5rem;
  min-width: 320px;
  max-width: 90vw;
`;fe.div`
  font-size: 1.1rem;
  font-weight: bold;
  margin-bottom: 0.7rem;
  color: #007bff;
`;function XE({busqueda:t,setBusqueda:e,clientes:r,cliente:i,setCliente:o,loadingClientes:s}){const[c,d]=cn.useState(!1),[f,h]=cn.useState(!1),g=t&&r&&t.trim().length>0?r.filter(w=>{const S=w.nombre||"",b=w.apellidos||"",j=w.telefono||"",C=w.dni||w.nif||"",N=t.toLowerCase();return S.toLowerCase().includes(N)||b.toLowerCase().includes(N)||j.toLowerCase().includes(N)||C.toLowerCase().includes(N)}):[];return p.jsx(J7,{children:p.jsxs(Q7,{style:{position:"relative"},children:[p.jsx("input",{type:"text",placeholder:"Buscar cliente por DNI o nombre",value:t,onChange:w=>e(w.target.value),onFocus:()=>d(!0),onBlur:()=>setTimeout(()=>{f||d(!1)},120),disabled:s}),p.jsx("span",{className:"icono-lupa",children:p.jsx(dx,{size:22,color:"#607074"})}),t&&t.length>0&&c&&p.jsx("div",{style:{position:"absolute",left:"50%",top:"calc(100% + 8px)",transform:"translateX(-50%)",minWidth:"260px",maxWidth:"340px",width:"100%",maxHeight:"220px",overflowY:"auto",border:"1.5px solid #a5c4ca",borderRadius:"12px",background:"white",boxShadow:"0 8px 32px rgba(0,0,0,0.18)",zIndex:9999,padding:"0.3rem 0.2rem"},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:g.length>0?g.map(w=>p.jsxs("div",{onClick:()=>{o(w),e(w.nombre+(w.apellidos?" "+w.apellidos:"")),d(!1)},style:{padding:"0.7rem 0.5rem",cursor:"pointer",borderBottom:"1px solid #eee",fontSize:"1rem",fontWeight:"500"},onMouseEnter:S=>S.target.style.backgroundColor="#f0f8ff",onMouseLeave:S=>S.target.style.backgroundColor="white",children:[p.jsxs("div",{style:{fontWeight:"bold",color:"rgb(14, 41, 61)"},children:[w.nombre," ",w.apellidos]}),p.jsxs("div",{style:{fontSize:"0.95em"},children:[w.nif||w.dni||"Sin NIF","  ",w.telefono||"Sin telfono"]})]},w.id)):p.jsxs("div",{style:{padding:"1rem",color:"#856404",background:"#fff3cd",textAlign:"center",borderRadius:"8px",fontSize:"1em"},children:['No se encontraron clientes con "',t,'".']})})]})})}function ZE(){const{configuracion:t}=xd();return p.jsx(c7,{children:p.jsxs(u7,{children:[p.jsx(d7,{children:p.jsx("img",{src:t.logo_url||"/TechnoFix/assets/Logo.png",alt:`${t.nombre_empresa||"TechnoFix"} logo`,style:{width:200,height:"auto"}})}),p.jsxs(f7,{children:["Bienvenid@ a ",t.nombre_empresa||"TechnoFix","!"]}),p.jsxs(yd,{title:"Panel de Control",icon:p.jsx(n_,{size:18}),children:[p.jsx("p",{children:"Utiliza el men lateral o las opciones disponibles para acceder a las diferentes secciones del sistema:"}),p.jsxs("p",{children:["- ",p.jsx("b",{children:"TPV"}),": Punto de venta completo con gestin de productos, categoras y facturacin.",p.jsx("br",{}),"- ",p.jsx("b",{children:"Clientes"}),": Administracin integral de la base de clientes con historial completo.",p.jsx("br",{}),"- ",p.jsx("b",{children:"Reparaciones"}),": Control detallado de servicios tcnicos y seguimiento de reparaciones.",p.jsx("br",{}),"- ",p.jsx("b",{children:"Usuarios"}),": Gestin de permisos y usuarios del sistema (solo administradores).",p.jsx("br",{}),"- ",p.jsx("b",{children:"Empresa"}),": Personalizacin de logo, nombre y configuracin empresarial."]}),p.jsx("p",{children:"Haz clic en tu nombre en cualquier momento para acceder a la configuracin de tu perfil personal."})]})]})})}function Pn({children:t,maxWidth:e=1600,...r}){return p.jsx(JE,{$maxWidth:e,...r,children:t})}const JE=fe.div`
  width: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  max-width: min(${t=>t.$maxWidth||1600}px, calc(100vw - 7rem));
  margin: 2.5rem auto;
  padding: 2rem 1.5rem;
  background: #f8fafb;
  border-radius: 22px;
  box-shadow: 0 2px 18px #404a4c22;
  min-height: unset;
  height: auto;
  border: 2px solid #a5c4ca;
  display: flex;
  flex-direction: column;
  align-items: center; 
  box-sizing: border-box;
  position: relative;
  padding-top: 2.5rem;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: #a5c4ca #f8fafb;
  
  @media (max-width: 1400px) and (min-width: 1201px) {
      max-width: min(800px, calc(100vw - 5rem));
    max-width: calc(100vw - 5rem);
    margin: 2rem auto;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
  
  @media (max-width: 1200px) and (min-width: 901px) {
      max-width: min(700px, calc(100vw - 3.5rem));
    max-width: calc(100vw - 3.5rem);
    margin: 1.5rem auto;
    padding-left: 1rem;
    padding-right: 1rem;
  }
  
  @media (max-width: 900px) and (min-width: 701px) {
      max-width: min(600px, calc(100vw - 2.2rem));
    max-width: calc(100vw - 2.2rem);
    margin: 1rem auto;
    padding-left: 0.7rem;
    padding-right: 0.7rem;
  }
  
  @media (max-width: 700px) {
      max-width: min(98vw, calc(100vw - 1.5rem));
    max-width: calc(100vw - 1.5rem);
    margin: 0.5rem auto;
    padding-top: 4.5rem;
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }
`;function QE({user:t}){const e=$n(),r=[{label:"Ver",icon:p.jsx(Tc,{size:36}),onClick:()=>e("/clientes/ver"),visible:!0},{label:"Aadir",icon:p.jsx(Q5,{size:36}),onClick:()=>e("/clientes/insertar"),visible:!0}];return p.jsxs(Pn,{children:[p.jsx(Nr,{children:"Clientes"}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",margin:"1rem 0",padding:"0 1rem",maxWidth:"600px",marginLeft:"auto",marginRight:"auto"},children:r.filter(i=>i.visible).map(i=>p.jsxs(Dr,{onClick:i.onClick,style:{minHeight:"50px",justifyContent:"flex-start"},children:[i.label==="Ver"?p.jsx(Tc,{size:20}):p.jsx(Q5,{size:20}),p.jsx("span",{children:i.label})]},i.label))}),p.jsx(yd,{title:"Gestin de Clientes",icon:p.jsx(Tc,{size:18}),children:p.jsxs("p",{children:["Selecciona una opcin para gestionar los clientes.",p.jsx("br",{}),"- ",p.jsx("b",{children:"Ver"}),": Para ver, editar y eliminar clientes.",p.jsx("br",{}),"- ",p.jsx("b",{children:"Aadir"}),": Para aadir un nuevo cliente."]})})]})}function eN(){const t=$n(),e=[{label:"Ver",icon:p.jsx(L0,{size:20}),onClick:()=>t("/empresa/configuracion")}];return p.jsxs(Pn,{children:[p.jsx(Nr,{children:"Configuracin de Empresa"}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"1rem",margin:"1rem 0",padding:"0 1rem",maxWidth:"400px",marginLeft:"auto",marginRight:"auto"},children:e.map(r=>p.jsxs(Dr,{onClick:r.onClick,style:{minHeight:"50px",justifyContent:"flex-start"},children:[p.jsx(L0,{size:20}),p.jsx("span",{children:r.label})]},r.label))}),p.jsxs(yd,{title:"Configuracin de Empresa",icon:p.jsx(ZS,{size:18}),children:[p.jsx("p",{children:"Aqu puedes personalizar la configuracin de tu empresa."}),p.jsxs("p",{children:["- ",p.jsx("b",{children:"Ver"}),": Para configurar el logo, nombre de empresa y mensaje del footer."]})]})]})}function tN(){return p.jsx(ZE,{})}function rN({onLogin:t}){const[e,r]=K.useState(""),[i,o]=K.useState(""),[s,c]=K.useState(""),[d,f]=K.useState(""),[h,g]=K.useState(""),[w,S]=K.useState(""),[b,j]=K.useState(""),[C,N]=K.useState(!1),E=$n(),{configuracion:R}=xd(),B=async z=>{var U,te;z.preventDefault(),c("");const{data:Q,error:ue}=await Xe.auth.signInWithPassword({email:e,password:i});if(ue){(U=ue.message)!=null&&U.toLowerCase().includes("email not confirmed")||(te=ue.message)!=null&&te.toLowerCase().includes("correo no confirmado")?c("Debes confirmar tu correo antes de iniciar sesin. Revisa tu bandeja de entrada."):c("Usuario o contrasea incorrectos.");return}const{data:J,error:se}=await Xe.from("usuarios").select("*").eq("uid",Q.user.id).single();if(se||!J){c("No tienes permiso para acceder.");return}if(!J.rol){c("Tu cuenta an no ha sido validada por un administrador.");return}t(J)};return p.jsxs(p7,{children:[p.jsx(x7,{children:p.jsxs(g7,{children:[p.jsx(w7,{src:R.logo_url||"/TechnoFix/assets/Logo.png",alt:"TechnoFix",style:{marginBottom:"1.2rem"}}),p.jsx(Rv,{children:"Iniciar sesin"}),p.jsxs("form",{onSubmit:B,style:{width:"100%"},children:[p.jsx(Pv,{type:"email",name:"email",placeholder:"Email",value:e,onChange:z=>r(z.target.value),required:!0,autoComplete:"username"}),p.jsxs(m7,{children:[p.jsx(Pv,{type:C?"text":"password",name:"password",placeholder:"Contrasea",value:i,onChange:z=>o(z.target.value),required:!0,autoComplete:"current-password",style:{marginBottom:0}}),p.jsx(v7,{type:"button",onClick:()=>N(z=>!z),tabIndex:-1,"aria-label":C?"Ocultar contrasea":"Mostrar contrasea",children:C?p.jsx(N0,{}):p.jsx(dd,{})})]}),p.jsx(Dv,{type:"submit",children:"Entrar"}),s&&p.jsx(b7,{children:s})]}),p.jsx(y7,{}),p.jsx(Rv,{className:"sub",children:"No tienes cuenta?"}),p.jsx(Dv,{type:"button",onClick:()=>E("/register"),children:"Regstrate"})]})}),p.jsx(ym,{})]})}function Qw(){const[t,e]=K.useState(""),[r,i]=K.useState(""),[o,s]=K.useState(""),[c,d]=K.useState(""),[f,h]=K.useState(!1),g=$n(),w=async S=>{if(S.preventDefault(),d(""),!t.trim()||!r.trim()||!o.trim()){d("Rellena todos los campos.");return}const{data:b,error:j}=await Xe.auth.signUp({email:r,password:o});if(j){d("Error al registrar, email en uso o contrasea de menos de 6 caracteres.");return}if(b!=null&&b.user){const{error:C}=await Xe.from("usuarios").insert([{nombre:t,email:r,rol:null,uid:b.user.id}]);C?d("Error al guardar usuario: "+C.message):(d("Registro enviado! Espera a que el admin te valide."),e(""),i(""),s(""))}};return p.jsxs(z7,{children:[p.jsx(I7,{children:p.jsxs(M7,{children:[p.jsx(Nr,{children:"Registro de nuevo usuario"}),p.jsxs("form",{onSubmit:w,style:{width:"100%"},children:[p.jsx(N1,{type:"text",placeholder:"Nombre",value:t,onChange:S=>e(S.target.value),required:!0,autoComplete:"off"}),p.jsx(N1,{type:"email",placeholder:"Email",value:r,onChange:S=>i(S.target.value),required:!0,autoComplete:"off"}),p.jsxs(U7,{children:[p.jsx(N1,{type:f?"text":"password",placeholder:"Contrasea (6 caracteres mnimo)",value:o,onChange:S=>s(S.target.value),required:!0,autoComplete:"new-password",style:{marginBottom:0}}),p.jsx(F7,{type:"button",onClick:()=>h(S=>!S),tabIndex:-1,"aria-label":f?"Ocultar contrasea":"Mostrar contrasea",children:f?p.jsx(N0,{}):p.jsx(dd,{})})]}),p.jsx(Mv,{type:"submit",children:"Aceptar"}),c&&p.jsx(B7,{children:c})]}),p.jsx("br",{}),p.jsx(Mv,{type:"button",onClick:()=>g("/login"),children:"Volver"})]})}),p.jsx(ym,{})]})}function nN(){const t=$n(),e=[{label:"Ver",icon:p.jsx(K5,{size:36}),onClick:()=>t("/reparaciones/ver")},{label:"Aadir",icon:p.jsx(Z5,{size:36}),onClick:()=>t("/reparaciones/add")}];return p.jsxs(Pn,{children:[p.jsx(Nr,{children:"Reparaciones"}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",margin:"1rem 0",padding:"0 1rem",maxWidth:"600px",marginLeft:"auto",marginRight:"auto"},children:e.map(r=>p.jsxs(Dr,{onClick:r.onClick,style:{minHeight:"50px",justifyContent:"flex-start"},children:[r.label==="Ver"?p.jsx(K5,{size:20}):p.jsx(Z5,{size:20}),p.jsx("span",{children:r.label})]},r.label))}),p.jsx(yd,{title:"Gestin de Reparaciones",icon:p.jsx(s_,{size:18}),children:p.jsxs("p",{children:["Selecciona una opcin para gestionar las reparaciones.",p.jsx("br",{}),"- ",p.jsx("b",{children:"Ver"}),": Para ver, editar y eliminar reparaciones existentes.",p.jsx("br",{}),"- ",p.jsx("b",{children:"Aadir"}),": Para aadir una nueva reparacin."]})})]})}function iN(){const t=$n(),e=[{label:"Caja",icon:p.jsx(cy,{size:36}),onClick:()=>t("/tpv/caja")},{label:"Productos",icon:p.jsx(T0,{size:36}),onClick:()=>t("/tpv/productos")},{label:"Facturacin",icon:p.jsx(Y5,{size:36}),onClick:()=>t("/tpv/facturacion")}];return p.jsxs(Pn,{children:[p.jsx(Nr,{children:"Terminal Punto de Venta"}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem",margin:"1rem 0",padding:"0 1rem",maxWidth:"800px",marginLeft:"auto",marginRight:"auto"},children:e.map(r=>p.jsxs(Dr,{onClick:r.onClick,style:{minHeight:"50px",justifyContent:"flex-start"},children:[r.label==="Caja"?p.jsx(cy,{size:20}):r.label==="Productos"?p.jsx(T0,{size:20}):p.jsx(Y5,{size:20}),p.jsx("span",{children:r.label})]},r.label))}),p.jsx(yd,{title:"Terminal Punto de Venta",icon:p.jsx(QS,{size:18}),children:p.jsxs("p",{children:["- Pulsa ",p.jsx("b",{children:"Caja"})," para procesar ventas y cobros.",p.jsx("br",{}),"- Pulsa ",p.jsx("b",{children:"Productos"})," para gestionar el catlogo.",p.jsx("br",{}),"- Pulsa ",p.jsx("b",{children:"Facturacin"})," para ver el historial de ventas."]})})]})}function aN(){const t=$n(),e=[{label:"Ver",icon:p.jsx(Tc,{size:20}),onClick:()=>t("/usuarios/lista")}];return p.jsxs(Pn,{children:[p.jsx(Nr,{children:"Gestin de Usuarios"}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"1rem",margin:"1rem 0",padding:"0 1rem",maxWidth:"400px",marginLeft:"auto",marginRight:"auto"},children:e.map(r=>p.jsxs(Dr,{onClick:r.onClick,style:{minHeight:"50px",justifyContent:"flex-start"},children:[p.jsx(Tc,{size:20}),p.jsx("span",{children:r.label})]},r.label))}),p.jsxs(yd,{title:"Gestin de Usuarios",icon:p.jsx(c_,{size:18}),children:[p.jsx("p",{children:"Aqu puedes gestionar los usuarios de la aplicacin."}),p.jsxs("p",{children:["- ",p.jsx("b",{children:"Ver"}),": Para ver y editar usuarios del sistema."]})]})]})}function oN(){const[t,e]=K.useState(null),[r,i]=K.useState(""),[o,s]=K.useState(""),[c,d]=K.useState(!1),[f,h]=K.useState(!1),g=async()=>{if(d(!1),!t)return;h(!0),s(""),i("");const{error:w}=await Xe.from("clientes").delete().eq("id",t.id);h(!1),w?i("Error al eliminar el cliente."):(s("Cliente eliminado correctamente."),e(null))};return p.jsxs(Pn,{children:[p.jsx(Rn,{to:"/clientes"}),p.jsx(Nr,{children:"Eliminar Cliente"}),p.jsx(ep,{onSeleccionar:w=>{e(w),d(!0),s(""),i("")}}),r&&p.jsx(i7,{children:r}),c&&p.jsx(zx,{children:p.jsxs(Mx,{children:[p.jsxs(Bx,{children:["Seguro que quieres eliminar al cliente ",p.jsx("b",{children:t==null?void 0:t.nombre}),"?",p.jsx("br",{}),"Esta accin no se puede deshacer."]}),p.jsxs(Ix,{children:[p.jsx(Ux,{onClick:g,disabled:f,children:"S, eliminar"}),p.jsx(o7,{onClick:()=>d(!1),disabled:f,children:"Cancelar"})]})]})}),o&&p.jsx(a7,{children:o})]})}function xm({fields:t,values:e,onChange:r,onSubmit:i,loading:o,mensaje:s,buttonText:c="Guardar",children:d}){return p.jsxs("form",{onSubmit:i,className:"container p-4 rounded-4 shadow-lg bg-white border border-2",style:{maxWidth:480,borderColor:"#a5c4ca"},children:[t.map(({name:f,label:h,type:g="text",required:w=!1,placeholder:S="",options:b})=>p.jsxs("div",{className:"mb-3",children:[p.jsxs("label",{className:"form-label fw-semibold",style:{color:"#003459",fontSize:"0.9rem"},children:[h,w&&" *"]}),g==="select"?p.jsxs("select",{className:"form-select form-select-lg rounded-4",name:f,value:e[f]||"",onChange:r,required:w,disabled:o,style:{fontSize:"0.9rem"},children:[p.jsxs("option",{value:"",children:["Selecciona ",h.toLowerCase()]}),b&&b.map(j=>p.jsx("option",{value:j.value||j.id,children:j.label||j.nombre},j.value||j.id))]}):g==="textarea"?p.jsx("textarea",{className:"form-control rounded-4",name:f,value:e[f]||"",onChange:r,rows:3,required:w,disabled:o,placeholder:S,style:{fontSize:"0.9rem"}}):p.jsx("input",{type:g,className:"form-control form-control-lg rounded-4",name:f,value:e[f]||"",onChange:r,required:w,disabled:o,placeholder:S,style:{fontSize:"0.9rem"}})]},f)),d,s&&p.jsx("div",{className:`mt-2 fw-semibold ${s.tipo==="ok"?"text-success":"text-danger"}`,children:typeof s=="object"?s.texto:s}),p.jsx("div",{className:"d-flex justify-content-center mt-4",children:p.jsxs(Dr,{type:"submit",disabled:o,children:[p.jsx(Rc,{size:16}),p.jsx("span",{children:c})]})})]})}function sN(){const{form:t,loading:e,mensaje:r,errores:i,handleChange:o,insertarCliente:s}=sA(),c=async d=>{d.preventDefault(),await s()};return p.jsxs(Pn,{style:{position:"relative"},children:[p.jsx(Rn,{to:"/clientes"}),p.jsx(Nr,{children:"Insertar Cliente"}),p.jsx(xm,{fields:[{name:"nombre",label:"Nombre",required:!0,placeholder:"Nombre del cliente"},{name:"apellidos",label:"Apellidos",placeholder:"Apellidos del cliente"},{name:"telefono",label:"Telfono",required:!0,placeholder:"Telfono de contacto"},{name:"nif",label:"NIF",placeholder:"NIF (opcional)"},{name:"direccion",label:"Direccin",placeholder:"Direccin (opcional)"},{name:"correo",label:"Correo",type:"email",placeholder:"Correo electrnico (opcional)"}],values:t,onChange:o,onSubmit:c,loading:e,mensaje:r?{tipo:"ok",texto:r}:i.nombre?{tipo:"error",texto:i.nombre}:i.telefono?{tipo:"error",texto:i.telefono}:i.email?{tipo:"error",texto:i.email}:null,buttonText:e?"Guardando...":"Guardar"}),p.jsxs(h7,{children:[p.jsx("span",{children:"()"})," Datos opcionales para clientes que requieran factura."]})]})}function lN(){const[t,e]=K.useState(null),r=$n(),i=()=>{t&&r(`/clientes/modificar/${t.id}`,{state:{cliente:t}})};return p.jsxs(Pn,{children:[p.jsx(Rn,{to:"/clientes"}),p.jsx(Nr,{children:"Modificar Cliente"}),p.jsx(ep,{onSeleccionar:e}),p.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"1rem"},children:p.jsxs(Dr,{disabled:!t,onClick:i,children:[p.jsx(JS,{size:16}),p.jsx("span",{children:"Aceptar"})]})})]})}const cN={nombre:"",apellidos:"",telefono:"",nif:"",direccion:"",correo:""};function uN(){const{id:t}=Kg(),e=Ia(),r=$n(),[i,o]=K.useState(cN),[s,c]=K.useState(!1),[d,f]=K.useState(""),[h,g]=K.useState("");K.useEffect(()=>{async function b(){var C;f(""),g(""),c(!0);let j=(C=e.state)==null?void 0:C.cliente;if(!j){const{data:N,error:E}=await Xe.from("clientes").select("*").eq("id",t).single();if(E||!N){g("No se pudo cargar el cliente."),c(!1);return}j=N}o({nombre:j.nombre||"",apellidos:j.apellidos||"",telefono:j.telefono||"",nif:j.nif||"",direccion:j.direccion||"",correo:j.correo||""}),c(!1)}b()},[t,e.state]);const w=b=>{o({...i,[b.target.name]:b.target.value})},S=async b=>{if(b.preventDefault(),f(""),g(""),!i.nombre.trim()||!i.telefono.trim()){g("Nombre y telfono son obligatorios.");return}c(!0);const{error:j}=await Xe.from("clientes").update({nombre:i.nombre,apellidos:i.apellidos,telefono:i.telefono,nif:i.nif||null,direccion:i.direccion||null,correo:i.correo||null}).eq("id",t);c(!1),j?g("Error al modificar el cliente."):(f("Cliente modificado correctamente."),setTimeout(()=>r("/clientes/ver"),1200))};return p.jsxs(Pn,{children:[p.jsx(Rn,{to:"/clientes/ver"}),p.jsx(Nr,{children:"Editar Cliente"}),p.jsx(xm,{fields:[{name:"nombre",label:"Nombre",required:!0,placeholder:"Nombre del cliente"},{name:"apellidos",label:"Apellidos",placeholder:"Apellidos del cliente (opcional)"},{name:"telefono",label:"Telfono",required:!0,placeholder:"Telfono de contacto"},{name:"nif",label:"NIF",placeholder:"NIF (opcional)"},{name:"direccion",label:"Direccin",placeholder:"Direccin (opcional)"},{name:"correo",label:"Correo",type:"email",placeholder:"Correo electrnico (opcional)"}],values:i,onChange:w,onSubmit:S,loading:s,mensaje:d?{tipo:"ok",texto:d}:h?{tipo:"error",texto:h}:null,buttonText:s?"Modificando...":"Modificar",children:p.jsxs("div",{className:"text-muted mb-2",style:{fontSize:"0.9rem"},children:[p.jsx("span",{children:"*"})," Campos obligatorios"]})})]})}function dN(){const[t,e]=K.useState([]),[r,i]=K.useState(!0),[o,s]=K.useState(""),[c,d]=K.useState(t),[f,h]=K.useState(null),[g,w]=K.useState(!1),S=Bs(C=>C.user),b=$n();K.useEffect(()=>{async function C(){i(!0);const{data:N}=await Xe.from("clientes").select("id, nombre, telefono, nif, direccion, correo").order("nombre",{ascending:!0});e(N||[]),i(!1)}C()},[]),K.useEffect(()=>{d(t.filter(C=>C.nombre.toLowerCase().includes(o.toLowerCase())||C.correo&&C.correo.toLowerCase().includes(o.toLowerCase())))},[o,t]);const j=async()=>{f&&(w(!0),await Xe.from("clientes").delete().eq("id",f.id),e(t.filter(C=>C.id!==f.id)),h(null),w(!1))};return p.jsxs(Pn,{style:{position:"relative"},children:[p.jsx(Rn,{to:"/clientes"}),p.jsx(Nr,{children:"Listado de Clientes"}),r&&p.jsx(hm,{children:"Cargando..."}),p.jsx(ep,{soloFiltrar:!0,soloInput:!0,busqueda:o,setBusqueda:s}),p.jsx(Kw,{style:{marginBottom:0,textAlign:"center"},children:p.jsx("p",{children:"Selecciona un cliente para Ver, Editar o Eliminar."})}),p.jsx(Ul,{children:p.jsxs(Fl,{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Nombre"}),p.jsx("th",{children:"Telfono"}),p.jsx("th",{children:"NIF"}),p.jsx("th",{children:"Direccin"}),p.jsx("th",{children:"Correo"})]})}),p.jsx("tbody",{children:c.map(C=>p.jsxs("tr",{style:{cursor:"pointer",background:(f==null?void 0:f.id)===C.id?"#e6f0f3":"white"},onClick:()=>h(C),children:[p.jsx("td",{children:C.nombre}),p.jsx("td",{children:C.telefono}),p.jsx("td",{children:C.nif}),p.jsx("td",{children:C.direccion}),p.jsx("td",{children:C.correo})]},C.id))})]})}),f&&p.jsxs(X7,{children:[p.jsx(Dr,{title:"Ver",onClick:()=>b(`/clientes/ver/${f.id}`),style:{position:"relative"},children:p.jsx(dd,{})}),((S==null?void 0:S.rol)==="admin"||(S==null?void 0:S.rol)==="encargado")&&p.jsx(Dr,{title:"Editar",onClick:()=>b(`/clientes/modificar/${f.id}`),style:{position:"relative"},children:p.jsx(Z0,{})}),(S==null?void 0:S.rol)==="admin"&&p.jsx(Dr,{title:"Eliminar",eliminar:"true",disabled:g,onClick:j,style:{position:"relative"},children:p.jsx(sm,{})})]})]})}function fN(){const{cliente:t,reparaciones:e,ventas:r,loading:i}=cA(),o=()=>{BE(t,e,r)};return i?p.jsx(hm,{}):p.jsxs(Pn,{maxWidth:1400,children:[p.jsx(Rn,{to:"/clientes/ver"}),p.jsx(Nr,{children:"Ficha del Cliente"}),p.jsxs("div",{style:{position:"relative",width:"100%",display:"flex",flexDirection:"column",background:"transparent",padding:0,marginTop:"0.5rem"},children:[t&&p.jsx(fA,{cliente:t}),p.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem",marginTop:"1rem"},children:p.jsx(KE,{onClick:o,children:"Descargar PDF"})}),p.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"1.5rem"},children:p.jsx("h3",{style:{textAlign:"center",marginBottom:"0.5rem"},children:"Reparaciones"})}),p.jsx(Ul,{style:{overflowX:"scroll",margin:"0",width:"100%"},children:p.jsx("div",{style:{overflowY:"auto",width:"100%",maxWidth:"100vw",maxHeight:"350px"},children:p.jsxs(Fl,{id:"tabla-reparaciones",style:{width:"100%",tableLayout:"fixed",minWidth:"800px"},children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Artculo"}),p.jsx("th",{children:"Descripcin"}),p.jsx("th",{children:"Fecha"}),p.jsx("th",{children:"Fecha Entrega"}),p.jsx("th",{children:"Precio"}),p.jsx("th",{children:"Observaciones"})]})}),p.jsx("tbody",{children:e.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"2rem",fontStyle:"italic",color:"#666"},children:"No hay registros"})}):e.map(s=>p.jsxs("tr",{children:[p.jsx("td",{children:s.articulo}),p.jsx("td",{children:s.descripcion}),p.jsx("td",{children:Is(s.fecha)}),p.jsx("td",{children:Is(s.fechaentrega)}),p.jsx("td",{children:s.precio!=null?`${s.precio} `:"-"}),p.jsx("td",{children:s.observaciones||"-"})]},s.idreparacion))})]})})}),p.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"1.5rem",marginTop:"2rem"},children:p.jsx("h3",{style:{textAlign:"center",marginBottom:"0.5rem"},children:"Historial de Ventas TPV"})}),p.jsx(Ul,{style:{overflowX:"scroll",margin:"0",width:"100%"},children:p.jsx("div",{style:{overflowY:"auto",width:"100%",maxWidth:"100vw",maxHeight:"350px"},children:p.jsxs(Fl,{id:"tabla-ventas",style:{width:"100%",tableLayout:"fixed",minWidth:"900px"},children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Fecha"}),p.jsx("th",{style:{width:"30%"},children:"Productos"}),p.jsx("th",{children:"Pago"}),p.jsx("th",{children:"Subtotal"}),p.jsx("th",{children:"IVA"}),p.jsx("th",{children:"Total"}),p.jsx("th",{children:"Estado"})]})}),p.jsx("tbody",{children:r.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"7",style:{textAlign:"center",padding:"2rem",fontStyle:"italic",color:"#666"},children:"No hay registros"})}):r.map(s=>{var c;return p.jsxs("tr",{children:[p.jsx("td",{children:Is(s.fecha_venta)}),p.jsx("td",{children:p.jsx("div",{children:((c=s.detalles_venta)==null?void 0:c.map((d,f)=>{var h;return p.jsxs("div",{style:{marginBottom:"0.25rem"},children:[p.jsx("span",{style:{fontWeight:"600"},children:((h=d.productos)==null?void 0:h.nombre)||d.nombre_producto||"Producto manual"}),p.jsx("span",{style:{color:"#666",marginLeft:"0.5rem"},children:d.cantidad})]},f)}))||"Sin detalles"})}),p.jsx("td",{style:{textTransform:"capitalize"},children:s.metodo_pago}),p.jsxs("td",{children:["",s.subtotal.toFixed(2)]}),p.jsxs("td",{children:["",s.impuestos.toFixed(2)]}),p.jsxs("td",{style:{fontWeight:"bold",color:"#28a745"},children:["",s.total.toFixed(2)]}),p.jsx("td",{children:p.jsx("span",{style:{backgroundColor:s.estado==="completada"?"#d4edda":"#fff3cd",color:s.estado==="completada"?"#155724":"#856404",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"500"},children:s.estado})})]},s.id)})})]})})})]})]})}function e4({cliente:t,tecnicos:e,tecnico:r,setTecnico:i,precio:o,setPrecio:s,fecha:c,setFecha:d,fechaEntrega:f,setFechaEntrega:h,articulo:g,setArticulo:w,descripcion:S,setDescripcion:b,observaciones:j,setObservaciones:C,mensaje:N,onSubmit:E,loading:R,modoEdicion:B=!1}){return p.jsxs("form",{onSubmit:E,className:"container p-4 rounded-4 shadow-lg bg-white border border-2",style:{maxWidth:480,borderColor:"#a5c4ca"},children:[p.jsxs("div",{className:"row g-3 mb-2",children:[p.jsx("div",{className:"col-12",children:p.jsx("input",{type:"text",className:"form-control form-control-lg rounded-4 bg-light text-secondary",placeholder:"Nombre",value:t.nombre||"",readOnly:!0,style:{fontSize:"0.9rem"}})}),p.jsx("div",{className:"col-12",children:p.jsx("input",{type:"text",className:"form-control form-control-lg rounded-4 bg-light text-secondary",placeholder:"Apellidos",value:t.apellidos||"",readOnly:!0,style:{fontSize:"0.9rem"}})}),p.jsx("div",{className:"col-12",children:p.jsx("input",{type:"text",className:"form-control form-control-lg rounded-4 bg-light text-secondary",placeholder:"Telfono",value:t.telefono||"",readOnly:!0,style:{fontSize:"0.9rem"}})})]}),p.jsxs("div",{className:"row g-3 mb-2",children:[p.jsxs("div",{className:"col-12",children:[p.jsx("label",{className:"form-label fw-semibold",style:{color:"#003459",fontSize:"0.9rem"},children:"Tcnico:"}),p.jsxs("select",{className:"form-select form-select-lg rounded-4",value:r,onChange:z=>i(z.target.value),required:!0,disabled:R,style:{fontSize:"0.9rem"},children:[p.jsx("option",{value:"",children:"Selecciona tcnico"}),e.map(z=>p.jsx("option",{value:z.id,children:z.nombre},z.id))]})]}),p.jsxs("div",{className:"col-12",children:[p.jsx("label",{className:"form-label fw-semibold",style:{color:"#003459",fontSize:"0.9rem"},children:"Precio:"}),p.jsx("input",{type:"number",className:"form-control form-control-lg rounded-4 text-end",placeholder:"Precio ()",value:o,onChange:z=>s(z.target.value),min:"0",step:"0.01",required:!0,disabled:R,style:{fontSize:"0.9rem"}})]})]}),p.jsxs("div",{className:"row g-3 mb-2",children:[p.jsxs("div",{className:"col-6",children:[p.jsx("label",{className:"form-label fw-semibold",style:{color:"#003459",fontSize:"0.9rem"},children:"Fecha:"}),p.jsx("input",{type:"date",className:"form-control form-control-lg rounded-4",required:!0,value:c,onChange:z=>d(z.target.value),disabled:R,style:{fontSize:"0.9rem"}})]}),p.jsxs("div",{className:"col-6",children:[p.jsx("label",{className:"form-label fw-semibold",style:{color:"#003459",fontSize:"0.9rem"},children:"Fecha entrega:"}),p.jsx("input",{type:"date",className:"form-control form-control-lg rounded-4",value:f,onChange:z=>h(z.target.value),disabled:R,style:{fontSize:"0.9rem"}})]})]}),p.jsxs("div",{className:"row g-3 mb-2",children:[p.jsxs("div",{className:"col-12",children:[p.jsx("label",{className:"form-label fw-semibold",style:{color:"#003459",fontSize:"0.9rem"},children:"Artculo:"}),p.jsx("input",{type:"text",className:"form-control form-control-lg rounded-4",placeholder:"Artculo",value:g,onChange:z=>w(z.target.value),required:!0,disabled:R,style:{fontSize:"0.9rem"}})]}),p.jsxs("div",{className:"col-12",children:[p.jsx("label",{className:"form-label fw-semibold",style:{color:"#003459",fontSize:"0.9rem"},children:"Descripcin:"}),p.jsx("input",{type:"text",className:"form-control form-control-lg rounded-4",placeholder:"Descripcin",value:S,onChange:z=>b(z.target.value),required:!0,disabled:R,style:{fontSize:"0.9rem"}})]}),p.jsxs("div",{className:"col-12",children:[p.jsx("label",{className:"form-label fw-semibold",style:{color:"#003459",fontSize:"0.9rem"},children:"Observaciones:"}),p.jsx("textarea",{className:"form-control rounded-4",placeholder:"Observaciones",value:j,onChange:z=>C(z.target.value),rows:3,disabled:R,style:{fontSize:"0.9rem"}})]}),N&&p.jsx("div",{className:`mt-2 fw-semibold ${N.tipo==="ok"?"text-success":"text-danger"}`,children:typeof N=="object"?N.texto:N})]}),p.jsx("div",{className:"d-flex justify-content-center mt-4",children:p.jsxs(Dr,{type:"submit",disabled:R,children:[p.jsx(Rc,{size:16}),p.jsx("span",{children:B?"Guardar cambios":"Guardar"})]})})]})}function hN(t,e=400){const[r,i]=K.useState(t);return K.useEffect(()=>{const o=setTimeout(()=>i(t),e);return()=>clearTimeout(o)},[t,e]),r}function pN(){const[t,e]=K.useState(""),[r,i]=K.useState({id:"",nombre:"",apellidos:"",telefono:"",nif:"",direccion:"",correo:""}),[o,s]=K.useState(()=>new Date().toISOString().slice(0,10)),[c,d]=K.useState(""),[f,h]=K.useState(""),[g,w]=K.useState(""),[S,b]=K.useState(""),[j,C]=K.useState(""),[N,E]=K.useState(""),[R,B]=K.useState([]),[z,Q]=K.useState(!1),[ue,J]=K.useState([]),[se,U]=K.useState({texto:"",tipo:""}),te=hN(t);K.useEffect(()=>{Xe.from("usuarios").select("id, nombre").order("nombre",{ascending:!0}).then(({data:W})=>J(W||[]))},[]),K.useEffect(()=>{if(!te){B([]);return}Q(!0),/^\d+$/.test(te)?Xe.from("clientes").select("*").eq("id",te).then(({data:W,error:oe})=>{if(Q(!1),oe||!W||W.length===0){B([]);return}B(W),(!r.id||r.id!==W[0].id)&&i(W[0])}):Xe.from("clientes").select("*").or(`nombre.ilike.%${te}%,apellidos.ilike.%${te}%,nif.ilike.%${te}%`).order("nombre",{ascending:!0}).then(({data:W,error:oe})=>{if(Q(!1),oe||!W||W.length===0){B([]);return}B(W),!r.id&&W.length===1&&i(W[0])})},[te]);const M=async W=>{if(W.preventDefault(),!r.id||!f||!o||!g.trim()||!S.trim()||N===""||isNaN(Number(N))){U({texto:"Rellena todos los campos obligatorios",tipo:"error"});return}const{data:oe}=await Xe.from("clientes").select("id").eq("id",r.id).single(),{data:ae}=await Xe.from("usuarios").select("id").eq("id",f).single();if(!oe){U({texto:"El cliente seleccionado no existe.",tipo:"error"});return}if(!ae){U({texto:"El tcnico seleccionado no existe.",tipo:"error"});return}const be={idcliente:Number(r.id),idtecnico:Number(f),fecha:o,fechaentrega:c||null,articulo:g.trim(),descripcion:S.trim(),observaciones:j||"",precio:parseFloat(N)},{error:ne}=await Xe.from("reparaciones").insert([be]);ne?U({texto:`Error al guardar la reparacin: ${ne.message}`,tipo:"error"}):(U({texto:"Reparacin guardada correctamente",tipo:"ok"}),i({id:"",nombre:"",apellidos:"",telefono:"",nif:"",direccion:"",correo:""}),e(""),B([]),s(new Date().toISOString().slice(0,10)),d(""),h(""),w(""),b(""),C(""),E(""))};return p.jsxs(Pn,{children:[p.jsx(Rn,{to:"/reparaciones"}),p.jsx(Nr,{children:"Reparaciones"}),p.jsx(XE,{busqueda:t,setBusqueda:e,clientes:R,cliente:r,setCliente:i,loadingClientes:z}),p.jsx(e4,{cliente:r,tecnicos:ue,tecnico:f,setTecnico:h,precio:N,setPrecio:E,fecha:o,setFecha:s,fechaEntrega:c,setFechaEntrega:d,articulo:g,setArticulo:w,descripcion:S,setDescripcion:b,observaciones:j,setObservaciones:C,mensaje:se,onSubmit:M,loading:z,modoEdicion:!1})]})}function gN(){const{id:t}=Kg();$n();const[e,r]=K.useState(null),[i,o]=K.useState([]),[s,c]=K.useState(!0),[d,f]=K.useState(""),[h,g]=K.useState("");K.useEffect(()=>{async function S(){c(!0);const{data:b}=await Xe.from("usuarios").select("id, nombre").order("nombre",{ascending:!0});o(b||[]);const{data:j,error:C}=await Xe.from("reparaciones").select(`
          idreparacion,
          articulo,
          descripcion,
          fecha,
          fechaentrega,
          precio,
          observaciones,
          idtecnico,
          clientes:clientes (
            id,
            nombre,
            apellidos,
            telefono
          )
        `).eq("idreparacion",t).single();if(C||!j){g("No se pudo cargar la reparacin."),c(!1);return}r(j),c(!1)}S()},[t]);const w=async S=>{S.preventDefault(),f(""),g(""),c(!0);const{error:b}=await Xe.from("reparaciones").update({articulo:e.articulo,descripcion:e.descripcion,fecha:e.fecha,fechaentrega:e.fechaentrega||null,precio:e.precio===""?null:parseFloat(e.precio),observaciones:e.observaciones,idtecnico:e.idtecnico}).eq("idreparacion",t);c(!1),b?g("No se pudo guardar la reparacin."):f({texto:"Reparacin actualizada correctamente.",tipo:"ok"})};return s||!e?p.jsxs(Pn,{children:[p.jsx(Nr,{children:"Modificar Reparacin"}),p.jsx("p",{children:s?"Cargando...":"No se encontr la reparacin."})]}):p.jsxs(Pn,{children:[p.jsx(Rn,{to:"/reparaciones/ver"}),p.jsx(Nr,{children:"Modificar Reparacin"}),p.jsx(e4,{cliente:e.clientes||{nombre:"",apellidos:"",telefono:""},tecnicos:i,tecnico:e.idtecnico||"",setTecnico:S=>r(b=>({...b,idtecnico:S})),precio:e.precio||"",setPrecio:S=>r(b=>({...b,precio:S})),fecha:e.fecha?e.fecha.slice(0,10):"",setFecha:S=>r(b=>({...b,fecha:S})),fechaEntrega:e.fechaentrega?e.fechaentrega.slice(0,10):"",setFechaEntrega:S=>r(b=>({...b,fechaentrega:S})),articulo:e.articulo||"",setArticulo:S=>r(b=>({...b,articulo:S})),descripcion:e.descripcion||"",setDescripcion:S=>r(b=>({...b,descripcion:S})),observaciones:e.observaciones||"",setObservaciones:S=>r(b=>({...b,observaciones:S})),mensaje:d||h,onSubmit:w,loading:s,modoEdicion:!1,buttonText:s?"Modificando...":"Modificar"})]})}function mN(){const[t,e]=K.useState([]),[r,i]=K.useState(""),[o,s]=K.useState(!0),[c,d]=K.useState(null),[f,h]=K.useState(!1),g=$n(),w=Bs(j=>j.user);K.useEffect(()=>{async function j(){s(!0);const{data:C}=await Xe.from("reparaciones").select(`
          idreparacion,
          articulo,
          fecha,
          precio,
          clientes:clientes (
            id,
            nombre,
            apellidos
          ),
          tecnico:usuarios (
            id,
            nombre
          )
        `).order("fecha",{ascending:!1});e(C||[]),s(!1)}j()},[]);const S=t.filter(j=>{var C;return(((C=j.clientes)==null?void 0:C.nombre)||"").toLowerCase().includes(r.toLowerCase())}),b=async()=>{c&&(h(!0),await Xe.from("reparaciones").delete().eq("idreparacion",c.idreparacion),e(t.filter(j=>j.idreparacion!==c.idreparacion)),d(null),h(!1))};return p.jsxs(Pn,{children:[p.jsx(Rn,{to:"/reparaciones"}),p.jsx(Nr,{children:"Listado de Reparaciones"}),p.jsx(ep,{soloFiltrar:!0,soloInput:!0,busqueda:r,setBusqueda:i}),p.jsx(Kw,{style:{marginBottom:0,textAlign:"center"},children:p.jsx("p",{children:"Selecciona una reparacin para Editar o Eliminar."})}),p.jsx(Ul,{children:p.jsx("div",{style:{overflowY:"auto",maxHeight:"420px",width:"100%"},children:p.jsxs(Fl,{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Cliente"}),p.jsx("th",{children:"Artculo"}),p.jsx("th",{children:"Precio"}),p.jsx("th",{children:"Tcnico"}),p.jsx("th",{children:"Fecha"})]})}),p.jsxs("tbody",{children:[o&&p.jsx("tr",{children:p.jsx("td",{colSpan:5,style:{textAlign:"center"},children:"Cargando..."})}),!o&&S.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:5,style:{textAlign:"center",color:"#607074"},children:"No hay reparaciones registradas."})}),S.map(j=>p.jsxs("tr",{style:{cursor:"pointer",background:(c==null?void 0:c.idreparacion)===j.idreparacion?"#e6f0f3":"white"},onClick:()=>d(j),children:[p.jsx("td",{children:j.clientes?`${j.clientes.nombre} ${j.clientes.apellidos||""}`:"-"}),p.jsx("td",{children:j.articulo}),p.jsx("td",{style:{textAlign:"right"},children:j.precio?`${j.precio} `:"-"}),p.jsx("td",{style:{textAlign:"center"},children:j.tecnico?j.tecnico.nombre:"-"}),p.jsx("td",{children:j.fecha?new Date(j.fecha).toLocaleDateString():"-"})]},j.idreparacion))]})]})})}),c&&p.jsxs(Z7,{children:[((w==null?void 0:w.rol)==="admin"||(w==null?void 0:w.rol)==="encargado")&&p.jsx(Dr,{title:"Editar",onClick:()=>g(`/reparaciones/mod/${c.idreparacion}`),style:{position:"relative"},children:p.jsx(Z0,{})}),(w==null?void 0:w.rol)==="admin"&&p.jsx(Dr,{title:"Eliminar",eliminar:"true",disabled:f,onClick:b,style:{position:"relative"},children:p.jsx(sm,{})})]})]})}function vN(t){return $t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(t)}function bN(t){return $t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function yN(t){return $t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function xN(t){return $t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function wN(t){return $t({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function SN(){var je;const t=cn.useRef(null),e=cn.useRef(null),[r,i]=K.useState(0),[o,s]=K.useState(!1),[c,d]=K.useState(!1),[f,h]=K.useState(""),[g,w]=K.useState([]),[S,b]=K.useState("Cliente General"),[j,C]=K.useState([]),[N,E]=K.useState(""),[R,B]=K.useState(!1),[z,Q]=K.useState(""),[ue,J]=K.useState(!1),se=()=>{E(""),B(!1),Q(""),J(!1)},U=eA(),te=tA(se),M=oA();K.useEffect(()=>{async function O(){const{data:ie}=await Xe.from("clientes").select("id, nombre, nif, telefono").order("nombre",{ascending:!0});w(ie||[]);const{data:L,error:H}=await Xe.from("productos").select("id, codigo, nombre, precio, iva, activo").order("nombre",{ascending:!0});H&&console.error("Error al cargar productos:",H),console.log("=== DATOS DE BASE DE DATOS ==="),console.log("Total productos cargados:",(L==null?void 0:L.length)||0),console.log("Primeros 3 productos completos:",L==null?void 0:L.slice(0,3)),L==null||L.forEach(($,re)=>{console.log(`Producto ${re+1}: ID=${$.id}, Cdigo="${$.codigo}", Nombre="${$.nombre}"`)});const Y=(L==null?void 0:L.filter($=>$.codigo&&$.codigo.trim()!==""))||[];console.log("Productos con cdigo vlido:",Y.length),console.log("=============================="),C(L||[])}O()},[]),K.useEffect(()=>{o&&t.current&&(t.current.focus(),t.current.setSelectionRange(t.current.value.length,t.current.value.length))},[o]),K.useEffect(()=>{c&&e.current&&(e.current.focus(),e.current.setSelectionRange(e.current.value.length,e.current.value.length))},[c]),K.useEffect(()=>{const O=ie=>{(R||ue)&&!ie.target.closest(".input-group")&&(B(!1),J(!1))};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[R,ue]);const W=S&&g&&S.trim().length>0?g.filter(O=>{const ie=O.nombre||"",L=O.nif||"",H=O.telefono||"",Y=S.toLowerCase();return ie.toLowerCase().includes(Y)||L.toLowerCase().includes(Y)||H.toLowerCase().includes(Y)}):[],oe=N&&j&&N.trim().length>0?j.filter(O=>{const ie=O.nombre||"",L=N.toLowerCase();return ie.toLowerCase().includes(L)}):[],ae=z&&j&&z.trim().length>0?j.filter(O=>{console.log("=== ANLISIS INDIVIDUAL PRODUCTO ==="),console.log(`ID: ${O.id}`),console.log("Cdigo raw:",O.codigo),console.log("Cdigo type:",typeof O.codigo),console.log("Cdigo length:",O.codigo?O.codigo.length:"null/undefined"),console.log("Nombre:",O.nombre),console.log("Objeto completo:",O);const ie=O.codigo||"";if(console.log("Cdigo despus de || '':",ie),console.log("Est vaco?:",!ie||ie.trim()===""),!ie||ie.trim()==="")return console.log(" RECHAZADO: Cdigo vaco o nulo"),!1;const L=z.toLowerCase().trim(),H=ie.toLowerCase().trim();console.log(`Bsqueda procesada: "${L}"`),console.log(`Cdigo procesado: "${H}"`);const Y=H.includes(L);return console.log(`Coincide "${H}".includes("${L}")? ${Y}`),console.log(Y?` ENCONTRADO: ${H} contiene ${L} (${O.nombre})`:` NO COINCIDE: ${H} no contiene ${L}`),console.log("=== FIN ANLISIS ==="),Y}):[];z&&console.log(`Bsqueda '${z}' encontr ${ae.length} productos`);const be=O=>{te.setNuevoProducto({...te.nuevoProducto,id:O.id,codigo:O.codigo||"",nombre:O.nombre,precio:O.precio||"",iva:O.iva||"21"}),E(""),B(!1),Q(O.codigo||""),J(!1)},ne=()=>{te.limpiarProductos(),i(0),h(""),b("Cliente General"),E(""),B(!1),Q(""),J(!1),U.limpiarCalculadora()},he=()=>{const O=f?g.find(L=>L.id===f):null,ie={productos:te.productos,totales:Bv(te.productos,r),cliente:O?{id:O.id,nombre:O.nombre,nif:O.nif,telefono:O.telefono}:null,descuentoGeneral:r};M.confirmarVenta(ie,ne)},ce=Bv(te.productos,r);return p.jsxs(Pn,{maxWidth:1600,children:[p.jsx(Rn,{to:"/tpv"}),p.jsx("style",{children:`
        .tpv-caja-header {
          padding-left: 120px;
        }
        
        @media (max-width: 768px) {
          .tpv-caja-header {
            padding-left: 20px !important;
            margin-top: 1rem !important;
          }
        }
        
        @media (max-width: 480px) {
          .tpv-caja-header {
            padding-left: 10px !important;
            margin-top: 1.5rem !important;
          }
        }
        
        /* Control de visibilidad de calculadoras */
        .calculadora-desplegable {
          display: block;
        }
        
        @media (max-width: 1200px) {
          .calculadora-desplegable {
            display: none !important;
          }
        }
      `}),p.jsx("div",{className:"tpv-caja-header",children:p.jsx(Nr,{children:"Terminal Punto de Venta"})}),p.jsxs(Uj,{children:[p.jsxs(Fj,{children:[p.jsxs(qj,{children:[p.jsx(Iu,{children:"Agregar Producto"}),p.jsxs(Gj,{onSubmit:te.agregarProducto,onKeyDown:O=>{O.key==="Enter"&&te.nuevoProducto.nombre&&te.nuevoProducto.precio&&(O.preventDefault(),te.agregarProducto(O))},children:[p.jsxs("div",{className:"input-group",style:{position:"relative"},children:[p.jsx("div",{className:"input-header",children:"Cdigo"}),p.jsx(Yo,{type:"text",value:z,onChange:O=>{const ie=O.target.value;Q(ie),J(ie.length>0)},onKeyDown:O=>{O.key==="Enter"&&(O.preventDefault(),(ae.length===1||ae.length>1)&&be(ae[0]))},placeholder:"Ej: 0001, 0002..."}),ue&&z.length>0&&p.jsx("div",{style:{position:"absolute",top:"100%",left:0,width:"350px",minWidth:"250px",maxWidth:"95vw",maxHeight:"180px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"white",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.13)",zIndex:1e3,padding:"0.2rem"},children:ae.length>0?ae.map(O=>p.jsxs("div",{onClick:()=>be(O),style:{padding:"0.5rem",cursor:"pointer",borderBottom:"1px solid #eee",fontSize:"0.75rem",fontWeight:"500"},onMouseEnter:ie=>ie.target.style.backgroundColor="#f0f8ff",onMouseLeave:ie=>ie.target.style.backgroundColor="white",children:[p.jsx("div",{style:{fontWeight:"bold",color:"rgb(14, 41, 61)"},children:R1(O)}),p.jsx("div",{children:O.nombre}),p.jsxs("div",{style:{fontSize:"0.65rem",color:"#666"},children:["",O.precio.toFixed(2)]})]},O.id)):p.jsxs("div",{style:{padding:"0.75rem",fontSize:"0.75rem",color:"#856404",backgroundColor:"#fff3cd",textAlign:"center",fontStyle:"italic"},children:['No se encontraron productos con cdigo "',z,'".',p.jsx("br",{}),p.jsx("small",{children:"Los productos necesitan tener cdigos asignados para aparecer aqu."})]})})]}),p.jsxs("div",{className:"input-group",style:{position:"relative"},children:[p.jsx("div",{className:"input-header",children:"Producto"}),p.jsx(Yo,{type:"text",value:te.nuevoProducto.nombre,onChange:O=>{const ie=O.target.value;te.setNuevoProducto({...te.nuevoProducto,nombre:ie}),E(ie),B(ie.length>0)},placeholder:"Escribir o buscar producto existente",required:!0}),R&&N.length>0&&oe.length>0&&p.jsx("div",{style:{position:"absolute",top:"100%",left:0,width:"350px",minWidth:"250px",maxWidth:"95vw",maxHeight:"180px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"white",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.13)",zIndex:1e3,padding:"0.2rem"},children:oe.map(O=>p.jsxs("div",{onClick:()=>be(O),style:{padding:"0.5rem",cursor:"pointer",borderBottom:"1px solid #eee",fontSize:"0.75rem",fontWeight:"500"},onMouseEnter:ie=>ie.target.style.backgroundColor="#f0f8ff",onMouseLeave:ie=>ie.target.style.backgroundColor="white",children:[p.jsx("div",{style:{fontWeight:"bold",color:"rgb(14, 41, 61)"},children:R1(O)}),p.jsx("div",{children:O.nombre}),p.jsxs("div",{style:{fontSize:"0.65rem",color:"#666"},children:["",O.precio.toFixed(2)]})]},O.id))})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("div",{className:"input-header",children:"Precio"}),p.jsx(Yo,{type:"number",value:te.nuevoProducto.precio,onChange:O=>te.setNuevoProducto({...te.nuevoProducto,precio:O.target.value}),placeholder:"0.00",step:"0.01",required:!0})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("div",{className:"input-header",children:"Uds."}),p.jsx(Yo,{type:"number",value:te.nuevoProducto.cantidad,onChange:O=>te.setNuevoProducto({...te.nuevoProducto,cantidad:O.target.value}),placeholder:"1",step:"1"})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("div",{className:"input-header",children:"IVA %"}),p.jsx(Yo,{type:"number",value:te.nuevoProducto.iva,onChange:O=>te.setNuevoProducto({...te.nuevoProducto,iva:O.target.value}),placeholder:"21"})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("div",{className:"input-header",children:"Desc. %"}),p.jsx(Yo,{type:"number",value:te.nuevoProducto.descuento,onChange:O=>te.setNuevoProducto({...te.nuevoProducto,descuento:O.target.value}),placeholder:"0"})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("div",{className:"input-header",children:"IVA Inc."}),p.jsx(Ov,{children:p.jsx(Tv,{type:"checkbox",checked:te.nuevoProducto.ivaIncluido,onChange:O=>te.setNuevoProducto({...te.nuevoProducto,ivaIncluido:O.target.checked})})})]}),p.jsxs("div",{className:"input-group",children:[p.jsx("div",{className:"input-header",children:"Accin"}),p.jsx(D0,{type:"submit",title:"Agregar producto",disabled:!te.nuevoProducto.nombre||!te.nuevoProducto.precio,children:p.jsx(T0,{style:{fontSize:"1.3rem",color:!te.nuevoProducto.nombre||!te.nuevoProducto.precio?"#607074":"#007bff",paddingTop:"4px"}})})]})]}),p.jsx(Iu,{style:{marginTop:"0.5rem"},children:"Lneas de Venta"}),p.jsxs(r7,{children:[p.jsx(Tl,{children:"Cdigo"}),p.jsx(Tl,{children:"Producto"}),p.jsx(Tl,{children:"Precio"}),p.jsx(Tl,{children:"Uds."}),p.jsx(Tl,{children:"IVA %"}),p.jsx(Tl,{children:"Desc. %"}),p.jsx(Tl,{children:"IVA Inc."}),p.jsx(Tl,{children:"Accin"})]}),p.jsx(Hj,{children:te.productos.map(O=>p.jsxs($j,{children:[p.jsx("div",{style:{fontFamily:"monospace",fontSize:"0.75rem",fontWeight:"bold",color:"#007bff",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:R1(O)}),p.jsx(Wj,{children:O.nombre}),p.jsx(Yo,{type:"number",value:O.precio,onChange:ie=>te.actualizarProducto(O.id,"precio",ie.target.value),placeholder:"0.00",step:"0.01",className:"precio"}),p.jsx(Yo,{type:"number",value:O.cantidad,onChange:ie=>te.actualizarProducto(O.id,"cantidad",ie.target.value),placeholder:"1",step:"1"}),p.jsx(Yo,{type:"number",value:O.iva,onChange:ie=>te.actualizarProducto(O.id,"iva",ie.target.value),placeholder:"21",className:"iva"}),p.jsx(Yo,{type:"number",value:O.descuento,onChange:ie=>te.actualizarProducto(O.id,"descuento",ie.target.value),placeholder:"0",className:"descuento"}),p.jsx(Ov,{children:p.jsx(Tv,{type:"checkbox",checked:O.ivaIncluido!==!1,onChange:ie=>te.actualizarProducto(O.id,"ivaIncluido",ie.target.checked)})}),p.jsx(D0,{eliminar:!0,onClick:()=>te.eliminarProducto(O.id),title:"Eliminar lnea",children:p.jsx(l_,{style:{fontSize:"1.3rem",paddingTop:"4px"}})})]},O.id))})]}),p.jsxs(Vj,{children:[p.jsxs(Nv,{style:{marginBottom:"1rem"},children:[p.jsx(Iu,{children:"Cliente"}),p.jsxs("div",{className:"input-group",style:{position:"relative",marginBottom:"0.5rem"},children:[p.jsx("div",{className:"input-header",children:"Buscar cliente"}),p.jsx("input",{type:"text",value:S,onChange:O=>{const ie=O.target.value;b(ie),ie===""&&(h(""),b("Cliente General"))},onFocus:()=>{S==="Cliente General"&&b("")},placeholder:"Buscar cliente por nombre, NIF o telfono...",style:{border:"1px solid #ddd",borderRadius:"3px",padding:"0.15rem 0.2rem",fontSize:"0.75rem",width:"100%",minHeight:"26px",boxSizing:"border-box",backgroundColor:"white"}}),S&&S!=="Cliente General"&&S.length>0&&!f&&W.length>0&&p.jsx("div",{style:{position:"absolute",top:"100%",left:0,width:"100%",minWidth:"180px",maxWidth:"100%",maxHeight:"180px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"white",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.13)",zIndex:1e3,padding:"0.2rem"},children:W.map(O=>p.jsxs("div",{onClick:()=>{h(O.id),b(O.nombre),setTimeout(()=>{document.activeElement.blur()},0)},style:{padding:"0.5rem",cursor:"pointer",borderBottom:"1px solid #eee",fontSize:"0.75rem",fontWeight:"500"},onMouseEnter:ie=>ie.target.style.backgroundColor="#f0f8ff",onMouseLeave:ie=>ie.target.style.backgroundColor="white",children:[p.jsx("div",{style:{fontWeight:"bold",color:"rgb(14, 41, 61)"},children:O.nombre}),p.jsxs("div",{children:[O.nif||"Sin NIF","  ",O.telefono||"Sin telfono"]})]},O.id))}),S&&S!=="Cliente General"&&S.length>0&&!f&&W.length===0&&p.jsxs("div",{style:{padding:"0.75rem",fontSize:"0.75rem",color:"#856404",backgroundColor:"#fff3cd",textAlign:"center",fontStyle:"italic"},children:['No se encontraron clientes con "',S,'".']}),f&&S&&S!=="Cliente General"&&p.jsxs("div",{style:{padding:"0.5rem",backgroundColor:"#f0f8ff",borderRadius:"4px",fontSize:"0.9rem",color:"#0066cc",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("span",{children:" Cliente seleccionado"}),p.jsx("button",{onClick:()=>{h(""),b("")},style:{background:"none",border:"none",color:"#dc3545",cursor:"pointer",fontSize:"0.9rem"},children:"Limpiar"})]})]})]}),p.jsxs(Nv,{children:[p.jsx(Iu,{children:"Resumen de Venta"}),p.jsxs(Zj,{children:[p.jsx("label",{children:"Descuento:"}),p.jsx("input",{type:"number",value:r,onChange:O=>i(parseFloat(O.target.value)||0),placeholder:"0",step:"0.1",min:"0",max:"100"}),p.jsx("span",{children:"%"})]}),p.jsxs(Wh,{children:[p.jsx("span",{children:"Subtotal:"}),p.jsxs("span",{children:["",ce.subtotal.toFixed(2)]})]}),p.jsxs(Wh,{children:[p.jsx("span",{children:"Descuentos:"}),p.jsxs("span",{children:["-",ce.totalDescuentos.toFixed(2)]})]}),p.jsxs(Wh,{children:[p.jsx("span",{children:"IVA:"}),p.jsxs("span",{children:["",ce.totalIva.toFixed(2)]})]}),p.jsxs(Wh,{className:"total-final",children:[p.jsx("span",{children:"TOTAL:"}),p.jsxs("span",{children:["",ce.total.toFixed(2)]})]})]}),p.jsxs(Jj,{children:[p.jsx(Gh,{cobrar:!0,onClick:()=>M.procesarVenta(te.productos),disabled:te.productos.length===0,children:M.procesandoVenta?"Procesando...":`Finalizar venta ${ce.total.toFixed(2)}`}),p.jsx(Gh,{limpiar:!0,onClick:ne,children:"Limpiar"})]}),p.jsxs("div",{className:"calculadora-desplegable",children:[p.jsxs(Yj,{onClick:()=>s(!o),children:[p.jsx(Iu,{children:"Calculadora"}),o?p.jsx(xN,{}):p.jsx(yN,{})]}),o&&p.jsxs(Lv,{children:[p.jsx("div",{style:{gridColumn:"1 / -1",marginBottom:"0.5rem"},children:p.jsx("input",{ref:t,value:U.calculadora,style:{width:"100%",background:"transparent",border:"none",fontSize:"1.3rem",fontWeight:"bold",color:"#232728",textAlign:"right",outline:"none"},onChange:()=>{},onKeyDown:O=>{O.key>="0"&&O.key<="9"&&U.inputDigito(Number(O.key)),(O.key==="+"||O.key==="-")&&U.inputOperador(O.key),(O.key==="*"||O.key==="x"||O.key==="X")&&U.inputOperador(""),(O.key==="/"||O.key===":")&&U.inputOperador(""),(O.key==="."||O.key===",")&&U.inputDecimal(),(O.key==="Enter"||O.key==="=")&&U.ejecutarCalculo(),O.key==="Backspace"&&U.setCalculadora(U.calculadora.slice(0,-1)||"0"),(O.key==="c"||O.key==="C")&&U.limpiarCalculadora(),O.preventDefault()}})}),p.jsx(nr,{clear:!0,onClick:U.limpiarCalculadora,children:"C"}),p.jsx(nr,{onClick:()=>U.inputOperador(""),children:""}),p.jsx(nr,{onClick:()=>U.inputOperador(""),children:""}),p.jsx(nr,{onClick:()=>U.setCalculadora(U.calculadora.slice(0,-1)||"0"),children:""}),p.jsx(nr,{onClick:()=>U.inputDigito(7),children:"7"}),p.jsx(nr,{onClick:()=>U.inputDigito(8),children:"8"}),p.jsx(nr,{onClick:()=>U.inputDigito(9),children:"9"}),p.jsx(nr,{operator:!0,onClick:()=>U.inputOperador("-"),children:"-"}),p.jsx(nr,{onClick:()=>U.inputDigito(4),children:"4"}),p.jsx(nr,{onClick:()=>U.inputDigito(5),children:"5"}),p.jsx(nr,{onClick:()=>U.inputDigito(6),children:"6"}),p.jsx(nr,{operator:!0,onClick:()=>U.inputOperador("+"),children:"+"}),p.jsx(nr,{onClick:()=>U.inputDigito(1),children:"1"}),p.jsx(nr,{onClick:()=>U.inputDigito(2),children:"2"}),p.jsx(nr,{onClick:()=>U.inputDigito(3),children:"3"}),p.jsx(nr,{equals:!0,onClick:U.ejecutarCalculo,style:{gridRow:"span 2"},children:"="}),p.jsx(nr,{onClick:()=>U.inputDigito(0),style:{gridColumn:"span 2"},children:"0"}),p.jsx(nr,{onClick:U.inputDecimal,children:"."})]})]})]})]}),M.mostrarVentaModal&&p.jsx(Qj,{onClick:M.cancelarVenta,children:p.jsxs(e7,{onClick:O=>O.stopPropagation(),children:[p.jsx("h3",{children:"Confirmar Venta"}),p.jsxs("div",{className:"total",children:["",ce.total.toFixed(2)]}),p.jsxs(t7,{children:[p.jsx("label",{children:"Mtodo de Pago:"}),p.jsxs("select",{value:M.metodoPago,onChange:O=>M.setMetodoPago(O.target.value),children:[p.jsx("option",{value:"efectivo",children:"Efectivo"}),p.jsx("option",{value:"tarjeta",children:"Tarjeta"}),p.jsx("option",{value:"transferencia",children:"Transferencia"}),p.jsx("option",{value:"mixto",children:"Pago Mixto"})]})]}),p.jsxs("div",{children:[f&&p.jsxs("p",{children:[p.jsx("strong",{children:"Cliente:"})," ",((je=g.find(O=>O.id===f))==null?void 0:je.nombre)||"Cliente General"]}),p.jsxs("p",{children:[te.productos.length," productos"]}),p.jsxs("p",{children:["IVA: ",ce.totalIva.toFixed(2)]}),ce.totalDescuentos>0&&p.jsxs("p",{children:["Descuentos aplicados: ",ce.totalDescuentos.toFixed(2)]})]}),p.jsxs("div",{className:"acciones",children:[p.jsx(Gh,{onClick:M.cancelarVenta,children:"Cancelar"}),p.jsx(Gh,{cobrar:!0,onClick:he,disabled:M.procesandoVenta,children:M.procesandoVenta?"Procesando...":"Confirmar Venta"})]})]})}),p.jsx(Kj,{onClick:()=>d(!c),children:p.jsx(vN,{})}),p.jsxs(Xj,{open:c,children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[p.jsx(Iu,{style:{margin:0,fontSize:"0.9rem"},children:"Calculadora"}),p.jsx("button",{onClick:()=>d(!1),style:{background:"none",border:"none",fontSize:"1rem",cursor:"pointer"},children:""})]}),p.jsxs(Lv,{children:[p.jsx("div",{style:{gridColumn:"1 / -1",marginBottom:"0.5rem"},children:p.jsx("input",{ref:e,value:U.calculadora,style:{width:"100%",background:"transparent",border:"none",fontSize:"1.3rem",fontWeight:"bold",color:"#232728",textAlign:"right",outline:"none"},onChange:()=>{},onKeyDown:O=>{O.key>="0"&&O.key<="9"&&U.inputDigito(Number(O.key)),(O.key==="+"||O.key==="-")&&U.inputOperador(O.key),(O.key==="*"||O.key==="x"||O.key==="X")&&U.inputOperador(""),(O.key==="/"||O.key===":")&&U.inputOperador(""),(O.key==="."||O.key===",")&&U.inputDecimal(),(O.key==="Enter"||O.key==="=")&&U.ejecutarCalculo(),O.key==="Backspace"&&U.setCalculadora(U.calculadora.slice(0,-1)||"0"),(O.key==="c"||O.key==="C")&&U.limpiarCalculadora(),O.preventDefault()}})}),p.jsx(nr,{clear:!0,onClick:U.limpiarCalculadora,children:"C"}),p.jsx(nr,{onClick:()=>U.inputOperador(""),children:""}),p.jsx(nr,{onClick:()=>U.inputOperador(""),children:""}),p.jsx(nr,{onClick:()=>U.setCalculadora(U.calculadora.slice(0,-1)||"0"),children:""}),p.jsx(nr,{onClick:()=>U.inputDigito(7),children:"7"}),p.jsx(nr,{onClick:()=>U.inputDigito(8),children:"8"}),p.jsx(nr,{onClick:()=>U.inputDigito(9),children:"9"}),p.jsx(nr,{operator:!0,onClick:()=>U.inputOperador("-"),children:"-"}),p.jsx(nr,{onClick:()=>U.inputDigito(4),children:"4"}),p.jsx(nr,{onClick:()=>U.inputDigito(5),children:"5"}),p.jsx(nr,{onClick:()=>U.inputDigito(6),children:"6"}),p.jsx(nr,{operator:!0,onClick:()=>U.inputOperador("+"),children:"+"}),p.jsx(nr,{onClick:()=>U.inputDigito(1),children:"1"}),p.jsx(nr,{onClick:()=>U.inputDigito(2),children:"2"}),p.jsx(nr,{onClick:()=>U.inputDigito(3),children:"3"}),p.jsx(nr,{equals:!0,onClick:U.ejecutarCalculo,style:{gridRow:"span 2"},children:"="}),p.jsx(nr,{onClick:()=>U.inputDigito(0),style:{gridColumn:"span 2"},children:"0"}),p.jsx(nr,{onClick:U.inputDecimal,children:"."})]})]}),M.mostrarModalExito&&p.jsx(Zu,{onClick:M.cerrarModalExito,children:p.jsxs(Ju,{onClick:O=>O.stopPropagation(),children:[p.jsx(Qu,{className:"success",children:p.jsx(bN,{className:"icon"})}),p.jsx(ed,{children:M.mensajeModal}),p.jsx(Nc,{onClick:M.cerrarModalExito,children:"Aceptar"})]})}),M.mostrarModalError&&p.jsx(Zu,{onClick:M.cerrarModalError,children:p.jsxs(Ju,{onClick:O=>O.stopPropagation(),children:[p.jsx(Qu,{className:"error",children:p.jsx(wN,{className:"icon"})}),p.jsx(ed,{children:M.mensajeModal}),p.jsx(Nc,{error:!0,onClick:M.cerrarModalError,children:"Aceptar"})]})})]})]})}const _N=fe.div`
  position: relative;
  width: 100%;
  height: auto;
  max-height: 65vh;
  background: transparent;
  padding: 0;
  margin-top: 0.5rem;
  overflow: visible;
`;fe.div`
  background: white;
  border-radius: 6px;
  padding: 1rem;
  margin-bottom: 1rem;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
`;fe.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  align-items: end;
`;fe.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;

  label {
    font-weight: 500;
    color: #333;
    font-size: 0.9rem;
  }
`;const a0=fe.input`
  border: 1px solid #ddd;
  border-radius: 6px;
  padding: 0.75rem;
  font-size: 1rem;

  &:focus {
    outline: none;
    border-color: ${jt};
  }
`,jN=fe.select`
  border: 1px solid #ddd;
  border-radius: 6px;
  padding: 0.75rem;
  font-size: 1rem;
  background: white;

  &:focus {
    outline: none;
    border-color: ${jt};
  }
`;fe.div`
  display: grid;
  gap: 1rem;
`;fe.div`
  background: white;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  border-left: 4px solid ${jt};
`;fe.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 1rem;
`;fe.div`
  .numero {
    font-size: 1.2rem;
    font-weight: bold;
    color: ${jt};
  }
  .fecha {
    color: #666;
    font-size: 0.9rem;
  }
`;fe.div`
  text-align: right;
  .total {
    font-size: 1.3rem;
    font-weight: bold;
    color: #28a745;
  }
  .metodo {
    color: #666;
    font-size: 0.85rem;
  }
`;fe.div`
  margin: 1rem 0;
  padding-top: 1rem;
  border-top: 1px solid #eee;
`;fe.div`
  display: flex;
  justify-content: space-between;
  padding: 0.25rem 0;
  font-size: 0.9rem;

  .nombre {
    flex: 1;
  }
  .cantidad {
    width: 60px;
    text-align: center;
    color: #666;
  }
  .precio {
    width: 80px;
    text-align: right;
    font-weight: 500;
  }
`;fe.div`
  display: flex;
  gap: 0.5rem;
  justify-content: flex-end;
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid #eee;
`;fe.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 0.5rem;
  margin-bottom: 1rem;
`;fe.div`
  background: white;
  border-radius: 6px;
  padding: 0.75rem;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
  text-align: center;
  border-top: 3px solid ${jt};

  .numero {
    font-size: 1.3rem;
    font-weight: bold;
    color: ${jt};
    margin-bottom: 0.25rem;
  }

  .label {
    color: #666;
    font-size: 0.9rem;
    font-weight: 500;
  }
`;const AN=fe.div`
  text-align: center;
  padding: 3rem 1rem;
  color: #666;
  font-style: italic;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
`;function CN(){const{ventas:t,filtros:e,estadisticas:r,loading:i,actualizarFiltros:o}=uA(),{configuracion:s}=xd(),[c,d]=K.useState(null),[f,h]=K.useState(!1),g=b=>{d(b),h(!0)},w=()=>{h(!1),d(null)},S=async b=>{const j=new ct({orientation:"portrait",unit:"pt",format:"a4"}),C=40,N=40,E=595;let R=40;const B=s.logo_url||Yw,z=new window.Image;z.src=B,await new Promise(ce=>{z.onload=ce});const Q=80,ue=60,J=z.width/z.height;let se,U;J>Q/ue?(se=Q,U=Q/J):(U=ue,se=ue*J),j.addImage(z,"PNG",C,R,se,U),R+=70,j.setFontSize(16),j.setFont("helvetica","bold"),j.text("FACTURA DE VENTA",C,R);let te=null;if(b.cliente_id&&b.cliente!=="Cliente General")try{const{data:ce,error:je}=await Xe.from("clientes").select("nombre, apellidos, nif, telefono, direccion, correo").eq("id",b.cliente_id).single();!je&&ce&&(te=ce)}catch(ce){console.error("Error obteniendo datos del cliente:",ce)}else b.cliente&&b.cliente!=="Cliente General"&&typeof b.cliente=="object"&&(te=b.cliente);R+=30;const M=C,W=te?250:350,oe=E-N-250,ae=240,be=te?120:100;if(j.setDrawColor(165,196,202),j.setLineWidth(1),j.rect(M,R,W,be),j.setFillColor(250,252,253),j.rect(M,R,W,be,"F"),j.rect(M,R,W,be),j.setFontSize(12),j.setFont("helvetica","bold"),j.setTextColor(0,52,89),j.text("Informacin de la Venta",M+10,R+15),j.setFont("helvetica","normal"),j.setFontSize(10),j.setTextColor(60,60,60),j.text(`Nmero de Venta: ${b.numero}`,M+10,R+30),j.text(`Fecha: ${Is(b.fecha)}`,M+10,R+45),j.text(`Cliente: ${typeof b.cliente=="object"?`${b.cliente.nombre} ${b.cliente.apellidos||""}`:b.cliente||"Cliente General"}`,M+10,R+60),j.text(`Mtodo de Pago: ${P1(b.metodoPago)}`,M+10,R+75),te&&(j.setDrawColor(165,196,202),j.setLineWidth(1),j.rect(oe,R,ae,be),j.setFillColor(245,250,252),j.rect(oe,R,ae,be,"F"),j.rect(oe,R,ae,be),j.setFontSize(12),j.setFont("helvetica","bold"),j.setTextColor(0,52,89),j.text("Datos del Cliente",oe+10,R+15),j.setFont("helvetica","normal"),j.setFontSize(10),j.setTextColor(60,60,60),j.text(`Nombre: ${te.nombre||""} ${te.apellidos||""}`,oe+10,R+30),te.nif&&j.text(`NIF: ${te.nif}`,oe+10,R+45),te.telefono&&j.text(`Telfono: ${te.telefono}`,oe+10,R+60),te.correo&&j.text(`Correo: ${te.correo}`,oe+10,R+75),te.direccion)){const ce=j.splitTextToSize(`Direccin: ${te.direccion}`,220);j.text(ce,oe+10,R+90)}R+=be+20,j.setTextColor(0,0,0),$g(j,{startY:R,margin:{left:C,right:N},theme:"grid",minCellHeight:20,head:[["Producto","Cantidad","Precio Unitario","Total"]],body:b.productos.map(ce=>[ce.nombre,ce.cantidad.toString(),`${ce.precio.toFixed(2)}`,`${(ce.precio*ce.cantidad).toFixed(2)}`]),foot:[["","","Subtotal:",`${b.subtotal.toFixed(2)}`],["","","IVA:",`${b.iva.toFixed(2)}`],["","","TOTAL:",`${b.total.toFixed(2)}`]],styles:{fontSize:8,cellPadding:{top:3,right:6,bottom:3,left:6},lineWidth:.5,lineColor:[255,255,255],overflow:"linebreak",valign:"middle"},headStyles:{fillColor:[165,196,202],textColor:[0,52,89],halign:"center",fontStyle:"bold"},footStyles:{fillColor:[165,196,202],textColor:[0,52,89],fontStyle:"bold",halign:"right"},didParseCell:function(ce){ce.section==="foot"&&(ce.column.index===0||ce.column.index===1)&&(ce.cell.styles.fillColor=[255,255,255])},columnStyles:{0:{halign:"left"},1:{cellWidth:80,halign:"center"},2:{cellWidth:100,halign:"right"},3:{cellWidth:100,halign:"right"}}});const he=842-40;j.setFontSize(9),j.setFont("helvetica","normal"),j.setTextColor(100,100,100),j.text("Gracias por su compra",C,he-15),j.text(s.mensaje_footer||"TechnoFix - Sistema de Gestin",C,he),j.save(`factura_venta_${b.numero}_${b.fecha}.pdf`)};return p.jsxs(Pn,{maxWidth:1400,children:[p.jsx(Rn,{to:"/tpv"}),p.jsx("style",{children:`
        .tpv-facturacion-header {
          padding-left: 120px;
        }
        
        @media (max-width: 768px) {
          .tpv-facturacion-header {
            padding-left: 20px !important;
            margin-top: 1rem !important;
          }
        }
        
        @media (max-width: 480px) {
          .tpv-facturacion-header {
            padding-left: 10px !important;
            margin-top: 1.5rem !important;
          }
        }
      `}),p.jsx("div",{className:"tpv-facturacion-header",children:p.jsx(Nr,{children:"Historial de Ventas"})}),p.jsxs(_N,{children:[p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"0.5rem",marginBottom:"0.75rem"},children:[p.jsxs("div",{style:{background:"white",borderRadius:"6px",padding:"0.5rem",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",textAlign:"center",borderTop:`2px solid ${jt}`},children:[p.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:jt,marginBottom:"0.15rem"},children:r.totalVentas}),p.jsx("div",{style:{color:"#666",fontSize:"0.7rem",fontWeight:"500"},children:"Total Ventas"})]}),p.jsxs("div",{style:{background:"white",borderRadius:"6px",padding:"0.5rem",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",textAlign:"center",borderTop:`2px solid ${jt}`},children:[p.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:jt,marginBottom:"0.15rem"},children:["",r.importeTotal.toFixed(2)]}),p.jsx("div",{style:{color:"#666",fontSize:"0.7rem",fontWeight:"500"},children:"Importe Total"})]}),p.jsxs("div",{style:{background:"white",borderRadius:"6px",padding:"0.5rem",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",textAlign:"center",borderTop:`2px solid ${jt}`},children:[p.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:jt,marginBottom:"0.15rem"},children:["",r.ticketPromedio.toFixed(2)]}),p.jsx("div",{style:{color:"#666",fontSize:"0.7rem",fontWeight:"500"},children:"Ticket Promedio"})]}),p.jsxs("div",{style:{background:"white",borderRadius:"6px",padding:"0.5rem",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",textAlign:"center",borderTop:`2px solid ${jt}`},children:[p.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:jt,marginBottom:"0.15rem"},children:["",r.efectivo.toFixed(2)]}),p.jsx("div",{style:{color:"#666",fontSize:"0.7rem",fontWeight:"500"},children:"Efectivo"})]})]}),p.jsxs("div",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap",padding:"1rem",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[p.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"500",color:"#232728",whiteSpace:"nowrap"},children:"Desde:"}),p.jsx(a0,{type:"date",value:e.fechaInicio,onChange:b=>o({fechaInicio:b.target.value}),style:{width:"110px",padding:"0.4rem 0.5rem",fontSize:"0.85rem"}}),p.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"500",color:"#232728",whiteSpace:"nowrap"},children:"Hasta:"}),p.jsx(a0,{type:"date",value:e.fechaFin,onChange:b=>o({fechaFin:b.target.value}),style:{width:"110px",padding:"0.4rem 0.5rem",fontSize:"0.85rem"}}),p.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"500",color:"#232728",whiteSpace:"nowrap"},children:"Mtodo:"}),p.jsxs(jN,{value:e.metodoPago,onChange:b=>o({metodoPago:b.target.value}),style:{width:"90px",padding:"0.4rem 0.5rem",fontSize:"0.85rem"},children:[p.jsx("option",{value:"",children:"Todos"}),p.jsx("option",{value:"bizum",children:"Bizum"}),p.jsx("option",{value:"efectivo",children:"Efectivo"}),p.jsx("option",{value:"mixto",children:"Mixto"}),p.jsx("option",{value:"tarjeta",children:"Tarjeta"}),p.jsx("option",{value:"transferencia",children:"Transferencia"})]}),p.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"500",color:"#232728",whiteSpace:"nowrap"},children:"Min :"}),p.jsx(a0,{type:"number",value:e.minImporte,onChange:b=>o({minImporte:b.target.value}),placeholder:"0",step:"0.01",style:{width:"60px",padding:"0.4rem 0.5rem",fontSize:"0.85rem"}}),p.jsx("label",{style:{fontSize:"0.85rem",fontWeight:"500",color:"#232728",whiteSpace:"nowrap"},children:"Max :"}),p.jsx(a0,{type:"number",value:e.maxImporte,onChange:b=>o({maxImporte:b.target.value}),placeholder:"999",step:"0.01",style:{width:"60px",padding:"0.4rem 0.5rem",fontSize:"0.85rem"}}),p.jsxs(Dr,{onClick:()=>{},style:{padding:"0.4rem 0.8rem",fontSize:"0.85rem"},children:[p.jsx(t_,{size:14}),p.jsx("span",{children:"Filtrar"})]})]}),p.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"1rem",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",maxHeight:"400px",display:"flex",flexDirection:"column"},children:[p.jsx("h3",{style:{marginBottom:"1rem",color:jt,flexShrink:0},children:"Ventas"}),i?p.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",color:"#666"},children:"Cargando ventas..."}):t.length>0?p.jsx(Ul,{style:{overflowX:"auto",overflowY:"auto",flex:1,minHeight:0},children:p.jsxs(Fl,{style:{minWidth:"800px"},children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"N Venta"}),p.jsx("th",{children:"Fecha"}),p.jsx("th",{children:"Cliente"}),p.jsx("th",{children:"Subtotal"}),p.jsx("th",{children:"IVA"}),p.jsx("th",{children:"Total"}),p.jsx("th",{children:"Mtodo Pago"}),p.jsx("th",{children:"Acciones"})]})}),p.jsx("tbody",{children:t.map(b=>p.jsxs("tr",{style:{cursor:"pointer"},children:[p.jsx("td",{style:{fontWeight:"600",color:jt},children:b.numero}),p.jsx("td",{style:{color:"#6c757d"},children:Is(b.fecha)}),p.jsx("td",{children:typeof b.cliente=="object"?`${b.cliente.nombre} ${b.cliente.apellidos||""}`:b.cliente||"Cliente General"}),p.jsxs("td",{children:["",b.subtotal.toFixed(2)]}),p.jsxs("td",{style:{color:"#6c757d"},children:["",b.iva.toFixed(2)]}),p.jsxs("td",{style:{fontWeight:"600",color:"#28a745"},children:["",b.total.toFixed(2)]}),p.jsx("td",{children:p.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"500",backgroundColor:b.metodoPago==="efectivo"?"#d4edda":b.metodoPago==="tarjeta"?"#d1ecf1":b.metodoPago==="transferencia"?"#e2e3e5":"#fff3cd",color:b.metodoPago==="efectivo"?"#155724":b.metodoPago==="tarjeta"?"#0c5460":b.metodoPago==="transferencia"?"#383d41":"#856404"},children:P1(b.metodoPago)})}),p.jsx("td",{children:p.jsx("div",{style:{display:"flex",gap:"0.25rem",justifyContent:"center",flexWrap:"wrap"},children:p.jsxs("button",{onClick:()=>g(b),style:{padding:"0.25rem 0.5rem",borderRadius:"4px",border:"none",backgroundColor:"#a5c4ca",color:"#232728",fontSize:"0.8rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.25rem"},onMouseEnter:j=>{j.target.style.backgroundColor="#607074",j.target.style.color="#caf0f8"},onMouseLeave:j=>{j.target.style.backgroundColor="#a5c4ca",j.target.style.color="#232728"},children:[p.jsx(dd,{size:12})," Ver"]})})})]},b.id))})]})}):p.jsx(AN,{children:p.jsx("div",{children:"No se encontraron ventas que coincidan con los filtros aplicados."})})]})]}),f&&c&&p.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:w,children:p.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"2rem",maxWidth:"600px",width:"90%",maxHeight:"80%",overflow:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)"},onClick:b=>b.stopPropagation(),children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"2px solid #dee2e6"},children:[p.jsxs("div",{children:[p.jsxs("h2",{style:{margin:0,color:jt,fontSize:"1.5rem"},children:["Venta ",c.numero]}),p.jsx("p",{style:{margin:"0.25rem 0 0 0",color:"#6c757d",fontSize:"0.9rem"},children:Is(c.fecha)})]}),p.jsx("button",{onClick:w,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#6c757d",padding:"0.25rem"},children:p.jsx(O0,{})})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"6px"},children:[p.jsxs("div",{children:[p.jsx("strong",{children:"Cliente:"}),p.jsx("div",{children:typeof c.cliente=="object"?`${c.cliente.nombre} ${c.cliente.apellidos||""}`:c.cliente||"Cliente General"})]}),p.jsxs("div",{children:[p.jsx("strong",{children:"Mtodo de Pago:"}),p.jsx("div",{children:p.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"500",backgroundColor:c.metodoPago==="efectivo"?"#d4edda":c.metodoPago==="tarjeta"?"#d1ecf1":c.metodoPago==="transferencia"?"#e2e3e5":"#fff3cd",color:c.metodoPago==="efectivo"?"#155724":c.metodoPago==="tarjeta"?"#0c5460":c.metodoPago==="transferencia"?"#383d41":"#856404"},children:P1(c.metodoPago)})})]})]}),p.jsxs("div",{style:{marginBottom:"1.5rem"},children:[p.jsx("h3",{style:{marginBottom:"1rem",color:jt,fontSize:"1.2rem"},children:"Productos"}),p.jsxs("div",{style:{border:"1px solid #dee2e6",borderRadius:"6px",overflow:"hidden"},children:[p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr",backgroundColor:"#f8f9fa",padding:"0.75rem",fontWeight:"600",borderBottom:"1px solid #dee2e6"},children:[p.jsx("div",{children:"Producto"}),p.jsx("div",{style:{textAlign:"center"},children:"Cantidad"}),p.jsx("div",{style:{textAlign:"right"},children:"Precio Unit."}),p.jsx("div",{style:{textAlign:"right"},children:"Subtotal"})]}),c.productos.map((b,j)=>p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr",padding:"0.75rem",borderBottom:j<c.productos.length-1?"1px solid #dee2e6":"none"},children:[p.jsx("div",{children:b.nombre}),p.jsx("div",{style:{textAlign:"center"},children:b.cantidad}),p.jsxs("div",{style:{textAlign:"right"},children:["",b.precio.toFixed(2)]}),p.jsxs("div",{style:{textAlign:"right"},children:["",(b.precio*b.cantidad).toFixed(2)]})]},j))]})]}),p.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"6px",marginBottom:"1.5rem"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[p.jsx("span",{children:"Subtotal:"}),p.jsxs("span",{children:["",c.subtotal.toFixed(2)]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[p.jsx("span",{children:"IVA:"}),p.jsxs("span",{children:["",c.iva.toFixed(2)]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.2rem",fontWeight:"bold",paddingTop:"0.5rem",borderTop:"2px solid #dee2e6",color:"#28a745"},children:[p.jsx("span",{children:"TOTAL:"}),p.jsxs("span",{children:["",c.total.toFixed(2)]})]})]}),p.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:p.jsxs("button",{onClick:()=>S(c),style:{padding:"0.75rem 1.5rem",borderRadius:"6px",border:"none",backgroundColor:"#6c757d",color:"white",fontSize:"1rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[p.jsx(e_,{})," Descargar PDF"]})})]})})]})}fe.button`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: #a5c4ca;
  color: #232728;
  border: none;
  border-radius: 16px;
  padding: 1rem 0.5rem;
  font-size: 0.75rem;
  font-family: 'Poppins';
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 2px 8px #404a4c22;
  transition: background 0.2s, color 0.2s, box-shadow 0.2s;
  min-width: 140px;
  min-height: 120px;
  max-width: 160px;
  max-height: 120px;
  text-align: center;
  white-space: nowrap;
  overflow: visible;
  
  &:hover {
    background: #607074;
    color: #caf0f8;
  }
  
  span {
    margin-top: 0.5rem;
    font-size: 0.75rem;
    line-height: 1;
    display: block;
    white-space: nowrap;
    overflow: visible;
    text-overflow: clip;
  }

  @media (max-width: 768px) {
    min-width: 120px;
    max-width: 140px;
    min-height: 100px;
    max-height: 100px;
    padding: 0.75rem 0.25rem;
    font-size: 0.7rem;
    
    span {
      margin-top: 0.25rem;
      font-size: 0.7rem;
      line-height: 1;
      white-space: nowrap;
    }
  }

  @media (max-width: 600px) {
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 0.75rem 0.25rem;
    width: 100%;
    max-width: 110px;
    min-width: 100px;
    min-height: 90px;
    max-height: 90px;
    border-radius: 12px;
    box-shadow: 0 2px 8px #404a4c22; 
    background: #a5c4ca;
    color: #232728;           
    font-size: 0.65rem;
    margin-bottom: 0.5rem;
    border: 1px solid #a5c4ca;   
    
    span {
      margin-top: 0.25rem;
      font-size: 0.65rem;
      line-height: 1;
      display: block;
      white-space: nowrap;
      overflow: visible;
      text-overflow: clip;
    }
    
    svg {
      font-size: 16px !important; 
      min-width: 16px;
      min-height: 16px;
      max-width: 16px;
      max-height: 16px;
    }
  }

  @media (max-width: 480px) {
    max-width: 95px;
    min-width: 85px;
    min-height: 80px;
    max-height: 80px;
    padding: 0.5rem 0.15rem;
    font-size: 0.55rem;
    
    span {
      font-size: 0.55rem;
      line-height: 1;
      margin-top: 0.2rem;
      white-space: nowrap;
      overflow: visible;
    }
    
    svg {
      font-size: 14px !important; 
      min-width: 14px;
      min-height: 14px;
      max-width: 14px;
      max-height: 14px;
    }
  }
`;fe.div`
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto;
  flex-shrink: 0;

  & > svg {
    width: 24px !important;
    height: 24px !important;
    min-width: 24px !important;
    min-height: 24px !important;
    max-width: 24px !important;
    max-height: 24px !important;
    flex-shrink: 0;
  }

  @media (max-width: 768px) {
    width: 20px;
    height: 20px;
    
    & > svg {
      width: 20px !important;
      height: 20px !important;
      min-width: 20px !important;
      min-height: 20px !important;
      max-width: 20px !important;
      max-height: 20px !important;
    }
  }

  @media (max-width: 600px) {
    width: 16px;
    height: 16px;
    
    & > svg {
      width: 16px !important;
      height: 16px !important;
      min-width: 16px !important;
      min-height: 16px !important;
      max-width: 16px !important;
      max-height: 16px !important;
    }
  }

  @media (max-width: 480px) {
    width: 14px;
    height: 14px;
    
    & > svg {
      width: 14px !important;
      height: 14px !important;
      min-width: 14px !important;
      min-height: 14px !important;
      max-width: 14px !important;
      max-height: 14px !important;
    }
  }
`;const kN=`
  @keyframes slideDown {
    from {
      opacity: 0;
      max-height: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      max-height: 1000px;
      transform: translateY(0);
    }
  }
`;if(!document.querySelector("#productos-animations")){const t=document.createElement("style");t.id="productos-animations",t.textContent=kN,document.head.appendChild(t)}function EN(){const[t,e]=K.useState(null),[r,i]=K.useState(null),[o,s]=K.useState(!1),[c,d]=K.useState(!1),[f,h]=K.useState(!1),[g,w]=K.useState(!1),[S,b]=K.useState(""),[j,C]=K.useState(!1),[N,E]=K.useState({}),{productos:R,categorias:B,productoEditando:z,formulario:Q,formularioCategoria:ue,cargando:J,manejarCambio:se,manejarCambioCategoria:U,guardarProducto:te,guardarCategoria:M,editarProducto:W,cancelarEdicion:oe,estadisticas:ae,mostrarModalExito:be,mostrarModalError:ne,mostrarModalConfirmacion:he,mensajeModal:ce,cerrarModalExito:je,cerrarModalError:O,confirmarEliminacion:ie,cancelarEliminacion:L}=nA(),H=()=>{const $=ce.includes("actualizado");je(),$?(s(!1),h(!0)):s(!1)},Y=$=>{E(re=>({...re,[$]:!re[$]}))};return p.jsxs(Pn,{maxWidth:1400,children:[p.jsx(Rn,{to:"/tpv"}),p.jsx("style",{children:`
        .tpv-header {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 1rem;
          margin-bottom: 1rem;
          position: relative;
          padding-left: 120px;
          padding-right: 60px;
        }
        
        @media (max-width: 768px) {
          .tpv-header {
            padding-left: 20px !important;
            padding-right: 20px !important;
            margin-top: 1rem !important;
          }
        }
        
        @media (max-width: 480px) {
          .tpv-header {
            padding-left: 10px !important;
            padding-right: 50px !important;
            margin-top: 1.5rem !important;
          }
        }
      `}),p.jsxs("div",{className:"tpv-header",children:[p.jsx(Nr,{style:{margin:0,textAlign:"center",flex:1},children:"Gestin de Productos"}),p.jsx("button",{onClick:()=>C(!0),style:{position:"absolute",right:0,display:"flex",alignItems:"center",justifyContent:"center",width:"36px",height:"36px",backgroundColor:"#a5c4ca",color:"#232728",border:"none",borderRadius:"50%",cursor:"pointer",fontSize:"1.1rem",fontWeight:"bold",transition:"background-color 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseEnter:$=>{$.target.style.backgroundColor="#607074",$.target.style.color="white"},onMouseLeave:$=>{$.target.style.backgroundColor="#a5c4ca",$.target.style.color="#232728"},title:"Ayuda",children:"?"})]}),J&&p.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:p.jsx("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"8px",textAlign:"center"},children:"Cargando datos..."})}),p.jsxs(R7,{children:[p.jsxs(D7,{children:[p.jsxs(Yh,{children:[p.jsx("div",{className:"numero",children:ae.totalProductos}),p.jsx("div",{className:"label",children:"Total Productos"})]}),p.jsxs(Yh,{children:[p.jsxs("div",{className:"numero",children:["",ae.valorInventario.toFixed(2)]}),p.jsx("div",{className:"label",children:"Valor Inventario"})]}),p.jsxs(Yh,{children:[p.jsx("div",{className:"numero",children:ae.stockBajo}),p.jsx("div",{className:"label",children:"Stock Bajo"})]}),p.jsxs(Yh,{children:[p.jsx("div",{className:"numero",children:ae.categorias}),p.jsx("div",{className:"label",children:"Categoras"})]})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",margin:"1rem 0",padding:"0 1rem"},children:[p.jsxs(Dr,{onClick:()=>s(!0),children:[p.jsx(J5,{size:16}),p.jsx("span",{children:"Nuevo Producto"})]}),p.jsxs(Dr,{onClick:()=>d(!0),children:[p.jsx(Uh,{size:20}),p.jsx("span",{children:"Nueva Categora"})]}),p.jsxs(Dr,{onClick:()=>h(!0),children:[p.jsx(X5,{size:20}),p.jsx("span",{children:"Ver Productos"})]}),p.jsxs(Dr,{onClick:()=>w(!0),children:[p.jsx(Uh,{size:20}),p.jsx("span",{children:"Ver Categoras"})]})]})]}),o&&p.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:p.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},children:[p.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("h2",{style:{margin:0,color:"#232728",fontSize:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[p.jsx(J5,{size:24}),z?"Editar Producto":"Nuevo Producto"]}),p.jsx("button",{onClick:()=>{s(!1),z&&(h(!0),oe())},style:{backgroundColor:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},children:""})]}),p.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1},children:p.jsxs(P7,{onSubmit:te,children:[p.jsxs(hf,{children:[p.jsxs(fo,{children:[p.jsx("label",{children:"Cdigo del Producto"}),p.jsx(Uu,{type:"text",name:"codigo",value:Q.codigo,onChange:se,placeholder:"Se generar automticamente si est vaco",style:{fontFamily:"monospace",fontWeight:"bold",color:"#007bff",backgroundColor:"#f8f9fa"}})]}),p.jsxs(fo,{children:[p.jsx("label",{children:"Nombre del Producto *"}),p.jsx(Uu,{type:"text",name:"nombre",value:Q.nombre,onChange:se,placeholder:"Ej: Reparacin Pantalla iPhone",required:!0})]})]}),p.jsx(hf,{children:p.jsxs(fo,{children:[p.jsx("label",{children:"Precio () *"}),p.jsx(Uu,{type:"number",name:"precio",value:Q.precio,onChange:se,placeholder:"0.00",step:"0.01",min:"0",required:!0})]})}),p.jsxs(hf,{children:[p.jsxs(fo,{children:[p.jsx("label",{children:"Categora *"}),p.jsxs(Vh,{name:"categoria",value:Q.categoria,onChange:se,required:!0,children:[p.jsx("option",{value:"",children:"Seleccionar categora"}),B.map($=>p.jsx("option",{value:$.id,children:$.nombre},$.id))]})]}),p.jsxs(fo,{children:[p.jsx("label",{children:"IVA (%)"}),p.jsxs(Vh,{name:"iva",value:Q.iva,onChange:se,children:[p.jsx("option",{value:21,children:"21% (General)"}),p.jsx("option",{value:10,children:"10% (Reducido)"}),p.jsx("option",{value:4,children:"4% (Superreducido)"}),p.jsx("option",{value:0,children:"0% (Exento)"})]})]})]}),p.jsxs(hf,{children:[p.jsxs(fo,{children:[p.jsx("label",{children:"Stock inicial"}),p.jsx(Uu,{type:"number",name:"stock",value:Q.stock,onChange:se,placeholder:"0",min:"0"})]}),p.jsxs(fo,{children:[p.jsx("label",{children:"Stock mnimo"}),p.jsx(Uu,{type:"number",name:"stockMinimo",value:Q.stockMinimo,onChange:se,placeholder:"0",min:"0"})]})]}),p.jsxs(fo,{children:[p.jsx("label",{children:"Descripcin"}),p.jsx(zv,{name:"descripcion",value:Q.descripcion,onChange:se,placeholder:"Descripcin opcional del producto...",rows:3})]}),p.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"1.5rem"},children:[p.jsxs(Dr,{type:"submit",children:[p.jsx(Rc,{size:16}),p.jsx("span",{children:z?"Actualizar":"Guardar"})]}),p.jsxs(Dr,{eliminar:!0,type:"button",onClick:()=>{s(!1),h(!0),z&&oe()},children:[p.jsx(O0,{size:16}),p.jsx("span",{children:"Cancelar"})]})]})]})})]})}),c&&p.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:p.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"90%",maxWidth:"600px",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},children:[p.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("h2",{style:{margin:0,color:"#232728",fontSize:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[p.jsx(Uh,{size:24}),"Nueva Categora"]}),p.jsx("button",{onClick:()=>d(!1),style:{backgroundColor:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},children:""})]}),p.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1},children:p.jsxs("form",{onSubmit:M,children:[p.jsxs(hf,{children:[p.jsxs(fo,{children:[p.jsx("label",{children:"Nombre de la categora *"}),p.jsx(Uu,{type:"text",name:"nombre",value:ue.nombre,onChange:U,placeholder:"Ej: Smartphones, Tablets, etc.",required:!0})]}),p.jsxs(fo,{children:[p.jsx("label",{children:"Icono"}),p.jsxs(Vh,{name:"icono",value:ue.icono,onChange:U,children:[p.jsx("option",{value:"",children:" Smartphone"}),p.jsx("option",{value:"",children:" Tablet/Laptop"}),p.jsx("option",{value:"",children:" Desktop"}),p.jsx("option",{value:"",children:" Gaming"}),p.jsx("option",{value:"",children:" Audio"}),p.jsx("option",{value:"",children:" Cmara"}),p.jsx("option",{value:"",children:" Accesorios"}),p.jsx("option",{value:"",children:" Reparaciones"}),p.jsx("option",{value:"",children:" Componentes"})]})]})]}),p.jsxs(fo,{children:[p.jsx("label",{children:"Descripcin"}),p.jsx(zv,{name:"descripcion",value:ue.descripcion,onChange:U,placeholder:"Descripcin opcional de la categora...",rows:2})]}),p.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"1.5rem"},children:[p.jsxs(Dr,{type:"submit",children:[p.jsx(Rc,{size:16}),p.jsx("span",{children:"Crear Categora"})]}),p.jsxs(Dr,{eliminar:!0,type:"button",onClick:()=>{d(!1),setFormularioCategoria({nombre:"",descripcion:"",icono:""})},children:[p.jsx(O0,{size:16}),p.jsx("span",{children:"Cancelar"})]})]})]})})]})}),f&&p.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:p.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"90%",maxWidth:"1200px",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},children:[p.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("h2",{style:{margin:0,color:"#232728",fontSize:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[p.jsx(X5,{size:24}),"Lista de Productos"]}),p.jsx("button",{onClick:()=>h(!1),style:{backgroundColor:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},children:""})]}),p.jsxs("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1},children:[p.jsxs("div",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"1rem"},children:[p.jsx("label",{style:{fontSize:"0.9rem",fontWeight:"500",color:"#232728"},children:"Filtrar por categora:"}),p.jsxs(Vh,{value:S,onChange:$=>b($.target.value),style:{minWidth:"200px"},children:[p.jsx("option",{value:"",children:"Todas las categoras"}),B.map($=>p.jsx("option",{value:$.nombre,children:$.nombre},$.id))]})]}),p.jsx(Ul,{children:p.jsxs(Fl,{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Cdigo"}),p.jsx("th",{children:"Producto"}),p.jsx("th",{children:"Categora"}),p.jsx("th",{children:"Precio"}),p.jsx("th",{children:"IVA"}),p.jsx("th",{children:"Stock"}),p.jsx("th",{children:"Descripcin"}),p.jsx("th",{children:"Acciones"})]})}),p.jsxs("tbody",{children:[R.filter($=>!S||$.categoria&&$.categoria.nombre===S).map($=>{var re;return p.jsxs("tr",{children:[p.jsx("td",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#007bff",backgroundColor:"#f8f9fa",padding:"0.5rem"},children:z0($)}),p.jsx("td",{style:{fontWeight:"600",color:"#232728"},children:$.nombre}),p.jsx("td",{children:p.jsx("span",{style:{backgroundColor:"#e9f4f6",color:"#2c5f66",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.8rem",fontWeight:"500"},children:((re=$.categoria)==null?void 0:re.nombre)||"Sin categora"})}),p.jsxs("td",{style:{fontWeight:"bold",color:"#28a745"},children:["",$.precio.toFixed(2)]}),p.jsxs("td",{children:[$.iva,"%"]}),p.jsx("td",{children:p.jsxs("span",{style:{color:$.stock<=$.stock_minimo?"#dc3545":"#28a745",fontWeight:$.stock<=$.stock_minimo?"bold":"normal"},children:[$.stock," uds"]})}),p.jsx("td",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:$.descripcion||"-"}),p.jsx("td",{children:p.jsxs(Dr,{onClick:()=>{W($),s(!0),h(!1)},style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:[p.jsx(Z0,{size:12}),p.jsx("span",{children:"Editar"})]})})]},$.id)}),R.filter($=>!S||$.categoria===S).length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:"7",style:{textAlign:"center",padding:"2rem",color:"#666",fontStyle:"italic"},children:S?`No hay productos en la categora "${S}"`:"No hay productos registrados"})})]})]})})]})]})}),g&&p.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:p.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"90%",maxWidth:"1200px",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},children:[p.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("h2",{style:{margin:0,color:"#232728",fontSize:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[p.jsx(Uh,{size:24}),"Productos por Categora"]}),p.jsx("button",{onClick:()=>w(!1),style:{backgroundColor:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},children:""})]}),p.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1},children:B.map($=>{const re=R.filter(xe=>{var Ae;return((Ae=xe.categoria)==null?void 0:Ae.nombre)===$.nombre}),ve=N[$.id];return p.jsxs("div",{style:{marginBottom:"1.5rem"},children:[p.jsxs("div",{onClick:()=>Y($.id),style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",marginBottom:ve?"1rem":"0",padding:"0.75rem 1rem",backgroundColor:ve?"#e9f4f6":"#f8f9fa",borderRadius:"8px",border:"1px solid #e0e0e0",cursor:"pointer",transition:"all 0.2s ease",boxShadow:ve?"0 2px 4px rgba(0,0,0,0.1)":"none"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[p.jsx("span",{style:{fontSize:"1.5rem"},children:$.icono||""}),p.jsxs("h3",{style:{margin:0,color:"#232728",fontSize:"1rem"},children:[$.nombre," (",re.length," productos)"]})]}),p.jsx("div",{style:{transform:ve?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease",fontSize:"1.2rem",color:"#666"},children:""})]}),ve&&p.jsx("div",{style:{animation:"slideDown 0.2s ease-out",overflow:"hidden"},children:re.length>0?p.jsx(Ul,{children:p.jsxs(Fl,{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Cdigo"}),p.jsx("th",{children:"Producto"}),p.jsx("th",{children:"Precio"}),p.jsx("th",{children:"IVA"}),p.jsx("th",{children:"Stock"}),p.jsx("th",{children:"Descripcin"})]})}),p.jsx("tbody",{children:re.map(xe=>p.jsxs("tr",{children:[p.jsx("td",{style:{fontFamily:"monospace",fontWeight:"bold",color:"#007bff",fontSize:"0.9rem"},children:z0(xe)}),p.jsx("td",{style:{fontWeight:"600",color:"#232728"},children:xe.nombre}),p.jsxs("td",{style:{fontWeight:"bold",color:"#28a745"},children:["",xe.precio.toFixed(2)]}),p.jsxs("td",{children:[xe.iva,"%"]}),p.jsx("td",{children:p.jsxs("span",{style:{color:xe.stock<=xe.stock_minimo?"#dc3545":"#28a745",fontWeight:xe.stock<=xe.stock_minimo?"bold":"normal"},children:[xe.stock," uds"]})}),p.jsx("td",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:xe.descripcion||"-"})]},xe.id))})]})}):p.jsx("div",{style:{textAlign:"center",padding:"1rem",color:"#666",fontStyle:"italic",backgroundColor:"#f8f9fa",borderRadius:"6px",border:"1px solid #e0e0e0",marginTop:"0.5rem"},children:"No hay productos en esta categora"})})]},$.id)})})]})}),j&&p.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:p.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #e0e0e0"},children:[p.jsxs("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid #e0e0e0",display:"flex",alignItems:"center",gap:"0.5rem",background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"12px 12px 0 0"},children:[p.jsx(r_,{size:18}),p.jsx("h3",{style:{margin:0,color:"#232728",fontSize:"1.1rem",fontWeight:"600"},children:"Ayuda - Gestin de Productos"}),p.jsx("button",{onClick:()=>C(!1),style:{backgroundColor:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666",marginLeft:"auto"},children:""})]}),p.jsxs("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1,color:"#607074",fontSize:"0.95rem",lineHeight:"1.6"},children:[p.jsx("h3",{style:{color:"#232728",marginTop:0},children:"Funciones Principales"}),p.jsx("h4",{style:{color:"#007bff"},children:" Nuevo Producto"}),p.jsx("p",{children:"Permite registrar nuevos productos en el sistema. Completa los campos obligatorios como nombre, precio y categora. Tambin puedes especificar el IVA, stock inicial y descripcin."}),p.jsx("h4",{style:{color:"#28a745"},children:" Nueva Categora"}),p.jsx("p",{children:"Crea nuevas categoras para organizar mejor tus productos. Cada categora puede tener un nombre, icono representativo y descripcin opcional."}),p.jsx("h4",{style:{color:"#17a2b8"},children:" Ver Productos"}),p.jsx("p",{children:"Visualiza todos los productos registrados en una tabla completa. Puedes filtrar por categora y ver informacin detallada como precio, IVA, stock y descripcin."}),p.jsx("h4",{style:{color:"#ffc107"},children:" Ver Categoras"}),p.jsx("p",{children:"Explora los productos organizados por categoras. Cada categora es desplegable y muestra todos los productos que contiene, facilitando la navegacin y gestin."}),p.jsx("h3",{style:{color:"#232728"},children:"Estadsticas"}),p.jsx("p",{children:"En la parte superior encontrars estadsticas importantes: total de productos, valor del inventario, productos con stock bajo y nmero de categoras. Esta informacin te ayuda a tener un control general del inventario."}),p.jsx("h3",{style:{color:"#232728"},children:"Consejos"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Mantn siempre actualizado el stock de tus productos"}),p.jsx("li",{children:"Utiliza categoras para organizar mejor tu inventario"}),p.jsx("li",{children:"Revisa regularmente los productos con stock bajo"}),p.jsx("li",{children:"Incluye descripciones detalladas para identificar mejor los productos"})]})]})]})}),be&&p.jsx(Zu,{onClick:H,children:p.jsxs(Ju,{onClick:$=>$.stopPropagation(),children:[p.jsx(Qu,{className:"success",children:p.jsx("span",{className:"icon",children:""})}),p.jsx(ed,{children:ce}),p.jsx(Nc,{onClick:H,children:"Aceptar"})]})}),ne&&p.jsx(Zu,{onClick:O,children:p.jsxs(Ju,{onClick:$=>$.stopPropagation(),children:[p.jsx(Qu,{className:"error",children:p.jsx("span",{className:"icon",children:""})}),p.jsx(ed,{children:ce}),p.jsx(Nc,{error:!0,onClick:O,children:"Cerrar"})]})}),he&&p.jsx(Zu,{onClick:L,children:p.jsxs(Ju,{onClick:$=>$.stopPropagation(),children:[p.jsx(Qu,{children:p.jsx("span",{className:"icon",style:{color:"#f39c12"},children:""})}),p.jsx(ed,{children:ce}),p.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[p.jsx(Nc,{error:!0,onClick:ie,children:"Eliminar"}),p.jsx(Nc,{onClick:L,children:"Cancelar"})]})]})})]})}function NN(){const{usuarios:t,loading:e,mensaje:r,eliminarUsuario:i}=lA(),[o,s]=K.useState(!1),[c,d]=K.useState(null),f=$n(),h=b=>{f("/usuarios/editar",{state:{usuario:b}})},g=b=>{b.rol!=="admin"&&(d(b),s(!0))},w=async()=>{c&&(await i(c.id),s(!1),d(null))},S=[{key:"nombre",label:"Nombre"},{key:"rol",label:"Rol"}];return e?p.jsxs(Ev,{children:[p.jsx(Rn,{to:"/usuarios"}),p.jsx(Nr,{children:"Usuarios"}),p.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:"Cargando usuarios..."})]}):p.jsxs(Ev,{style:{position:"relative"},children:[p.jsx(Rn,{to:"/usuarios"}),p.jsx(Nr,{children:"Usuarios"}),t.length===0?p.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#607074"},children:"No hay usuarios registrados."}):p.jsx(dA,{columns:S,data:t,loading:e,onEdit:h,onDelete:g,iconEdit:Z0,iconDelete:sm}),o&&p.jsx(zx,{children:p.jsxs(Mx,{children:[p.jsxs(Bx,{children:["Seguro que quieres eliminar al usuario"," ",p.jsx("b",{children:c==null?void 0:c.nombre}),"?",p.jsx("br",{}),"Esta accin no se puede deshacer."]}),p.jsxs(Ix,{children:[p.jsx(Ux,{onClick:w,disabled:e,children:"S, eliminar"}),p.jsx(Dj,{onClick:()=>s(!1),disabled:e,children:"Cancelar"})]})]})}),r&&p.jsx(zj,{children:r})]})}function LN(){const[t,e]=K.useState(null),[r,i]=K.useState({passwordActual:"",passwordNueva:""}),[o,s]=K.useState(""),[c,d]=K.useState(""),[f,h]=K.useState(!1),[g,w]=K.useState(!1),[S,b]=K.useState(!1);K.useEffect(()=>{(async()=>{const{data:{user:N}}=await Xe.auth.getUser();if(N){const{data:E}=await Xe.from("usuarios").select("nombre, email").eq("uid",N.id).single();e({...E,email:N.email})}})()},[]);const j=N=>{i({...r,[N.target.name]:N.target.value})},C=async N=>{N.preventDefault(),s(""),d(""),h(!0);const{error:E}=await Xe.auth.signInWithPassword({email:t.email,password:r.passwordActual});if(E){s("La contrasea actual no es correcta."),d("error"),h(!1);return}const{error:R}=await Xe.auth.updateUser({password:r.passwordNueva});h(!1),R?(s("Error al cambiar la contrasea."),d("error")):(s("Contrasea cambiada correctamente."),d("success"),i({passwordActual:"",passwordNueva:""}))};return t?p.jsxs(uy,{style:{position:"relative"},children:[p.jsx(Rn,{to:"/home"}),p.jsx(Nr,{children:"Mi cuenta"}),p.jsx(TN,{children:p.jsxs(ON,{onSubmit:C,children:[p.jsxs(o0,{children:[p.jsx(s0,{children:"Nombre"}),p.jsx(l0,{value:t.nombre,disabled:!0,readOnly:!0,autoComplete:"name"})]}),p.jsxs(o0,{children:[p.jsx(s0,{children:"Email"}),p.jsx(l0,{value:t.email,disabled:!0,readOnly:!0,autoComplete:"username"})]}),p.jsxs(o0,{children:[p.jsx(s0,{children:"Contrasea actual"}),p.jsxs(dy,{children:[p.jsx(l0,{name:"passwordActual",type:g?"text":"password",value:r.passwordActual,onChange:j,required:!0,autoComplete:"current-password",placeholder:"Introduce tu contrasea actual",disabled:f}),p.jsx(fy,{type:"button",onClick:()=>w(!g),disabled:f,children:g?p.jsx(N0,{size:18}):p.jsx(dd,{size:18})})]})]}),p.jsxs(o0,{children:[p.jsx(s0,{children:"Nueva contrasea"}),p.jsxs(dy,{children:[p.jsx(l0,{name:"passwordNueva",type:S?"text":"password",value:r.passwordNueva,onChange:j,required:!0,autoComplete:"new-password",placeholder:"Introduce la nueva contrasea",disabled:f}),p.jsx(fy,{type:"button",onClick:()=>b(!S),disabled:f,children:S?p.jsx(N0,{size:18}):p.jsx(dd,{size:18})})]})]}),p.jsx(RN,{children:p.jsxs(Dr,{type:"submit",disabled:f,children:[p.jsx(Rc,{size:16}),p.jsx("span",{children:f?"Guardando...":"Guardar"})]})}),o&&p.jsx(hy,{$tipo:c,children:o})]})})]}):p.jsxs(uy,{children:[p.jsx(Nr,{children:"Mi cuenta"}),p.jsx(hy,{children:"Cargando..."})]})}const uy=fe.div`
  width: 95%;
  max-width: 900px;
  margin: 2.5rem auto;
  padding: 2rem 1.5rem;
  background: #f8fafb;
  border-radius: 22px;
  box-shadow: 0 2px 18px #404a4c22;
  min-height: 70vh;
  border: 2px solid #a5c4ca;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  position: relative;
`,TN=fe.div`
  width: 100%;
  display: flex;
  justify-content: center;
`,ON=fe.form`
  width: 100%;
  max-width: 400px;
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
`,o0=fe.div`
  display: flex;
  flex-direction: column;
`,s0=fe.label`
  font-weight: 600;
  margin-bottom: 0.4rem;
`,l0=fe.input`
  padding: 0.8rem;
  font-size: 1rem;
  border: 2px solid #a5c4ca;
  border-radius: 10px;
  width: 100%;
  box-sizing: border-box;
  box-shadow: inset 0 2px 8px #404a4c10;
  &:disabled {
    background: #e9ecef;
  }
`,dy=fe.div`
  position: relative;
  display: flex;
  align-items: center;
`,fy=fe.button`
  position: absolute;
  right: 12px;
  background: none;
  border: none;
  cursor: pointer;
  color: #607074;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 4px;
  border-radius: 4px;
  transition: color 0.2s, background-color 0.2s;
  
  &:hover {
    color: #404a4c;
    background-color: rgba(165, 196, 202, 0.1);
  }
  
  &:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }
`,RN=fe.div`
  display: flex;
  justify-content: center;
  margin-top: 1rem;
`,hy=fe.p`
  margin-top: 1.5rem;
  font-size: 0.9rem;
  font-weight: 600;
  color: ${({$tipo:t})=>t==="success"?"#2e7d32":"#d9534f"};
  text-align: center;
`;function PN(){var C;const t=Ia();$n();const e=(C=t.state)==null?void 0:C.usuario,[r,i]=K.useState(!1),{login:o}=Bs(),[s,c]=K.useState({rol:(e==null?void 0:e.rol)||""});K.useEffect(()=>{async function N(){if((e==null?void 0:e.rol)==="admin"){const{data:E,error:R}=await Xe.from("usuarios").select("id").eq("rol","admin");!R&&E&&E.length===1&&E[0].id===e.id?i(!0):i(!1)}}N()},[e]);const[d,f]=K.useState(""),[h,g]=K.useState(""),[w,S]=K.useState(!1);if(!e)return p.jsxs(py,{children:[p.jsx(Rn,{to:"/usuarios/lista"}),p.jsx(Nr,{children:"Modificar Usuario"}),p.jsx(vy,{$tipo:"error",children:"No se ha encontrado el usuario."})]});const b=N=>{c({...s,[N.target.name]:N.target.value})},j=async N=>{var R;if(N.preventDefault(),f(""),g(""),S(!0),!s.rol){f("El rol es obligatorio."),g("error"),S(!1);return}if(e.rol==="admin"&&r&&s.rol!=="admin"){f("No puedes cambiar el rol de este usuario porque es el nico administrador."),g("error"),S(!1);return}const{error:E}=await Xe.from("usuarios").update({rol:s.rol}).eq("id",e.id);if(S(!1),E)f("Error al actualizar el usuario."),g("error");else if(f("Rol actualizado correctamente."),g("success"),e.id===((R=Bs.getState().user)==null?void 0:R.id)){const{data:B}=await Xe.from("usuarios").select("*").eq("id",e.id).single();B&&o(B)}};return p.jsxs(py,{style:{position:"relative"},children:[p.jsx(Rn,{to:"/usuarios/lista"}),p.jsx(Nr,{children:"Modificar Usuario"}),p.jsx(DN,{children:p.jsxs(zN,{onSubmit:j,children:[p.jsxs(gy,{children:[p.jsx(my,{children:"Nombre"}),p.jsx(MN,{name:"nombre",value:e.nombre,disabled:!0,readOnly:!0})]}),p.jsxs(gy,{children:[p.jsx(my,{children:"Rol"}),p.jsxs(BN,{name:"rol",value:s.rol,onChange:b,required:!0,disabled:w||e.rol==="admin"&&r,children:[p.jsx("option",{value:"",children:"Selecciona un rol"}),p.jsx("option",{value:"admin",children:"Administrador"}),p.jsx("option",{value:"encargado",children:"Encargado/a"}),p.jsx("option",{value:"empleado",children:"Empleado/a"})]})]}),p.jsx(IN,{children:p.jsxs(Dr,{type:"submit",disabled:w,children:[p.jsx(Rc,{size:16}),p.jsx("span",{children:w?"Guardando...":"Guardar"})]})}),d&&p.jsx(vy,{$tipo:h,children:d})]})})]})}const py=fe.div`
  width: 95%;
  max-width: 900px;
  margin: 2.5rem auto;
  padding: 2rem 1.5rem;
  background: #f8fafb;
  border-radius: 22px;
  box-shadow: 0 2px 18px #404a4c22;
  min-height: 70vh;
  border: 2px solid #a5c4ca;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  position: relative;
`,DN=fe.div`
  width: 100%;
  display: flex;
  justify-content: center;
`,zN=fe.form`
  width: 100%;
  max-width: 400px;
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
`,gy=fe.div`
  display: flex;
  flex-direction: column;
`,my=fe.label`
  font-weight: 600;
  margin-bottom: 0.4rem;
`,MN=fe.input`
  padding: 0.8rem;
  font-size: 1rem;
  border: 2px solid #a5c4ca;
  border-radius: 10px;
  width: 100%;
  box-sizing: border-box;
  box-shadow: inset 0 2px 8px #404a4c10;
  &:disabled {
    background: #e9ecef;
  }
`,BN=fe.select`
  padding: 0.8rem;
  font-size: 1rem;
  border: 2px solid #a5c4ca;
  border-radius: 10px;
  width: 100%;
  background: white;
  box-sizing: border-box;
  box-shadow: inset 0 2px 8px #404a4c10;
  &:disabled {
    background: #e9ecef;
  }
`,IN=fe.div`
  display: flex;
  justify-content: center;
  margin-top: 1rem;
`,vy=fe.p`
  margin-top: 1.5rem;
  font-size: 0.9rem;
  font-weight: 600;
  color: ${({$tipo:t})=>t==="success"?"#2e7d32":"#d9534f"};
  text-align: center;
`;function UN(){const[t,e]=K.useState({nombre:"",email:"",rol:"",password:""}),[r,i]=K.useState(""),[o,s]=K.useState(""),[c,d]=K.useState(!1),f=g=>{e({...t,[g.target.name]:g.target.value})},h=async g=>{if(g.preventDefault(),i(""),s(""),d(!0),!t.nombre.trim()||!t.email.trim()||!t.rol||!t.password){i("Todos los campos son obligatorios."),s("error"),d(!1);return}const{data:w}=await Xe.from("usuarios").select("id").or(`nombre.eq.${t.nombre},email.eq.${t.email}`).maybeSingle();if(w){i("Ese usuario o email ya existe. Elige otros."),s("error"),d(!1);return}const{data:S,error:b}=await Xe.auth.admin.createUser({email:t.email,password:t.password,email_confirm:!0});if(b){i("Error al crear el usuario en Auth: "+b.message),s("error"),d(!1);return}const{error:j}=await Xe.from("usuarios").insert([{nombre:t.nombre,email:t.email,rol:t.rol,uid:S.user.id}]);d(!1),j?(i("Error al guardar en la base de datos."),s("error")):(i("Usuario creado correctamente."),s("success"),e({nombre:"",email:"",rol:"",password:""}))};return p.jsxs(FN,{style:{position:"relative"},children:[p.jsx(Rn,{to:"/usuarios"}),p.jsx(Nr,{children:"Nuevo Usuario"}),p.jsx(xm,{fields:[{name:"nombre",label:"Nombre",required:!0,placeholder:"Nombre del usuario"},{name:"email",label:"Email",type:"email",required:!0,placeholder:"Email del usuario"},{name:"rol",label:"Rol",type:"select",required:!0,options:[{value:"admin",label:"Administrador"},{value:"encargado",label:"Encargado/a"},{value:"empleado",label:"Empleado/a"}]},{name:"password",label:"Contrasea",type:"password",required:!0,placeholder:"Contrasea"}],values:t,onChange:f,onSubmit:h,loading:c,mensaje:r?{tipo:o==="success"?"ok":"error",texto:r}:null,buttonText:c?"Guardando...":"Crear usuario"})]})}const FN=fe.div`
  width: 95%;
  max-width: 900px;
  margin: 2.5rem auto;
  padding: 2rem 1.5rem;
  background: #f8fafb;
  border-radius: 22px;
  box-shadow: 0 2px 18px #404a4c22;
  min-height: 70vh;
  border: 2px solid #a5c4ca;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  position: relative;
`;fe.div`
  width: 100%;
  display: flex;
  justify-content: center;
`;fe.form`
  width: 100%;
  max-width: 400px;
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
`;fe.div`
  display: flex;
  flex-direction: column;
`;fe.label`
  font-weight: 600;
  margin-bottom: 0.4rem;
  @media (max-width: 1120px) {
    font-size: 0.8rem;
  }
`;fe.input`
  padding: 0.8rem;
  font-size: 1rem;
  border: 2px solid #a5c4ca;
  border-radius: 10px;
  width: 100%;
  box-sizing: border-box;
  box-shadow: inset 0 2px 8px #404a4c10;
  &:disabled {
    background: #e9ecef;
    cursor: not-allowed;
  }
  @media (max-width: 1120px) {
    font-size: 0.8rem;
  }
`;fe.select`
  padding: 0.8rem;
  font-size: 1rem;
  border: 2px solid #a5c4ca;
  border-radius: 10px;
  width: 100%;
  background: white;
  box-sizing: border-box;
  box-shadow: inset 0 2px 8px #404a4c10;
  &:disabled {
    background: #e9ecef;
  }
`;fe.button`
  padding: 0.8rem;
  font-size: 1rem;
  color: white;
  background: linear-gradient(90deg, #607074 0%, #a5c4ca 100%);
  border: none;
  border-radius: 10px;
  width: 100%;
  box-sizing: border-box;
  cursor: pointer;
  transition: background 0.3s;
  &:disabled {
    background: #007bff70;
    cursor: not-allowed;
  }
  @media (max-width: 1120px) {
    font-size: 0.8rem;
    width: 40%;
    text-align: center;
    margin: 0 auto; 
  }
`;fe.p`
  margin-top: 1.5rem;
  font-size: 0.9rem;
  font-weight: 600;
  color: ${({$tipo:t})=>t==="success"?"#2e7d32":"#d9534f"};
  text-align: center;
  @media (max-width: 1120px) {
    font-size: 0.8rem;
  }
`;const qN=fe.div`
  background: white;
  border-radius: 8px;
  padding: 2rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  margin: 1rem 0;
`,og=fe.div`
  margin-bottom: 1.5rem;
  
  label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: #333;
  }
`,by=fe.input`
  width: 100%;
  padding: 0.75rem;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-size: 1rem;
  
  &:focus {
    outline: none;
    border-color: #a5c4ca;
  }
`,HN=fe.input`
  width: 100%;
  padding: 0.5rem;
  border: 1px solid #ddd;
  border-radius: 6px;
  background: white;
  
  &:focus {
    outline: none;
    border-color: #a5c4ca;
  }
`,$N=fe.div`
  display: flex;
  justify-content: center;
  margin-top: 1rem;
`,yy=fe.img`
  max-width: 200px;
  max-height: 100px;
  border: 1px solid #ddd;
  border-radius: 4px;
  margin-top: 0.5rem;
`,WN=fe.div`
  padding: 1rem;
  border-radius: 6px;
  margin: 1rem 0;
  background: ${t=>t.tipo==="error"?"#f8d7da":t.tipo==="info"?"#d1ecf1":"#d4edda"};
  color: ${t=>t.tipo==="error"?"#721c24":t.tipo==="info"?"#0c5460":"#155724"};
  border: 1px solid ${t=>t.tipo==="error"?"#f5c6cb":t.tipo==="info"?"#bee5eb":"#c3e6cb"};
`;function GN(){const{configuracion:t,actualizarConfiguracion:e,cargarConfiguracion:r}=xd(),[i,o]=K.useState({nombre_empresa:"",logo_url:"",mensaje_footer:"TechnoFix - Sistema de Gestin"}),[s,c]=K.useState(null),[d,f]=K.useState(""),[h,g]=K.useState(!1),[w,S]=K.useState(!0),[b,j]=K.useState(""),[C,N]=K.useState(!1);K.useEffect(()=>{o(t),f(t.logo_url||""),S(!1)},[t]),K.useEffect(()=>()=>{d&&d.startsWith("blob:")&&URL.revokeObjectURL(d)},[d]);const E=ue=>{const{name:J,value:se}=ue.target;o(U=>({...U,[J]:se}))},R=(ue,J,se,U)=>new Promise(te=>{const M=document.createElement("canvas"),W=M.getContext("2d");let{width:oe,height:ae}=ue;const be=oe/ae;(oe>J||ae>se)&&(be>J/J?(oe=J,ae=J/be):(ae=se,oe=se*be)),M.width=oe,M.height=ae,U==="image/png"&&W.clearRect(0,0,oe,ae),W.drawImage(ue,0,0,oe,ae);const ne=U==="image/png"?"image/png":"image/jpeg",he=ne==="image/jpeg"?.9:void 0;M.toBlob(te,ne,he)}),B=async ue=>{const J=ue.target.files[0];if(J){if(J.size>5242880){j({tipo:"error",texto:"El archivo es muy grande. Tamao mximo permitido: 5MB"});return}try{const te=new Image;te.onload=async function(){d&&d.startsWith("blob:")&&URL.revokeObjectURL(d);const W=400,oe=200;let ae=J,be="";if(this.width>W||this.height>oe){j({tipo:"info",texto:`Redimensionando imagen desde ${this.width}x${this.height} pxeles...`});const he=await R(this,W,oe,J.type),ce=J.type==="image/png"?".png":J.type==="image/gif"?".gif":J.type==="image/webp"?".webp":".jpg";ae=new File([he],`logo_redimensionado${ce}`,{type:J.type}),be=`Imagen redimensionada automticamente desde ${this.width}x${this.height} pxeles`}const ne=URL.createObjectURL(ae);c(ae),f(ne),be?setTimeout(()=>{j({tipo:"success",texto:be})},500):j(""),URL.revokeObjectURL(te.src)},te.onerror=function(){j({tipo:"error",texto:"No se pudo cargar la imagen. Asegrate de que sea un archivo de imagen vlido."}),URL.revokeObjectURL(te.src)};const M=URL.createObjectURL(J);te.src=M}catch(te){console.error("Error procesando imagen:",te),j({tipo:"error",texto:"Error procesando la imagen. Intntalo de nuevo."})}}},z=async()=>{if(!s)return i.logo_url;const ue=s.name.split(".").pop(),J=`logo-${Date.now()}.${ue}`,{data:se,error:U}=await Xe.storage.from("empresa-assets").upload(J,s);if(U)throw U;const{data:{publicUrl:te}}=Xe.storage.from("empresa-assets").getPublicUrl(J);return te},Q=async()=>{g(!0),j("");try{let ue=i.logo_url;s&&(ue=await z());const J={nombre_empresa:i.nombre_empresa,logo_url:ue,mensaje_footer:i.mensaje_footer},{data:se,error:U}=await Xe.from("configuracion_empresa").select("id").maybeSingle();if(se){const{data:M,error:W}=await Xe.from("configuracion_empresa").update(J).eq("id",se.id).select();if(W)throw W}else{const{data:M,error:W}=await Xe.from("configuracion_empresa").insert([J]).select();if(W)throw W}const te={...i,logo_url:ue};o(te),e(te),c(null),N(!0),await r()}catch(ue){console.error("Error guardando configuracin:",ue);let J="Error al guardar la configuracin: "+ue.message;ue.message.includes("row-level security policy")?J="Error de permisos. Necesitas configurar las polticas de seguridad en Supabase.":ue.message.includes("permission denied")?J="Permisos denegados. Verifica la configuracin de RLS en Supabase.":ue.message.includes("relation")&&ue.message.includes("does not exist")&&(J="La tabla configuracion_empresa no existe. Necesitas crearla en Supabase."),j({tipo:"error",texto:J})}finally{g(!1)}};return w?p.jsxs(Pn,{children:[p.jsx(Rn,{to:"/empresa"}),p.jsx(Nr,{children:"Configuracin de Empresa"}),p.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:"Cargando configuracin..."})]}):p.jsxs(Pn,{children:[p.jsx(Rn,{to:"/empresa"}),p.jsx(Nr,{children:"Configuracin de Empresa"}),"      ",p.jsxs(qN,{children:[p.jsxs(og,{children:[p.jsx("label",{htmlFor:"nombre_empresa",children:"Nombre de la Empresa"}),p.jsx(by,{type:"text",id:"nombre_empresa",name:"nombre_empresa",value:i.nombre_empresa,onChange:E,placeholder:"Ej: Mi Taller de Reparaciones"})]}),p.jsxs(og,{children:[p.jsx("label",{htmlFor:"logo",children:"Logo de la Empresa"}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.2rem",marginBottom:"0.5rem"},children:[d?p.jsx(yy,{src:d,alt:"Preview del logo"}):p.jsx(yy,{src:"/TechnoFix/assets/Logo.png",alt:"Logo por defecto TechnoFix"}),p.jsx(Dr,{type:"button",style:{background:"#e57373",color:"#fff"},onClick:()=>{f(""),c(null),o(ue=>({...ue,logo_url:""}))},disabled:h,children:"Quitar logo"})]}),p.jsx(HN,{type:"file",id:"logo",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp",onChange:B}),p.jsxs("small",{style:{color:"#666",display:"block",marginTop:"0.5rem"},children:[p.jsx("strong",{children:" Logo automtico:"}),p.jsx("br",{})," Las imgenes grandes se redimensionan automticamente a 400200px",p.jsx("br",{})," Peso mximo del archivo original: 5MB",p.jsx("br",{})," Formatos: PNG, JPG, GIF, WebP",p.jsx("br",{}),"  ",p.jsx("em",{children:"Sube cualquier imagen y nosotros la ajustamos!"})]})]}),p.jsxs(og,{children:[p.jsx("label",{htmlFor:"mensaje_footer",children:"Mensaje del Footer (PDFs)"}),p.jsx(by,{type:"text",id:"mensaje_footer",name:"mensaje_footer",value:i.mensaje_footer,onChange:E,placeholder:"Ej: Mi Empresa - Sistema de Gestin"})]}),b&&p.jsx(WN,{tipo:b.tipo,children:b.texto}),p.jsx($N,{children:p.jsxs(Dr,{onClick:Q,disabled:h,children:[p.jsx(Rc,{size:16}),p.jsx("span",{children:h?"Guardando...":"Guardar"})]})})]}),C&&p.jsx(Zu,{children:p.jsxs(Ju,{children:[p.jsx(Qu,{style:{color:"#a5c4ca"},children:" Configuracin Guardada"}),p.jsx(ed,{children:"La configuracin de empresa se ha guardado correctamente."}),p.jsx(Nc,{onClick:()=>N(!1),children:"Aceptar"})]})})]})}function VN(){const t=Bs(f=>f.user),e=Bs(f=>f.login),r=Bs(f=>f.logout),i=Ia(),[o,s]=K.useState(!1),[c,d]=K.useState(!0);return K.useEffect(()=>{let f;return(async()=>{f=setTimeout(()=>d(!1),6e3);try{const{data:{user:h}}=await Xe.auth.getUser();if(h){const{data:g}=await Xe.from("usuarios").select("*").eq("uid",h.id).single();g&&g.rol?e(g):r()}else r()}catch{r()}finally{d(!1),clearTimeout(f)}})(),()=>clearTimeout(f)},[e,r]),c?p.jsx("div",{children:"Cargando..."}):p.jsx(WE,{children:p.jsxs(FS,{children:[p.jsx(l7,{}),p.jsxs(Ly,{children:[p.jsx(br,{path:"/login",element:t?p.jsx(Xu,{to:"/",replace:!0}):p.jsx(rN,{onLogin:e})}),p.jsx(br,{path:"/register",element:t?p.jsx(Xu,{to:"/",replace:!0}):p.jsx(Qw,{})}),p.jsx(br,{path:"*",element:t?p.jsxs(qS,{children:[!o&&window.innerWidth<=900&&p.jsx(US,{onClick:()=>s(!0),style:{position:"fixed",top:"18px",left:"18px",zIndex:210,background:"#fff",borderRadius:"50%",boxShadow:"0 2px 8px #404a4c22",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",cursor:"pointer"},children:p.jsx(a_,{size:30,color:"#003459"})}),p.jsx("section",{className:"contentSidebar",children:p.jsx(VE,{user:t,onLogout:r})}),p.jsx("section",{className:"contentMenuHambur",children:p.jsx(GE,{user:t,onLogout:r,open:o,setOpen:s})}),p.jsx("section",{className:"contentRouters",children:p.jsx(Pj,{user:t})}),p.jsx(ym,{})]}):p.jsx(Xu,{to:"/login",replace:!0,state:{from:i}})})]})]})})}const YN=g3.createRoot(document.getElementById("root"));YN.render(p.jsx(cn.StrictMode,{children:p.jsx(N6,{basename:"/TechnoFix",children:p.jsx(VN,{})})}));export{_r as _,XN as c,xy as g};
